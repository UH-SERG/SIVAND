
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def new_form(", "domain", "=", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", ",", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "return", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"], "error_location": [52], "repair_targets": [10, 50], "repair_candidates": [19, 24, 55, 2, 42, 44, 6, 46, 48, 52, 10, 50], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "dimagi/commcare-hq/corehq/apps/export/tests/util.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 283, "results": {"model": "transformer", "prob": {"loc": [[0.001449975068680942, 1.16379217374174e-08, 4.0035146753325535e-08, 2.1083684131895097e-08, 1.2391456749583085e-08, 4.694940436422712e-09, 9.444435455918665e-09, 1.3964733369675741e-08, 3.783245006161451e-07, 1.935861471125122e-09, 2.07702683496791e-07, 3.6219066856801874e-08, 1.8086707243014644e-08, 4.38617631104421e-09, 4.2110949038942636e-07, 3.6109304435427703e-09, 3.2585425913111976e-08, 7.73868862324889e-08, 2.995989945020483e-08, 4.72456662237164e-07, 2.2406254629459e-08, 8.048359489976065e-08, 3.1477878081886956e-08, 5.507379796654277e-08, 1.5652518641218194e-06, 1.067550403632822e-08, 1.8133434753764277e-09, 2.9885931951412203e-08, 7.138326623135072e-07, 7.296259951772299e-08, 3.5559992728195766e-09, 1.2228488444065988e-08, 7.635199694711048e-10, 1.9302444798086071e-07, 9.48400895595114e-08, 2.483374395012561e-08, 2.0410964030048717e-09, 4.455091584532056e-07, 3.011215881087992e-07, 1.1775420638571177e-08, 4.8233492755400675e-09, 5.624836774131836e-08, 1.0362291504861787e-06, 6.186344307934633e-07, 1.985399649129249e-05, 2.857486833818257e-07, 1.903095471789129e-05, 6.685429525532527e-07, 0.8891472220420837, 2.875274276448181e-07, 1.037205038301181e-06, 1.4995852097854367e-06, 0.09899450093507767, 2.3136585696192924e-06, 2.6358554805483436e-06, 0.010353190824389458, 2.981082616315689e-07]], "pointer": [[0.0, 0.0, 1.7731221646499762e-07, 0.0, 0.0, 0.0, 1.3931810372014297e-08, 0.0, 0.0, 0.0, 2.8979553462704644e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.2203852978464056e-08, 0.0, 0.0, 0.0, 0.0, 5.0985331512265475e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.2691187123436976e-07, 0.0, 5.868658337071508e-11, 0.0, 8.522503591734676e-09, 0.0, 3.824667145491123e-12, 0.0, 0.9999706745147705, 0.0, 3.4870537013453884e-11, 0.0, 0.0, 1.1202698768641994e-09, 0.0]], "target": [0.9999996423721313]}, "loss": [2.3126909732818604, 3.576279254957626e-07], "acc": [0.0, 0.0, 1.0, 0.0]}, "wrong_error_location": [48]}


Trace of simplified code(s):

{"result": {"time": "2021-02-21 05:32:07.729776", "n_pass": [1, 1, 1], "n_token": 57, "loss": [0.1174924373626709, 3.576279254957626e-07], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def new_form(", "domain", "=", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", ",", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "return", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"]}}
{"position": {"error_location": 48, "repair_targets": [10, 50], "repair_candidates": [19, 24, 55, 2, 42, 44, 6, 46, 48, 52, 10, 50]}}
{"prediction": {"error_location": 0.8891472220420837, "repair_targets": [2.8979553462704644e-05, 0.9999706745147705], "repair_candidates": [1.7731221646499762e-07, 1.3931810372014297e-08, 2.8979553462704644e-05, 2.2203852978464056e-08, 5.0985331512265475e-08, 1.2691187123436976e-07, 5.868658337071508e-11, 8.522503591734676e-09, 3.824667145491123e-12, 0.9999706745147705, 3.4870537013453884e-11, 1.1202698768641994e-09], "target_probs": 0.9999996423721313}}


{"result": {"time": "2021-02-21 05:32:08.347208", "n_pass": [92, 12, 2], "n_token": 56, "loss": [0.06031210348010063, 8.344653679159819e-07], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["def new_form(", "domain", "=", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", ",", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "return", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"]}}
{"position": {"error_location": 47, "repair_targets": [9, 49], "repair_candidates": [18, 23, 54, 1, 41, 43, 5, 45, 47, 51, 9, 49]}}
{"prediction": {"error_location": 0.941470742225647, "repair_targets": [4.028663897770457e-05, 0.999958872795105], "repair_candidates": [5.630504915643542e-07, 2.7347217823603387e-08, 4.028663897770457e-05, 3.3694156797992036e-08, 3.942711757076722e-08, 8.98840042395932e-08, 9.699648018113294e-08, 1.971291041513723e-08, 4.1773740716566365e-11, 0.999958872795105, 1.168832530762387e-10, 1.4942732606826326e-09], "target_probs": 0.9999991655349731}}


{"result": {"time": "2021-02-21 05:32:08.461300", "n_pass": [95, 14, 3], "n_token": 55, "loss": [0.6545321345329285, 4.1723259869286267e-07], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["def new_form(", "domain", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", ",", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "return", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"]}}
{"position": {"error_location": 46, "repair_targets": [8, 48], "repair_candidates": [17, 22, 53, 1, 40, 42, 4, 44, 46, 50, 8, 48]}}
{"prediction": {"error_location": 0.5196851491928101, "repair_targets": [1.782298568286933e-05, 0.9999817609786987], "repair_candidates": [2.8158765985608625e-07, 3.5797121711311775e-08, 1.782298568286933e-05, 2.0280673140860017e-08, 3.5232798012430067e-08, 8.116472116626028e-08, 2.5119209823287747e-08, 1.5241209183614046e-08, 5.83088854977376e-11, 0.9999817609786987, 4.7405867426020265e-11, 1.7458232637324045e-09], "target_probs": 0.9999995827674866}}


{"result": {"time": "2021-02-21 05:32:09.629089", "n_pass": [178, 35, 4], "n_token": 54, "loss": [0.625280499458313, 1.3709077393286861e-06], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["def new_form(", "domain", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "return", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"]}}
{"position": {"error_location": 45, "repair_targets": [7, 47], "repair_candidates": [16, 21, 52, 1, 39, 41, 4, 43, 45, 49, 7, 47]}}
{"prediction": {"error_location": 0.5351113080978394, "repair_targets": [1.2683577551797498e-05, 0.999985933303833], "repair_candidates": [9.271838052882231e-07, 4.0028773184985766e-08, 1.2683577551797498e-05, 2.736945603487584e-08, 7.321652617520158e-08, 1.9121408456612699e-07, 9.61989172765243e-08, 1.9030254705398875e-08, 1.7588211442820523e-10, 0.999985933303833, 1.6407654401806582e-10, 1.7787231687549365e-09], "target_probs": 0.9999986290931702}}


{"result": {"time": "2021-02-21 05:32:11.139673", "n_pass": [207, 62, 5], "n_token": 53, "loss": [0.6533742547035217, 1.3709077393286861e-06], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["def new_form(", "domain", "DOMAIN", ",", "app_id", "=", "DEFAULT_APP_ID", "xmlns", "=", "DEFAULT_XMLNS", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'_id'", "]", "=", "kwargs", ".", "get", "(", "'_id'", ",", "uuid", ".", "uuid4", "(", ")", ".", "hex", ")", "#NEWLINE#", "XFormInstance", "(", "domain", "=", "domain", ",", "app_id", "=", "app_id", ",", "xmlns", "=", "app_id", ",", "**", "kwargs", ")"]}}
{"position": {"error_location": 44, "repair_targets": [7, 46], "repair_candidates": [16, 21, 51, 1, 38, 40, 4, 42, 44, 48, 7, 46]}}
{"prediction": {"error_location": 0.5202872157096863, "repair_targets": [1.2466508451325353e-05, 0.9999861717224121], "repair_candidates": [9.284431712330843e-07, 3.556297301088307e-08, 1.2466508451325353e-05, 3.1809989309294906e-08, 7.221407827273651e-08, 1.380315524102116e-07, 5.196477204094663e-08, 1.7792773476799084e-08, 2.040148189275115e-10, 0.9999861717224121, 1.5907640482648588e-10, 1.8492376518963738e-09], "target_probs": 0.9999986290931702}}




Minimal simplified tokens:

['def new_form(', 'domain', 'DOMAIN', ',', 'app_id', '=', 'DEFAULT_APP_ID', 'xmlns', '=', 'DEFAULT_XMLNS', ',', '**kwargs', ')', ':', '#NEWLINE#', '#INDENT#', 'kwargs', '[', "'_id'", ']', '=', 'kwargs', '.', 'get', '(', "'_id'", ',', 'uuid', '.', 'uuid4', '(', ')', '.', 'hex', ')', '#NEWLINE#', 'XFormInstance', '(', 'domain', '=', 'domain', ',', 'app_id', '=', 'app_id', ',', 'xmlns', '=', 'app_id', ',', '**', 'kwargs', ')']
