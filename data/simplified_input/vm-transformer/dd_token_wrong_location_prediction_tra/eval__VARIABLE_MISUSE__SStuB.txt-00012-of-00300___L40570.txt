
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "@", "decorator", ".", "cache_never", "#NEWLINE#", "def login_logout(", "request", ")", ":", "#NEWLINE#", "#INDENT#", "request", ".", "user", "=", "None", "#NEWLINE#", "redirect_to", "=", "'/'", "#NEWLINE#", "flash", "=", "(", "'You have signed out! You are no longer signed in to %s'", "%", "util", ".", "get_metadata", "(", "'SITE_NAME'", ")", ")", "#NEWLINE#", "c", "=", "template", ".", "RequestContext", "(", "request", ",", "locals", "(", ")", ")", "#NEWLINE#", "t", "=", "loader", ".", "get_template", "(", "'login/templates/logout.html'", ")", "#NEWLINE#", "response", "=", "util", ".", "RedirectFlash", "(", "redirect_to", ",", "c", ")", "#NEWLINE#", "response", "=", "user", ".", "clear_user_cookie", "(", "response", ")", "#NEWLINE#", "return", "response"], "error_location": [65], "repair_targets": [22], "repair_candidates": [57, 68, 74, 78, 22, 48, 18, 63, 35, 65, 7, 12, 41], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "CollabQ/CollabQ/login/views.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00012-of-00300", "js_count": 40570, "results": {"model": "transformer", "prob": {"loc": [[0.13504905998706818, 3.227719162168796e-06, 1.3074181026695442e-07, 7.07147336242997e-08, 5.347324716353796e-08, 9.026473435369553e-08, 6.043304523473125e-08, 7.096662102412665e-07, 2.4630757877730503e-08, 3.460407427269274e-08, 3.680887417090162e-08, 2.9437412507604677e-08, 2.2604577054607944e-07, 2.837357371276994e-08, 7.75715580658698e-09, 1.0263648420050231e-07, 5.906913429498672e-07, 9.47070262213856e-08, 3.423108978495293e-07, 8.032983345174216e-08, 2.26747806664207e-06, 1.1591503579211349e-07, 9.60089550972043e-07, 2.2396049814688013e-07, 3.1573043202115514e-07, 9.755599421623629e-06, 1.9699946278706193e-06, 7.014615732714446e-08, 1.0540583872398201e-07, 8.552130559280613e-09, 1.8184753116656793e-06, 2.8686785299214534e-05, 8.599332431913354e-06, 6.843183200544445e-06, 2.035990064541693e-06, 1.0902116628130898e-05, 6.592045451725426e-07, 4.4931233844636154e-08, 9.822769442280332e-08, 2.3614596500465268e-07, 1.6258727555396035e-06, 0.3450621962547302, 5.469541520142229e-06, 3.271375703661761e-07, 0.0001288470666622743, 5.9526402765186504e-05, 1.7181493603857234e-05, 1.815021641959902e-05, 7.094075044733472e-06, 7.847569349905825e-07, 4.150976096184422e-08, 5.984389872537577e-07, 4.0914095222888136e-08, 3.3531864573888015e-06, 0.00041723271715454757, 4.528473800746724e-05, 3.629075945354998e-05, 4.478358096093871e-05, 4.3731736809604627e-07, 5.780976763958279e-08, 5.426301754596352e-07, 2.8161328373244032e-05, 5.654471351590473e-06, 0.39977750182151794, 2.2145708499010652e-05, 0.03907925263047218, 0.00012954864359926432, 1.4549782463291194e-05, 7.38750441087177e-06, 4.34928963954917e-08, 2.582609681667236e-07, 3.594030886233668e-07, 1.5470416769858275e-07, 8.002043614396825e-07, 0.04774629697203636, 3.204386302968487e-05, 1.4618573004554491e-05, 1.4715014913235791e-05, 0.03214583918452263]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00034240257809869945, 0.0, 0.0, 0.0, 0.0, 0.00023838694323785603, 0.0, 0.0, 0.0, 0.0, 0.0, 0.001958991400897503, 0.0, 0.0, 0.0, 0.5473046898841858, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0003252358583267778, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0001396352454321459, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4488171935081482, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00018182034546043724, 0.0, 0.0, 0.0, 0.0, 0.0, 5.440980203275103e-06, 0.0, 1.3933565696788719e-06, 0.0, 0.0, 0.0006809241021983325, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0182599769213994e-07, 0.0, 0.0, 0.0, 3.7244262784952298e-06]], "target": [0.5473046898841858]}, "loss": [3.2421634197235107, 0.6027495861053467], "acc": [0.0, 0.0, 1.0, 0.0]}, "wrong_error_location": [63]}


Trace of simplified code(s):

{"result": {"time": "2021-02-21 07:01:56.706409", "n_pass": [1, 1, 1], "n_token": 79, "loss": [0.9168470501899719, 0.6027495861053467], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "decorator", ".", "cache_never", "#NEWLINE#", "def login_logout(", "request", ")", ":", "#NEWLINE#", "#INDENT#", "request", ".", "user", "=", "None", "#NEWLINE#", "redirect_to", "=", "'/'", "#NEWLINE#", "flash", "=", "(", "'You have signed out! You are no longer signed in to %s'", "%", "util", ".", "get_metadata", "(", "'SITE_NAME'", ")", ")", "#NEWLINE#", "c", "=", "template", ".", "RequestContext", "(", "request", ",", "locals", "(", ")", ")", "#NEWLINE#", "t", "=", "loader", ".", "get_template", "(", "'login/templates/logout.html'", ")", "#NEWLINE#", "response", "=", "util", ".", "RedirectFlash", "(", "redirect_to", ",", "c", ")", "#NEWLINE#", "response", "=", "user", ".", "clear_user_cookie", "(", "response", ")", "#NEWLINE#", "return", "response"]}}
{"position": {"error_location": 63, "repair_targets": [22], "repair_candidates": [57, 68, 74, 78, 22, 48, 18, 63, 35, 65, 7, 12, 41]}}
{"prediction": {"error_location": 0.39977750182151794, "repair_targets": [0.5473046898841858], "repair_candidates": [0.00034240257809869945, 0.00023838694323785603, 0.001958991400897503, 0.5473046898841858, 0.0003252358583267778, 0.0001396352454321459, 0.4488171935081482, 0.00018182034546043724, 5.440980203275103e-06, 1.3933565696788719e-06, 0.0006809241021983325, 2.0182599769213994e-07, 3.7244262784952298e-06], "target_probs": 0.5473046898841858}}


{"result": {"time": "2021-02-21 07:01:57.572680", "n_pass": [105, 16, 2], "n_token": 77, "loss": [1.1668155193328857, 0.6805881857872009], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "decorator", ".", "cache_never", "#NEWLINE#", "def login_logout(", "request", ")", ":", "#NEWLINE#", "#INDENT#", "request", ".", "user", "=", "None", "#NEWLINE#", "redirect_to", "=", "'/'", "#NEWLINE#", "flash", "=", "(", "'You have signed out! You are no longer signed in to %s'", ".", "get_metadata", "(", "'SITE_NAME'", ")", ")", "#NEWLINE#", "c", "=", "template", ".", "RequestContext", "(", "request", ",", "locals", "(", ")", ")", "#NEWLINE#", "t", "=", "loader", ".", "get_template", "(", "'login/templates/logout.html'", ")", "#NEWLINE#", "response", "=", "util", ".", "RedirectFlash", "(", "redirect_to", ",", "c", ")", "#NEWLINE#", "response", "=", "user", ".", "clear_user_cookie", "(", "response", ")", "#NEWLINE#", "return", "response"]}}
{"position": {"error_location": 61, "repair_targets": [22], "repair_candidates": [55, 66, 72, 76, 22, 46, 18, 61, 33, 63, 7, 12, 39]}}
{"prediction": {"error_location": 0.3113568425178528, "repair_targets": [0.5063191056251526], "repair_candidates": [0.0005053668282926083, 0.00031609865254722536, 0.003297134069725871, 0.5063191056251526, 0.0007219932740554214, 0.00015772640472278, 0.48733603954315186, 0.00036654778523370624, 1.1042631740565412e-05, 4.595998234435683e-06, 0.0009581203921698034, 3.707235691763344e-07, 5.866403171239654e-06], "target_probs": 0.5063191056251526}}




Minimal simplified tokens:

['#NEWLINE#', '@', 'decorator', '.', 'cache_never', '#NEWLINE#', 'def login_logout(', 'request', ')', ':', '#NEWLINE#', '#INDENT#', 'request', '.', 'user', '=', 'None', '#NEWLINE#', 'redirect_to', '=', "'/'", '#NEWLINE#', 'flash', '=', '(', "'You have signed out! You are no longer signed in to %s'", '.', 'get_metadata', '(', "'SITE_NAME'", ')', ')', '#NEWLINE#', 'c', '=', 'template', '.', 'RequestContext', '(', 'request', ',', 'locals', '(', ')', ')', '#NEWLINE#', 't', '=', 'loader', '.', 'get_template', '(', "'login/templates/logout.html'", ')', '#NEWLINE#', 'response', '=', 'util', '.', 'RedirectFlash', '(', 'redirect_to', ',', 'c', ')', '#NEWLINE#', 'response', '=', 'user', '.', 'clear_user_cookie', '(', 'response', ')', '#NEWLINE#', 'return', 'response']
