
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_join_option_types(", ")", ":", "#NEWLINE#", "#INDENT#", "a", "=", "symbol", "(", "'a'", ",", "'var * {x: ?int}'", ")", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "a", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")"], "error_location": [47], "repair_targets": [15, 30], "repair_candidates": [6, 28, 47, 49, 15, 30], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "blaze/blaze/blaze/expr/tests/test_collections.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00003-of-00300", "js_count": 12306, "results": {"model": "transformer", "prob": {"loc": [[0.021785307675600052, 1.4585656060717156e-07, 1.7442856048432986e-08, 2.127833198528606e-08, 1.568627716608262e-08, 1.3676675791884918e-08, 1.1289963453009477e-07, 2.2484687889345878e-08, 1.0201416600352786e-08, 6.996112489332518e-08, 5.3307935843349696e-08, 3.3648607455916135e-08, 2.25507879036968e-08, 1.533848958956696e-08, 1.2651824476961337e-08, 7.315467200896819e-07, 2.418201994203173e-08, 1.4662997038783487e-08, 1.5309795742268761e-07, 1.5008752995981922e-07, 1.5544559062163898e-07, 2.1489923085482587e-07, 5.943437741962043e-08, 5.8955436088581337e-08, 6.421070963824604e-08, 2.2956429646114884e-08, 4.2498200514273776e-08, 1.282078159192679e-07, 0.0016860722098499537, 5.600699637398066e-07, 8.151286601787433e-05, 4.447213939329231e-07, 2.3721322861547378e-07, 1.119074909183837e-06, 6.075650560433132e-08, 2.1510603076535517e-08, 1.4277377147209336e-07, 2.3404380655733803e-08, 6.855199785604782e-07, 1.7199786270793993e-06, 5.015227770854835e-07, 1.721287219424994e-07, 1.9434349951552576e-07, 7.12945933400988e-08, 2.4623671990298135e-08, 1.8510142751893e-07, 5.916820668971923e-07, 0.11521552503108978, 7.705686471126683e-07, 0.8612127900123596, 4.7578276962667587e-07, 9.95034383777238e-07, 1.4275424291554373e-06, 1.0991733745413512e-07, 5.834776928281826e-08, 3.1450352366846346e-07, 1.0108268355679684e-07, 2.6507264010433573e-06, 1.9810127014352474e-06, 3.6271217140892986e-07, 3.6872600617243734e-07]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000589247967582196, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5553119778633118, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0005045009893365204, 0.0, 0.4434700608253479, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.181137572028092e-06, 0.0, 0.0001210651098517701, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9987820386886597]}, "loss": [2.1609508991241455, 0.0012187035754323006], "acc": [0.0, 0.0, 1.0, 0.0]}, "wrong_error_location": [49]}


Trace of simplified code(s):

{"result": {"time": "2021-02-21 05:55:30.216334", "n_pass": [1, 1, 1], "n_token": 61, "loss": [0.14941374957561493, 0.0012187035754323006], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def test_join_option_types(", ")", ":", "#NEWLINE#", "#INDENT#", "a", "=", "symbol", "(", "'a'", ",", "'var * {x: ?int}'", ")", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "a", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")"]}}
{"position": {"error_location": 49, "repair_targets": [15, 30], "repair_candidates": [6, 28, 47, 49, 15, 30]}}
{"prediction": {"error_location": 0.8612127900123596, "repair_targets": [0.5553119778633118, 0.4434700608253479], "repair_candidates": [0.000589247967582196, 0.5553119778633118, 0.0005045009893365204, 0.4434700608253479, 3.181137572028092e-06, 0.0001210651098517701], "target_probs": 0.9987820386886597}}


{"result": {"time": "2021-02-21 05:55:30.273157", "n_pass": [21, 2, 2], "n_token": 54, "loss": [0.14786416292190552, 0.0001776376157067716], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def test_join_option_types(", ")", ":", "#NEWLINE#", "#INDENT#", "a", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "a", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")"]}}
{"position": {"error_location": 42, "repair_targets": [8, 23], "repair_candidates": [6, 21, 40, 42, 8, 23]}}
{"prediction": {"error_location": 0.8625481724739075, "repair_targets": [0.35992202162742615, 0.6399003267288208], "repair_candidates": [1.1440197340562008e-05, 0.35992202162742615, 0.0001419252948835492, 0.6399003267288208, 2.2764983498291258e-07, 2.3999644326977432e-05], "target_probs": 0.9998223781585693}}


{"result": {"time": "2021-02-21 05:55:30.329768", "n_pass": [25, 3, 3], "n_token": 46, "loss": [0.3471948802471161, 0.0001812145346775651], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def test_join_option_types(", ")", ":", "#NEWLINE#", "#INDENT#", "a", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")", ".", "dshape", "==", "dshape", "(", "'var * {x: int}'", ")", ")"]}}
{"position": {"error_location": 34, "repair_targets": [8, 23], "repair_candidates": [6, 21, 32, 34, 8, 23]}}
{"prediction": {"error_location": 0.7066674828529358, "repair_targets": [0.421444833278656, 0.5783739686012268], "repair_candidates": [1.344392239843728e-05, 0.421444833278656, 3.0110372790659312e-06, 0.5783739686012268, 6.0290194596746005e-06, 0.0001586118305567652], "target_probs": 0.9998188018798828}}


{"result": {"time": "2021-02-21 05:55:30.385992", "n_pass": [27, 4, 4], "n_token": 38, "loss": [0.09775976836681366, 9.536747711536009e-07], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def test_join_option_types(", ")", ":", "#NEWLINE#", "#INDENT#", "a", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 34, "repair_targets": [8, 23], "repair_candidates": [6, 21, 32, 34, 8, 23]}}
{"prediction": {"error_location": 0.9068668484687805, "repair_targets": [0.5128594636917114, 0.48713961243629456], "repair_candidates": [4.1277058926425525e-07, 0.5128594636917114, 1.4218199062554504e-08, 0.48713961243629456, 9.735013684064597e-09, 5.531598503694113e-07], "target_probs": 0.9999990463256836}}


{"result": {"time": "2021-02-21 05:55:30.442383", "n_pass": [43, 5, 5], "n_token": 35, "loss": [0.1431770771741867, 2.9206701583461836e-05], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": [":", "#NEWLINE#", "#INDENT#", "a", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 31, "repair_targets": [5, 20], "repair_candidates": [3, 18, 29, 31, 5, 20]}}
{"prediction": {"error_location": 0.8666006922721863, "repair_targets": [0.7357950210571289, 0.26417580246925354], "repair_candidates": [2.813923310895916e-05, 0.7357950210571289, 1.42703882488604e-07, 0.26417580246925354, 2.991697911625124e-08, 7.885867603363295e-07], "target_probs": 0.9999707937240601}}


{"result": {"time": "2021-02-21 05:55:30.498356", "n_pass": [44, 6, 6], "n_token": 32, "loss": [0.6983197331428528, 0.028007090091705322], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "symbol", "(", "'b'", ",", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 28, "repair_targets": [2, 17], "repair_candidates": [0, 15, 26, 28, 2, 17]}}
{"prediction": {"error_location": 0.49742045998573303, "repair_targets": [0.3134743273258209, 0.6589071750640869], "repair_candidates": [0.027598729357123375, 0.3134743273258209, 3.4528902688180096e-06, 0.6589071750640869, 3.205361963409814e-06, 1.3126626072335057e-05], "target_probs": 0.9723814725875854}}


{"result": {"time": "2021-02-21 05:55:30.557006", "n_pass": [46, 7, 7], "n_token": 28, "loss": [0.32258516550064087, 0.036534037441015244], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "'var * {x: int}'", ")", "#NEWLINE#", "assert", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 24, "repair_targets": [2, 13], "repair_candidates": [0, 11, 22, 24, 2, 13]}}
{"prediction": {"error_location": 0.7242741584777832, "repair_targets": [0.1278740018606186, 0.8362512588500977], "repair_candidates": [0.0358174666762352, 0.1278740018606186, 1.4988567272666842e-05, 0.8362512588500977, 7.180600277933991e-06, 3.503914922475815e-05], "target_probs": 0.9641252756118774}}


{"result": {"time": "2021-02-21 05:55:30.612565", "n_pass": [47, 8, 8], "n_token": 24, "loss": [0.17358283698558807, 0.00402951380237937], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "join", "(", "a", ",", "b", ",", "'x'", ")", ".", "dshape", "==", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 20, "repair_targets": [2, 9], "repair_candidates": [0, 7, 18, 20, 2, 9]}}
{"prediction": {"error_location": 0.8406475782394409, "repair_targets": [0.32141226530075073, 0.6745663285255432], "repair_candidates": [0.004018697421997786, 0.32141226530075073, 2.4406938337051542e-06, 0.6745663285255432, 6.105532435185523e-08, 1.8441068050378817e-07], "target_probs": 0.995978593826294}}


{"result": {"time": "2021-02-21 05:55:30.667988", "n_pass": [50, 9, 9], "n_token": 20, "loss": [0.1483120620250702, 0.0029759537428617477], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "join", "(", "a", ",", "b", ",", "'x'", "join", "(", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 16, "repair_targets": [2, 9], "repair_candidates": [0, 7, 14, 16, 2, 9]}}
{"prediction": {"error_location": 0.8621619343757629, "repair_targets": [0.2789354622364044, 0.7180929780006409], "repair_candidates": [0.00295763136819005, 0.2789354622364044, 1.3479627341439482e-05, 0.7180929780006409, 1.743501911732892e-07, 2.7888989961866173e-07], "target_probs": 0.9970284700393677}}


{"result": {"time": "2021-02-21 05:55:30.724257", "n_pass": [66, 10, 10], "n_token": 18, "loss": [0.6692060828208923, 0.053073618561029434], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "join", "(", "a", ",", "b", ",", "'x'", "a", ",", "a", ",", "'x'", ")"]}}
{"position": {"error_location": 14, "repair_targets": [2, 9], "repair_candidates": [0, 7, 12, 14, 2, 9]}}
{"prediction": {"error_location": 0.512114942073822, "repair_targets": [0.333761990070343, 0.6145482063293457], "repair_candidates": [0.04884599149227142, 0.333761990070343, 0.0027284601237624884, 0.6145482063293457, 7.634300709469244e-05, 3.9050468330970034e-05], "target_probs": 0.9483101963996887}}


{"result": {"time": "2021-02-21 05:55:30.779954", "n_pass": [68, 11, 11], "n_token": 16, "loss": [0.49474233388900757, 0.12316026538610458], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "join", "(", "a", ",", "b", ",", "'x'", "a", ",", "a", ","]}}
{"position": {"error_location": 14, "repair_targets": [2, 9], "repair_candidates": [0, 7, 12, 14, 2, 9]}}
{"prediction": {"error_location": 0.6097280383110046, "repair_targets": [0.25432395935058594, 0.6297979950904846], "repair_candidates": [0.1138792559504509, 0.25432395935058594, 0.0019423086196184158, 0.6297979950904846, 2.85165060631698e-05, 2.79674022749532e-05], "target_probs": 0.8841219544410706}}


{"result": {"time": "2021-02-21 05:55:30.835677", "n_pass": [71, 12, 12], "n_token": 14, "loss": [0.197779580950737, 0.02065085619688034], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "a", ",", "b", ",", "'x'", "a", ",", "a", ","]}}
{"position": {"error_location": 12, "repair_targets": [2, 7], "repair_candidates": [0, 5, 10, 12, 2, 7]}}
{"prediction": {"error_location": 0.8205506801605225, "repair_targets": [0.2138613611459732, 0.765699565410614], "repair_candidates": [0.019621966406702995, 0.2138613611459732, 0.0006060004234313965, 0.765699565410614, 0.00018908476340584457, 2.2072679712437093e-05], "target_probs": 0.979560911655426}}


{"result": {"time": "2021-02-21 05:55:30.893441", "n_pass": [74, 13, 13], "n_token": 12, "loss": [0.007492654491215944, 0.33872780203819275], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "a", ",", "b", "a", ",", "a", ","]}}
{"position": {"error_location": 10, "repair_targets": [2, 7], "repair_candidates": [0, 5, 8, 10, 2, 7]}}
{"prediction": {"error_location": 0.9925354719161987, "repair_targets": [0.4131457805633545, 0.29953065514564514], "repair_candidates": [0.0898212119936943, 0.4131457805633545, 0.1600855141878128, 0.29953065514564514, 0.035383839160203934, 0.0020330315455794334], "target_probs": 0.7126764059066772}}


{"result": {"time": "2021-02-21 05:55:30.949213", "n_pass": [94, 14, 14], "n_token": 11, "loss": [0.17579719424247742, 0.2693871557712555], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "a", ",", "b", "a", "a", ","]}}
{"position": {"error_location": 9, "repair_targets": [2, 7], "repair_candidates": [0, 5, 8, 9, 2, 7]}}
{"prediction": {"error_location": 0.8387880921363831, "repair_targets": [0.6760832667350769, 0.0877641886472702], "repair_candidates": [0.04051817208528519, 0.6760832667350769, 0.1821933388710022, 0.0877641886472702, 0.010302143171429634, 0.0031388255301862955], "target_probs": 0.7638474702835083}}


{"result": {"time": "2021-02-21 05:55:31.004658", "n_pass": [96, 15, 15], "n_token": 10, "loss": [0.4221355617046356, 0.20497585833072662], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "#NEWLINE#", "b", "=", "(", "a", ",", "b", "a", "a"]}}
{"position": {"error_location": 9, "repair_targets": [2, 7], "repair_candidates": [0, 5, 8, 9, 2, 7]}}
{"prediction": {"error_location": 0.6556451320648193, "repair_targets": [0.7665731906890869, 0.048093777149915695], "repair_candidates": [0.06104603782296181, 0.7665731906890869, 0.11396829038858414, 0.048093777149915695, 0.007877309806644917, 0.0024413878563791513], "target_probs": 0.8146669864654541}}


{"result": {"time": "2021-02-21 05:55:31.059993", "n_pass": [98, 16, 16], "n_token": 9, "loss": [0.7785278558731079, 0.30014002323150635], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "b", "=", "(", "a", ",", "b", "a", "a"]}}
{"position": {"error_location": 8, "repair_targets": [1, 6], "repair_candidates": [0, 4, 7, 8, 1, 6]}}
{"prediction": {"error_location": 0.45908135175704956, "repair_targets": [0.7398605346679688, 0.000853952020406723], "repair_candidates": [0.2569253444671631, 0.7398605346679688, 0.0018997590523213148, 0.000853952020406723, 0.0002914797514677048, 0.00016885611694306135], "target_probs": 0.7407144904136658}}


{"result": {"time": "2021-02-21 05:55:31.228230", "n_pass": [103, 19, 17], "n_token": 8, "loss": [0.7650998830795288, 0.10405327379703522], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "b", "=", "(", "a", "b", "a", "a"]}}
{"position": {"error_location": 7, "repair_targets": [1, 5], "repair_candidates": [0, 4, 6, 7, 1, 5]}}
{"prediction": {"error_location": 0.4652875065803528, "repair_targets": [0.896803617477417, 0.004373698495328426], "repair_candidates": [0.08899816125631332, 0.896803617477417, 0.006705727428197861, 0.004373698495328426, 0.00199197418987751, 0.0011267757508903742], "target_probs": 0.9011772871017456}}


{"result": {"time": "2021-02-21 05:55:31.283429", "n_pass": [109, 20, 18], "n_token": 7, "loss": [0.6289044618606567, 0.08671047538518906], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["a", "b", "(", "a", "b", "a", "a"]}}
{"position": {"error_location": 6, "repair_targets": [1, 4], "repair_candidates": [0, 3, 5, 6, 1, 4]}}
{"prediction": {"error_location": 0.5331755876541138, "repair_targets": [0.9015148282051086, 0.015427710488438606], "repair_candidates": [0.0480840727686882, 0.9015148282051086, 0.020554853603243828, 0.015427710488438606, 0.011014568619430065, 0.0034039767924696207], "target_probs": 0.9169425368309021}}




Minimal simplified tokens:

['a', 'b', '(', 'a', 'b', 'a', 'a']
