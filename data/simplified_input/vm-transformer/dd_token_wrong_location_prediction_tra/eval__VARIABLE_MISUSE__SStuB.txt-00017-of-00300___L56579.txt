
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def enqueue_req(", "self", ",", "conn", ")", ":", "#NEWLINE#", "#INDENT#", "conn", ".", "init", "(", ")", "#NEWLINE#", "fs", "=", "self", ".", "tpool", ".", "submit", "(", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"], "error_location": [34], "repair_targets": [15], "repair_candidates": [4, 9, 27, 34, 36, 2, 17, 23, 30, 15], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "RoseOu/flasky/venv/lib/python2.7/site-packages/gunicorn/workers/gthread.py", "license": "mit", "note": "license: github_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00017-of-00300", "js_count": 56579, "results": {"model": "transformer", "prob": {"loc": [[0.00023901356325950474, 2.9873172824324e-09, 4.3375664171563244e-10, 2.1080098777659373e-10, 6.940437113911457e-09, 2.2435796276365494e-10, 4.1978553966259824e-10, 3.121616853896114e-10, 2.3670451709811857e-10, 4.1122902305623654e-10, 1.1899618790334188e-10, 8.605044454768063e-11, 5.656004109511059e-09, 9.090927455268627e-10, 2.560675282925473e-10, 4.187919344644797e-08, 1.34081717950707e-10, 8.079630298141183e-09, 1.56109056237419e-10, 5.829208643559625e-11, 4.693374022757268e-10, 7.619765235444831e-11, 5.965195004620227e-10, 1.1436552540544653e-06, 6.113881068081639e-10, 1.1183370202116905e-10, 1.0113594406391258e-09, 0.0001680088316788897, 7.114367761573703e-09, 2.589843450806484e-09, 5.606297204252542e-09, 6.655302975389077e-10, 4.733747074880945e-11, 1.2407832095107096e-08, 0.04416563734412193, 2.1257289262166523e-08, 0.9554259181022644, 1.8852459504614671e-07]], "pointer": [[0.0, 0.0, 5.49294964002911e-05, 0.0, 2.3480612071580254e-05, 0.0, 0.0, 0.0, 0.0, 0.00019109465938527137, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9997231364250183, 0.0, 2.9188156531745335e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 3.60355829798209e-06, 0.0, 0.0, 0.0, 4.062227390022599e-07, 0.0, 0.0, 5.047998001828091e-07, 0.0, 0.0, 0.0, 6.609100822174696e-09, 0.0, 1.238459823582616e-08, 0.0]], "target": [0.9997231364250183]}, "loss": [3.1198084354400635, 0.00027690190472640097], "acc": [0.0, 0.0, 1.0, 0.0]}, "wrong_error_location": [36]}


Trace of simplified code(s):

{"result": {"time": "2021-02-21 07:32:32.236376", "n_pass": [1, 1, 1], "n_token": 38, "loss": [0.045598167926073074, 0.00027690190472640097], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def enqueue_req(", "self", ",", "conn", ")", ":", "#NEWLINE#", "#INDENT#", "conn", ".", "init", "(", ")", "#NEWLINE#", "fs", "=", "self", ".", "tpool", ".", "submit", "(", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 36, "repair_targets": [15], "repair_candidates": [4, 9, 27, 34, 36, 2, 17, 23, 30, 15]}}
{"prediction": {"error_location": 0.9554259181022644, "repair_targets": [0.9997231364250183], "repair_candidates": [5.49294964002911e-05, 2.3480612071580254e-05, 0.00019109465938527137, 0.9997231364250183, 2.9188156531745335e-06, 3.60355829798209e-06, 4.062227390022599e-07, 5.047998001828091e-07, 6.609100822174696e-09, 1.238459823582616e-08], "target_probs": 0.9997231364250183}}


{"result": {"time": "2021-02-21 07:32:32.293706", "n_pass": [24, 2, 2], "n_token": 33, "loss": [0.16093792021274567, 0.0006191262509673834], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def enqueue_req(", "self", ",", "conn", ")", ":", "#NEWLINE#", "#INDENT#", "conn", ".", "init", "(", ")", "#NEWLINE#", "fs", "=", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 31, "repair_targets": [15], "repair_candidates": [4, 9, 22, 29, 31, 2, 17, 18, 25, 15]}}
{"prediction": {"error_location": 0.8513450026512146, "repair_targets": [0.9993810653686523], "repair_candidates": [0.00011018203076673672, 3.47081950167194e-05, 0.000441287033027038, 0.9993810653686523, 1.2304482879699208e-05, 1.3454060535877943e-05, 4.797357632924104e-06, 2.0960180791007588e-06, 4.3788670467392876e-08, 1.6839713623539865e-08], "target_probs": 0.9993810653686523}}


{"result": {"time": "2021-02-21 07:32:32.351049", "n_pass": [51, 3, 3], "n_token": 31, "loss": [0.15601888298988342, 0.001071609789505601], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", ":", "#NEWLINE#", "#INDENT#", "conn", ".", "init", "(", ")", "#NEWLINE#", "fs", "=", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 29, "repair_targets": [13], "repair_candidates": [2, 7, 20, 27, 29, 0, 15, 16, 23, 13]}}
{"prediction": {"error_location": 0.8555430173873901, "repair_targets": [0.998928964138031], "repair_candidates": [0.00016068347031250596, 1.3607428627437912e-05, 0.0008838970097713172, 0.998928964138031, 4.184303634247044e-06, 4.126923158764839e-06, 1.145673991231888e-06, 3.3090625493059633e-06, 5.502833744230884e-08, 1.2804597382398697e-08], "target_probs": 0.998928964138031}}


{"result": {"time": "2021-02-21 07:32:32.407721", "n_pass": [53, 4, 4], "n_token": 29, "loss": [0.26619550585746765, 0.0014947493327781558], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", ".", "init", "(", ")", "#NEWLINE#", "fs", "=", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 27, "repair_targets": [11], "repair_candidates": [2, 5, 18, 25, 27, 0, 13, 14, 21, 11]}}
{"prediction": {"error_location": 0.766289234161377, "repair_targets": [0.9985063672065735], "repair_candidates": [0.00014177619596011937, 9.137170854955912e-05, 0.0012368495808914304, 0.9985063672065735, 8.388677997572813e-06, 8.473181878798641e-06, 3.851170617963362e-07, 6.142727670521708e-06, 1.2201661547805998e-07, 1.536979965521823e-08], "target_probs": 0.9985063672065735}}


{"result": {"time": "2021-02-21 07:32:32.520420", "n_pass": [56, 6, 5], "n_token": 27, "loss": [0.45868808031082153, 0.0002726092061493546], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", ".", "init", "#NEWLINE#", "fs", "=", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 25, "repair_targets": [9], "repair_candidates": [2, 5, 16, 23, 25, 0, 11, 12, 19, 9]}}
{"prediction": {"error_location": 0.6321123838424683, "repair_targets": [0.9997274279594421], "repair_candidates": [6.73989561619237e-05, 3.012026172655169e-05, 0.00010533728345762938, 0.9997274279594421, 2.249336102977395e-05, 2.581162152637262e-05, 8.304970151584712e-07, 2.047637644864153e-05, 4.517329443842755e-08, 2.232634699339542e-08], "target_probs": 0.9997274279594421}}


{"result": {"time": "2021-02-21 07:32:32.580338", "n_pass": [67, 7, 6], "n_token": 25, "loss": [0.5691931247711182, 0.0001899780472740531], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "=", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 23, "repair_targets": [7], "repair_candidates": [2, 5, 14, 21, 23, 0, 9, 10, 17, 7]}}
{"prediction": {"error_location": 0.565981924533844, "repair_targets": [0.9998100399971008], "repair_candidates": [4.177620940026827e-05, 5.233024057815783e-05, 6.288960867095739e-05, 0.9998100399971008, 1.1350217391736805e-05, 1.2806490303773899e-05, 5.249611149338307e-06, 3.3898047604452586e-06, 7.083174580202467e-08, 2.9002499957186956e-08], "target_probs": 0.9998100399971008}}


{"result": {"time": "2021-02-21 07:32:32.693035", "n_pass": [100, 9, 7], "n_token": 24, "loss": [0.9150756001472473, 0.020682254806160927], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", ".", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 22, "repair_targets": [7], "repair_candidates": [2, 5, 13, 20, 22, 0, 8, 9, 16, 7]}}
{"prediction": {"error_location": 0.4004863202571869, "repair_targets": [0.9795301556587219], "repair_candidates": [0.007237871177494526, 0.002654734067618847, 0.00416591577231884, 0.9795301556587219, 0.0035142472479492426, 0.00227545783855021, 0.00020486950234044343, 0.00041529384907335043, 1.2699654234893387e-06, 2.244358086045395e-07], "target_probs": 0.9795301556587219}}


{"result": {"time": "2021-02-21 07:32:32.748999", "n_pass": [102, 10, 8], "n_token": 23, "loss": [0.36359986662864685, 0.22243449091911316], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", "handle", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 21, "repair_targets": [7], "repair_candidates": [2, 5, 12, 19, 21, 0, 8, 9, 15, 7]}}
{"prediction": {"error_location": 0.6951693296432495, "repair_targets": [0.8005674481391907], "repair_candidates": [0.01372150145471096, 0.014555255882441998, 0.03460755571722984, 0.8005674481391907, 0.030981598421931267, 0.05241953954100609, 0.0523548386991024, 0.0007853577844798565, 4.891882326774066e-06, 2.0768638933077455e-06], "target_probs": 0.8005674481391907}}


{"result": {"time": "2021-02-21 07:32:32.804372", "n_pass": [103, 11, 9], "n_token": 22, "loss": [0.4885607957839966, 0.06808885931968689], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", ",", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 20, "repair_targets": [7], "repair_candidates": [2, 5, 11, 18, 20, 0, 8, 9, 14, 7]}}
{"prediction": {"error_location": 0.6135087609291077, "repair_targets": [0.9341774582862854], "repair_candidates": [0.0077032530680298805, 0.008977159857749939, 0.013568880967795849, 0.9341774582862854, 0.011317494325339794, 0.0149095319211483, 0.008900942280888557, 0.0004436842573340982, 1.3209413509684964e-06, 2.704857990920573e-07], "target_probs": 0.9341774582862854}}


{"result": {"time": "2021-02-21 07:32:32.860726", "n_pass": [104, 12, 10], "n_token": 21, "loss": [0.42891648411750793, 0.10674837231636047], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", "conn", ")", "#NEWLINE#", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 19, "repair_targets": [7], "repair_candidates": [2, 5, 10, 17, 19, 0, 8, 9, 13, 7]}}
{"prediction": {"error_location": 0.6512143611907959, "repair_targets": [0.8987517952919006], "repair_candidates": [0.008130928501486778, 0.017764411866664886, 0.015790939331054688, 0.8987517952919006, 0.011920751072466373, 0.015395468100905418, 0.03164362907409668, 0.0005974306841380894, 3.945282060158206e-06, 6.24052120201668e-07], "target_probs": 0.8987517952919006}}


{"result": {"time": "2021-02-21 07:32:32.920162", "n_pass": [106, 13, 11], "n_token": 19, "loss": [0.3668530285358429, 0.007299055345356464], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ",", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", "conn", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 17, "repair_targets": [7], "repair_candidates": [2, 5, 10, 15, 17, 0, 8, 9, 11, 7]}}
{"prediction": {"error_location": 0.6929114460945129, "repair_targets": [0.992727518081665], "repair_candidates": [0.0028771127108484507, 0.0012317015789449215, 0.0001886022655526176, 0.992727518081665, 0.0019718364346772432, 0.0007267955224961042, 3.292871042503975e-05, 0.00024272987502627075, 7.395983061542211e-07, 4.67365168788092e-08], "target_probs": 0.992727518081665}}


{"result": {"time": "2021-02-21 07:32:33.032186", "n_pass": [112, 15, 12], "n_token": 18, "loss": [0.23288390040397644, 0.03593151271343231], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", ")", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", "conn", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 16, "repair_targets": [6], "repair_candidates": [1, 4, 9, 14, 16, 0, 7, 8, 10, 6]}}
{"prediction": {"error_location": 0.792245626449585, "repair_targets": [0.9647063612937927], "repair_candidates": [0.0026176422834396362, 0.030098192393779755, 2.7708865673048422e-05, 0.9647063612937927, 0.0012598417233675718, 0.0008561683353036642, 1.3041057172813453e-05, 0.00042054138612002134, 4.7650598844484193e-07, 1.888392198168276e-08], "target_probs": 0.9647063612937927}}


{"result": {"time": "2021-02-21 07:32:33.088163", "n_pass": [114, 16, 13], "n_token": 17, "loss": [0.14474621415138245, 0.06355620920658112], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "#INDENT#", "conn", "#NEWLINE#", "fs", "self", "self", "conn", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 15, "repair_targets": [5], "repair_candidates": [1, 3, 8, 13, 15, 0, 6, 7, 9, 5]}}
{"prediction": {"error_location": 0.8652417659759521, "repair_targets": [0.938421368598938], "repair_candidates": [0.003581390017643571, 0.05593916401267052, 0.00035148789174854755, 0.938421368598938, 0.0007157508516684175, 0.0005842241807840765, 6.950389797566459e-05, 0.00033515930408611894, 1.821207888497156e-06, 5.5885113425802047e-08], "target_probs": 0.938421368598938}}


{"result": {"time": "2021-02-21 07:32:33.143628", "n_pass": [115, 17, 14], "n_token": 16, "loss": [0.16936612129211426, 0.03353939205408096], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "conn", "#NEWLINE#", "fs", "self", "self", "conn", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 14, "repair_targets": [4], "repair_candidates": [1, 2, 7, 12, 14, 0, 5, 6, 8, 4]}}
{"prediction": {"error_location": 0.8441997170448303, "repair_targets": [0.9670168161392212], "repair_candidates": [0.005283913109451532, 0.025365877896547318, 0.000321804778650403, 0.9670168161392212, 0.0006651684525422752, 0.0007072871667332947, 0.0003672865859698504, 0.00027001037960872054, 1.4824230447629816e-06, 2.977364204070909e-07], "target_probs": 0.9670168161392212}}


{"result": {"time": "2021-02-21 07:32:33.199250", "n_pass": [117, 18, 15], "n_token": 15, "loss": [0.1241486445069313, 0.6124998331069946], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "conn", "fs", "self", "self", "conn", "self", ".", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 13, "repair_targets": [3], "repair_candidates": [1, 2, 6, 11, 13, 0, 4, 5, 7, 3]}}
{"prediction": {"error_location": 0.8832486271858215, "repair_targets": [0.5419942736625671], "repair_candidates": [0.288952499628067, 0.12346883863210678, 0.007154801394790411, 0.5419942736625671, 0.011973127722740173, 0.01145067997276783, 0.003988807089626789, 0.010578019544482231, 0.00013128831051290035, 0.0003076709108427167], "target_probs": 0.5419942736625671}}


{"result": {"time": "2021-02-21 07:32:33.314175", "n_pass": [138, 20, 16], "n_token": 14, "loss": [0.13458220660686493, 0.26083049178123474], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "conn", "fs", "self", "self", "conn", "self", "_wrap_future", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 12, "repair_targets": [3], "repair_candidates": [1, 2, 6, 10, 12, 0, 4, 5, 7, 3]}}
{"prediction": {"error_location": 0.874081015586853, "repair_targets": [0.770411491394043], "repair_candidates": [0.10253720730543137, 0.07420027256011963, 0.008352355100214481, 0.770411491394043, 0.006987728178501129, 0.014516456983983517, 0.0010482236975803971, 0.01975134015083313, 0.0003412108344491571, 0.0018537845462560654], "target_probs": 0.770411491394043}}


{"result": {"time": "2021-02-21 07:32:33.370027", "n_pass": [139, 21, 17], "n_token": 13, "loss": [0.17632511258125305, 0.34798845648765564], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "conn", "fs", "self", "self", "conn", "self", "(", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 11, "repair_targets": [3], "repair_candidates": [1, 2, 6, 9, 11, 0, 4, 5, 7, 3]}}
{"prediction": {"error_location": 0.8383454084396362, "repair_targets": [0.7061070203781128], "repair_candidates": [0.13244256377220154, 0.08265203982591629, 0.006884225178509951, 0.7061070203781128, 0.017333749681711197, 0.022594863548874855, 0.001003510900773108, 0.028690263628959656, 0.0006289586308412254, 0.0016627516597509384], "target_probs": 0.7061070203781128}}


{"result": {"time": "2021-02-21 07:32:33.425896", "n_pass": [140, 22, 18], "n_token": 12, "loss": [0.4785342812538147, 0.3792499899864197], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "conn", "conn", "fs", "self", "self", "conn", "self", "conn", ",", "conn", ")"]}}
{"position": {"error_location": 10, "repair_targets": [3], "repair_candidates": [1, 2, 6, 8, 10, 0, 4, 5, 7, 3]}}
{"prediction": {"error_location": 0.6196909546852112, "repair_targets": [0.6843745112419128], "repair_candidates": [0.08537694066762924, 0.02778027392923832, 0.008417227305471897, 0.6843745112419128, 0.004099794197827578, 0.012128171510994434, 0.01131848618388176, 0.09094589203596115, 0.054649028927087784, 0.020909642800688744], "target_probs": 0.6843745112419128}}




Minimal simplified tokens:

['self', 'conn', 'conn', 'fs', 'self', 'self', 'conn', 'self', 'conn', ',', 'conn', ')']
