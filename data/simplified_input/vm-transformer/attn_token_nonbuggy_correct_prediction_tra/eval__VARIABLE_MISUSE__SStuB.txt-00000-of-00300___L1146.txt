
Original sample:

{"has_bug": false, "bug_kind": 0, "bug_kind_name": "NONE", "source_tokens": ["#NEWLINE#", "def test_threshold_decision_policy(", ")", ":", "#NEWLINE#", "#INDENT#", "decision_policy_args", "=", "{", "#NEWLINE#", "#INDENT#", "'threshold'", ":", "0.1", ",", "#NEWLINE#", "'current_instances'", ":", "10", ",", "#NEWLINE#", "#UNINDENT#", "}", "#NEWLINE#", "with", "contextlib", ".", "nested", "(", "mock", ".", "patch", "(", "'paasta_tools.autoscaling_lib.datetime'", ",", "autospec", "=", "True", ")", ",", "mock", ".", "patch", "(", "'paasta_tools.utils.load_system_paasta_config'", ",", "autospec", "=", "True", ",", "return_value", "=", "mock", ".", "Mock", "(", "get_zk_hosts", "=", "mock", ".", "Mock", "(", ")", ")", ")", ")", "as", "(", "mock_datetime", ",", "_", ")", ":", "#NEWLINE#", "#INDENT#", "assert", "(", "autoscaling_lib", ".", "threshold_decision_policy", "(", "error", "=", "0", ",", "**", "decision_policy_args", ")", "==", "0", ")", "#NEWLINE#", "assert", "(", "autoscaling_lib", ".", "threshold_decision_policy", "(", "error", "=", "0.5", ",", "**", "decision_policy_args", ")", "==", "1", ")", "#NEWLINE#", "assert", "(", "autoscaling_lib", ".", "threshold_decision_policy", "(", "error", "=", "(", "-", "0.5", ")", ",", "**", "decision_policy_args", ")", "==", "(", "-", "1", ")", ")"], "error_location": [0], "repair_targets": [], "repair_candidates": [6, 86, 103, 123, 70, 68], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "Yelp/paasta/tests/test_autoscaling_lib.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1146, "results": {"model": "transformer", "prob": {"loc": [[0.9835258722305298, 4.870660632150248e-06, 3.9682015540165594e-07, 3.954759790758544e-07, 4.6492101546391496e-07, 3.9442511479137465e-07, 1.3343527882625494e-07, 3.6160150784780853e-07, 1.570665517647285e-06, 4.378634912427515e-07, 2.9411765467557416e-07, 2.922928672433045e-07, 5.095169512969733e-07, 3.865451435558498e-05, 5.846260933140002e-07, 4.800178317054815e-07, 3.122292355328682e-06, 2.3735246656997333e-07, 2.823171416821424e-05, 7.42336112580233e-07, 9.492532058175129e-07, 4.370820363419625e-07, 2.534427778755344e-07, 2.057788748288658e-07, 1.670425220368088e-08, 5.734996477713139e-08, 4.3207637645537034e-07, 5.3201553384951694e-08, 3.338267617891688e-07, 8.264875646091241e-07, 1.1868551155203022e-06, 5.118754131672176e-08, 2.1522387214645278e-06, 3.265626946813427e-05, 7.463603424184839e-07, 2.602593838219036e-07, 1.5545667793048779e-06, 2.4205899535445496e-05, 3.5125083286402514e-07, 5.788442081211542e-07, 2.4762653083598707e-07, 5.627487098536221e-07, 4.8160782029071925e-08, 1.9022334072360536e-06, 3.844978436973179e-06, 4.898150223198172e-07, 5.76473667024402e-07, 4.065353095938917e-06, 2.3257416614796966e-05, 1.0355469157730113e-06, 2.7193161145078193e-07, 9.395819802193728e-07, 1.6573040966250119e-06, 8.34329341614648e-07, 6.408819075431893e-08, 6.330534461085335e-07, 2.118757294056195e-07, 1.7986143348025507e-06, 6.439515800593654e-07, 8.154452757480612e-07, 1.0210875700522593e-07, 3.2555130928813014e-06, 3.664333235064987e-06, 1.4331204738482484e-06, 1.114568817683903e-06, 4.5575649210150004e-07, 1.3033604773227125e-07, 1.2805065807697247e-06, 9.769017196958885e-05, 1.5345189297022443e-07, 5.410668745753355e-05, 3.1485967610933585e-08, 1.5370915207313374e-06, 9.959546787285944e-07, 1.0026934660345432e-06, 1.0721238368205377e-06, 1.8920546835943242e-06, 2.4731800749577815e-06, 1.5370975461337366e-06, 1.9701648312775433e-08, 1.2580229622471961e-06, 8.711003260941652e-07, 1.3795763152302243e-05, 9.436499385628849e-05, 1.4665965863969177e-06, 8.108018505481596e-07, 0.009811967611312866, 1.7919037986757758e-07, 3.886487434101582e-07, 0.00012603765935637057, 1.104434977605706e-05, 3.909306087734876e-06, 2.543795062592835e-06, 6.030320491845487e-06, 1.625174604669155e-06, 1.362192961096298e-06, 1.9544637908097684e-08, 6.039373602106934e-06, 1.4618198065363686e-06, 2.520315865695011e-05, 3.933488915208727e-05, 1.6601167089902447e-06, 1.1027229902538238e-06, 0.00039052485954016447, 2.1868531803193036e-06, 6.519512680824846e-07, 0.00028376275440678, 2.736533497227356e-05, 8.294695362565108e-06, 8.512122803949751e-06, 7.743342393951025e-06, 3.6805947729590116e-06, 1.4583108622900909e-06, 4.3871470012391e-08, 6.365644367178902e-06, 2.491265377102536e-06, 2.2696851374348626e-05, 9.878855780698359e-05, 7.4821368798438925e-06, 0.0001769532827893272, 1.015610178001225e-05, 5.746077931689797e-06, 4.94599453304545e-06, 0.0027386746369302273, 3.4136032809328754e-06, 1.4485078281722963e-05, 0.00024729419965296984, 3.0559112929040566e-05, 0.0016124959802255034, 0.00012807179882656783, 0.0001095249317586422]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.07047707587480545, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9034349918365479, 0.0, 0.018827538937330246, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0004197509551886469, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0036801821552217007, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.003160450840368867, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.0]}, "loss": [0.016611596569418907, 0.0], "acc": [1.0, 0.0, 0.0, 0.0]}}


All source tokens:

['#NEWLINE#', 'def test_threshold_decision_policy(', ')', ':', '#NEWLINE#', '#INDENT#', 'decision_policy_args', '=', '{', '#NEWLINE#', '#INDENT#', "'threshold'", ':', '0.1', ',', '#NEWLINE#', "'current_instances'", ':', '10', ',', '#NEWLINE#', '#UNINDENT#', '}', '#NEWLINE#', 'with', 'contextlib', '.', 'nested', '(', 'mock', '.', 'patch', '(', "'paasta_tools.autoscaling_lib.datetime'", ',', 'autospec', '=', 'True', ')', ',', 'mock', '.', 'patch', '(', "'paasta_tools.utils.load_system_paasta_config'", ',', 'autospec', '=', 'True', ',', 'return_value', '=', 'mock', '.', 'Mock', '(', 'get_zk_hosts', '=', 'mock', '.', 'Mock', '(', ')', ')', ')', ')', 'as', '(', 'mock_datetime', ',', '_', ')', ':', '#NEWLINE#', '#INDENT#', 'assert', '(', 'autoscaling_lib', '.', 'threshold_decision_policy', '(', 'error', '=', '0', ',', '**', 'decision_policy_args', ')', '==', '0', ')', '#NEWLINE#', 'assert', '(', 'autoscaling_lib', '.', 'threshold_decision_policy', '(', 'error', '=', '0.5', ',', '**', 'decision_policy_args', ')', '==', '1', ')', '#NEWLINE#', 'assert', '(', 'autoscaling_lib', '.', 'threshold_decision_policy', '(', 'error', '=', '(', '-', '0.5', ')', ',', '**', 'decision_policy_args', ')', '==', '(', '-', '1', ')', ')']


All attention probs:

[0.024447215721011162, 0.01210033893585205, 0.017114954069256783, 0.011329267174005508, 0.011825974099338055, 0.010794974863529205, 0.04485728219151497, 0.01465055625885725, 0.00788707472383976, 0.009649264626204967, 0.009902947582304478, 0.015817483887076378, 0.008035438135266304, 0.011157400906085968, 0.006880834233015776, 0.00931335799396038, 0.01102115772664547, 0.008536482229828835, 0.009621277451515198, 0.007303694263100624, 0.00835420936346054, 0.007682222872972488, 0.006479217205196619, 0.008238120935857296, 0.008457167074084282, 0.009073164314031601, 0.004399152006953955, 0.004409533925354481, 0.00441403966397047, 0.007664256263524294, 0.004157220479100943, 0.00421164371073246, 0.004646475426852703, 0.00977565161883831, 0.004112068098038435, 0.004368242342025042, 0.004168858285993338, 0.005878871772438288, 0.0038834656588733196, 0.004116334952414036, 0.00614117830991745, 0.003509932430461049, 0.00582632701843977, 0.00522591220214963, 0.0043305582366883755, 0.004362370353192091, 0.003765326691791415, 0.0035075759515166283, 0.0047788540832698345, 0.004066332709044218, 0.0063051194883883, 0.0034256866201758385, 0.006761934142559767, 0.0031063666101545095, 0.0033019408583641052, 0.0036005028523504734, 0.006458024028688669, 0.0036848902236670256, 0.006817084737122059, 0.0032532198820263147, 0.00431519141420722, 0.004515223670750856, 0.003715855535119772, 0.0033718545455485582, 0.003444666974246502, 0.0037522122729569674, 0.0066219172440469265, 0.004771471489220858, 0.03641390800476074, 0.004535835701972246, 0.026609722524881363, 0.00545197818428278, 0.0042581940069794655, 0.005606173072010279, 0.00510444724932313, 0.006613981444388628, 0.0035363007336854935, 0.007281504105776548, 0.002793495776131749, 0.004200992174446583, 0.0034109586849808693, 0.006474279798567295, 0.003520514816045761, 0.007630166132003069, 0.0030483987648040056, 0.004398892167955637, 0.03092608042061329, 0.007118449546396732, 0.004539253190159798, 0.007336643990129232, 0.0043350523337721825, 0.005476819816976786, 0.00799041148275137, 0.004156839568167925, 0.007911437191069126, 0.004270544275641441, 0.0061592054553329945, 0.0054798973724246025, 0.007785982917994261, 0.00528991362079978, 0.005710070952773094, 0.003872812259942293, 0.005833682604134083, 0.03012656234204769, 0.00872382614761591, 0.004156462848186493, 0.007649011444300413, 0.003105685580521822, 0.006446487735956907, 0.0081632724031806, 0.005540849175304174, 0.009999898262321949, 0.00344600691460073, 0.005138073116540909, 0.004073194228112698, 0.00812002643942833, 0.0036150962114334106, 0.005810614675283432, 0.0034990126732736826, 0.00594039261341095, 0.004184604622423649, 0.0038690869696438313, 0.0058128004893660545, 0.03607668727636337, 0.007683261763304472, 0.007125644478946924, 0.008675416931509972, 0.007501338142901659, 0.009988928213715553, 0.006605807226151228, 0.006364679429680109]


Top-k source tokens:

['decision_policy_args', 'mock_datetime', 'decision_policy_args', 'decision_policy_args', 'decision_policy_args', '_', '#NEWLINE#', ')', "'threshold'", '=']


Top-k attention probs:

[0.04485728219151497, 0.03641390800476074, 0.03607668727636337, 0.03092608042061329, 0.03012656234204769, 0.026609722524881363, 0.024447215721011162, 0.017114954069256783, 0.015817483887076378, 0.01465055625885725]
