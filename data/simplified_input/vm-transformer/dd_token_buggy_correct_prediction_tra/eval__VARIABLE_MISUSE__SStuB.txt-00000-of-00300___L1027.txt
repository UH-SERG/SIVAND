
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", ".", "parent", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "ds", ".", "parent", "#NEWLINE#", "#UNINDENT#", "ds", ".", "close", "(", ")"], "error_location": [15], "repair_targets": [7, 11, 24, 26, 31], "repair_candidates": [2, 9, 15, 7, 11, 24, 26, 31], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "pydata/xarray/xarray/backends/h5netcdf_.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1027, "results": {"model": "transformer", "prob": {"loc": [[0.009211653843522072, 1.358326812805899e-06, 2.5123633804469137e-06, 5.524416479829597e-09, 1.1179100312119772e-08, 8.888445535149003e-09, 7.374347354982547e-09, 2.442724144202657e-05, 7.869380702629769e-09, 0.001307376311160624, 1.0747903012031657e-08, 1.570495271607797e-07, 6.603646340863634e-08, 1.0038729847394734e-08, 6.022800391747296e-08, 0.9770283102989197, 3.635642542576534e-08, 1.3520019592760946e-06, 2.581512319466128e-07, 2.969727574964054e-07, 4.482369675429254e-08, 3.558033867534505e-08, 2.507331942069868e-08, 5.139353387306755e-09, 5.368568508856697e-06, 4.5000478898771235e-09, 0.012416232377290726, 3.062470455006405e-08, 2.2682424827280556e-08, 1.7917553662982755e-08, 4.847306556143849e-09, 8.911740678740898e-08, 2.940398813322531e-09, 6.12115647058431e-09, 4.8920401951590975e-08, 4.4068208637781936e-08]], "pointer": [[0.0, 0.0, 0.0021958991419523954, 0.0, 0.0, 0.0, 0.0, 0.9827002882957458, 0.0, 0.0006772979395464063, 0.0, 0.0015016195829957724, 0.0, 0.0, 0.0, 0.002276725834235549, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.006583907641470432, 0.0, 0.0035764912609010935, 0.0, 0.0, 0.0, 0.0, 0.0004876528400927782, 0.0, 0.0, 0.0, 0.0]], "target": [0.9948499798774719]}, "loss": [0.023239506408572197, 0.0051633273251354694], "acc": [0.0, 1.0, 1.0, 1.0]}}


Trace of simplified code(s):

{"result": {"time": "2021-02-11 11:15:55.641439", "n_pass": [1, 1, 1], "n_token": 36, "loss": [0.023239506408572197, 0.0051633273251354694], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", ".", "parent", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "ds", ".", "parent", "#NEWLINE#", "#UNINDENT#", "ds", ".", "close", "(", ")"]}}
{"position": {"error_location": 15, "repair_targets": [7, 11, 24, 26, 31], "repair_candidates": [2, 9, 15, 7, 11, 24, 26, 31]}}
{"prediction": {"error_location": 0.9770283102989197, "repair_targets": [0.9827002882957458, 0.0015016195829957724, 0.006583907641470432, 0.0035764912609010935, 0.0004876528400927782], "repair_candidates": [0.0021958991419523954, 0.9827002882957458, 0.0006772979395464063, 0.0015016195829957724, 0.002276725834235549, 0.006583907641470432, 0.0035764912609010935, 0.0004876528400927782], "target_probs": 0.9948499798774719}}


{"result": {"time": "2021-02-11 11:15:55.696831", "n_pass": [24, 2, 2], "n_token": 31, "loss": [4.1483970562694594e-05, 3.57628505298635e-06], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "ds", ".", "parent", "#NEWLINE#", "#UNINDENT#", "ds", ".", "close", "(", ")"]}}
{"position": {"error_location": 15, "repair_targets": [7, 11, 19, 21, 26], "repair_candidates": [2, 9, 15, 7, 11, 19, 21, 26]}}
{"prediction": {"error_location": 0.9999585151672363, "repair_targets": [0.9947858452796936, 0.000534176011569798, 0.004614999517798424, 5.5596370657440275e-05, 5.79926609134418e-06], "repair_candidates": [2.083417712128721e-06, 0.9947858452796936, 1.1734289273590548e-06, 0.000534176011569798, 2.808159536016319e-07, 0.004614999517798424, 5.5596370657440275e-05, 5.79926609134418e-06], "target_probs": 0.9999964237213135}}


{"result": {"time": "2021-02-11 11:15:55.752289", "n_pass": [46, 3, 3], "n_token": 29, "loss": [0.00012289722508285195, 2.98023678624304e-06], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", ".", "parent", "#NEWLINE#", "#UNINDENT#", "ds", ".", "close", "(", ")"]}}
{"position": {"error_location": 15, "repair_targets": [7, 11, 17, 19, 24], "repair_candidates": [2, 9, 15, 7, 11, 17, 19, 24]}}
{"prediction": {"error_location": 0.9998769760131836, "repair_targets": [0.9891997575759888, 0.0008771281572990119, 0.009726207703351974, 2.5969753551180474e-05, 0.00016792482347227633], "repair_candidates": [1.9178876300429692e-06, 0.9891997575759888, 9.998592531701433e-07, 0.0008771281572990119, 1.6948325765042682e-07, 0.009726207703351974, 2.5969753551180474e-05, 0.00016792482347227633], "target_probs": 0.9999970197677612}}


{"result": {"time": "2021-02-11 11:15:55.807041", "n_pass": [49, 4, 4], "n_token": 26, "loss": [0.00010990492592100054, 6.556513199029723e-07], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", ".", "close", "(", ")"]}}
{"position": {"error_location": 15, "repair_targets": [7, 11, 17, 19, 21], "repair_candidates": [2, 9, 15, 7, 11, 17, 19, 21]}}
{"prediction": {"error_location": 0.9998900890350342, "repair_targets": [0.9930839538574219, 0.00047018815530464053, 0.005910730455070734, 1.1895889656443615e-05, 0.0005225855275057256], "repair_candidates": [4.560682782539516e-07, 0.9930839538574219, 1.063292174308117e-07, 0.00047018815530464053, 8.71190550810752e-08, 0.005910730455070734, 1.1895889656443615e-05, 0.0005225855275057256], "target_probs": 0.9999993443489075}}


{"result": {"time": "2021-02-11 11:15:55.864018", "n_pass": [51, 5, 5], "n_token": 23, "loss": [0.0008089845650829375, 3.475011180853471e-05], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "def close(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 15, "repair_targets": [7, 11, 17, 19, 21], "repair_candidates": [2, 9, 15, 7, 11, 17, 19, 21]}}
{"prediction": {"error_location": 0.9991914629936218, "repair_targets": [0.9922357201576233, 0.0020339752081781626, 0.004771930631250143, 1.5910720321699046e-05, 0.0009077693684957922], "repair_candidates": [2.115728784701787e-05, 0.9922357201576233, 1.1604110113694333e-05, 0.0020339752081781626, 1.949220404640073e-06, 0.004771930631250143, 1.5910720321699046e-05, 0.0009077693684957922], "target_probs": 0.999965250492096}}


{"result": {"time": "2021-02-11 11:15:55.918339", "n_pass": [52, 6, 6], "n_token": 21, "loss": [0.006138281896710396, 0.002152911154553294], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", ":", "#NEWLINE#", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 13, "repair_targets": [5, 9, 15, 17, 19], "repair_candidates": [0, 7, 13, 5, 9, 15, 17, 19]}}
{"prediction": {"error_location": 0.9938806295394897, "repair_targets": [0.942562997341156, 0.027456670999526978, 0.02091362699866295, 0.00026362977223470807, 0.006652472075074911], "repair_candidates": [0.001943974057212472, 0.942562997341156, 0.00019436763250268996, 0.027456670999526978, 1.221207367052557e-05, 0.02091362699866295, 0.00026362977223470807, 0.006652472075074911], "target_probs": 0.9978494048118591}}


{"result": {"time": "2021-02-11 11:15:55.972278", "n_pass": [54, 7, 7], "n_token": 19, "loss": [0.015524727292358875, 0.0018557829316705465], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", "#INDENT#", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 11, "repair_targets": [3, 7, 13, 15, 17], "repair_candidates": [0, 5, 11, 3, 7, 13, 15, 17]}}
{"prediction": {"error_location": 0.9845951795578003, "repair_targets": [0.9457402229309082, 0.02883848175406456, 0.02001829445362091, 0.0004887880058959126, 0.003060178132727742], "repair_candidates": [0.0017206601332873106, 0.9457402229309082, 9.830156341195107e-05, 0.02883848175406456, 3.508809095364995e-05, 0.02001829445362091, 0.0004887880058959126, 0.003060178132727742], "target_probs": 0.9981459379196167}}


{"result": {"time": "2021-02-11 11:15:56.079923", "n_pass": [82, 9, 8], "n_token": 18, "loss": [0.09862403571605682, 0.010791324079036713], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", "ds", "=", "self", ".", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 10, "repair_targets": [2, 6, 12, 14, 16], "repair_candidates": [0, 4, 10, 2, 6, 12, 14, 16]}}
{"prediction": {"error_location": 0.9060832858085632, "repair_targets": [0.6871960163116455, 0.16155457496643066, 0.12268654257059097, 0.002046968089416623, 0.015782590955495834], "repair_candidates": [0.0063942777924239635, 0.6871960163116455, 0.002954736351966858, 0.16155457496643066, 0.0013843084452673793, 0.12268654257059097, 0.002046968089416623, 0.015782590955495834], "target_probs": 0.9892666935920715}}


{"result": {"time": "2021-02-11 11:15:56.190771", "n_pass": [85, 11, 9], "n_token": 17, "loss": [0.024579305201768875, 0.010070856660604477], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", "ds", "=", "self", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "=", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 9, "repair_targets": [2, 5, 11, 13, 15], "repair_candidates": [0, 4, 9, 2, 5, 11, 13, 15]}}
{"prediction": {"error_location": 0.9757201671600342, "repair_targets": [0.03951883688569069, 0.9194116592407227, 0.028740108013153076, 0.0004190073814243078, 0.001890102750621736], "repair_candidates": [0.0022865673527121544, 0.03951883688569069, 0.0066888583824038506, 0.9194116592407227, 0.0010449319379404187, 0.028740108013153076, 0.0004190073814243078, 0.001890102750621736], "target_probs": 0.9899796843528748}}


{"result": {"time": "2021-02-11 11:15:56.461011", "n_pass": [93, 16, 10], "n_token": 16, "loss": [0.3872480094432831, 0.10907264798879623], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", "ds", "=", "self", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "ds", "#UNINDENT#", "ds", "."]}}
{"position": {"error_location": 9, "repair_targets": [2, 5, 11, 12, 14], "repair_candidates": [0, 4, 9, 2, 5, 11, 12, 14]}}
{"prediction": {"error_location": 0.678922712802887, "repair_targets": [0.22746622562408447, 0.3732830286026001, 0.12707959115505219, 0.16763779520988464, 0.0011986506870016456], "repair_candidates": [0.05617409944534302, 0.22746622562408447, 0.04320662096142769, 0.3732830286026001, 0.003953980747610331, 0.12707959115505219, 0.16763779520988464, 0.0011986506870016456], "target_probs": 0.8966652750968933}}


{"result": {"time": "2021-02-11 11:15:56.517183", "n_pass": [95, 17, 11], "n_token": 15, "loss": [0.17534463107585907, 0.05411476269364357], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", ")", "ds", "=", "self", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "ds", "ds", "."]}}
{"position": {"error_location": 9, "repair_targets": [2, 5, 11, 12, 13], "repair_candidates": [0, 4, 9, 2, 5, 11, 12, 13]}}
{"prediction": {"error_location": 0.8391676545143127, "repair_targets": [0.5660287737846375, 0.3754075765609741, 0.0003986556257586926, 0.00046868942445144057, 0.005019682459533215], "repair_candidates": [0.05065712332725525, 0.5660287737846375, 0.0019449549727141857, 0.3754075765609741, 7.448003452736884e-05, 0.0003986556257586926, 0.00046868942445144057, 0.005019682459533215], "target_probs": 0.9473233819007874}}


{"result": {"time": "2021-02-11 11:15:56.571264", "n_pass": [98, 18, 12], "n_token": 14, "loss": [0.2168700098991394, 0.06282617151737213], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "ds", "=", "self", "ds", "#NEWLINE#", "while", "(", "self", "#INDENT#", "ds", "ds", "ds", "."]}}
{"position": {"error_location": 8, "repair_targets": [1, 4, 10, 11, 12], "repair_candidates": [0, 3, 8, 1, 4, 10, 11, 12]}}
{"prediction": {"error_location": 0.8050346374511719, "repair_targets": [0.5172355771064758, 0.332765132188797, 0.022024542093276978, 0.035896629095077515, 0.031184805557131767], "repair_candidates": [0.0459483377635479, 0.5172355771064758, 0.01357478927820921, 0.332765132188797, 0.0013701965799555182, 0.022024542093276978, 0.035896629095077515, 0.031184805557131767], "target_probs": 0.9391067028045654}}


{"result": {"time": "2021-02-11 11:15:56.678918", "n_pass": [103, 20, 13], "n_token": 13, "loss": [0.40272724628448486, 0.026923812925815582], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["self", "ds", "=", "self", "ds", "while", "(", "self", "#INDENT#", "ds", "ds", "ds", "."]}}
{"position": {"error_location": 7, "repair_targets": [1, 4, 9, 10, 11], "repair_candidates": [0, 3, 7, 1, 4, 9, 10, 11]}}
{"prediction": {"error_location": 0.6684944033622742, "repair_targets": [0.26166728138923645, 0.4684801399707794, 0.1429673433303833, 0.0028021298348903656, 0.09751852601766586], "repair_candidates": [0.020215317606925964, 0.26166728138923645, 0.00546313775703311, 0.4684801399707794, 0.0008861515088938177, 0.1429673433303833, 0.0028021298348903656, 0.09751852601766586], "target_probs": 0.9734354019165039}}




Minimal simplified tokens:

['self', 'ds', '=', 'self', 'ds', 'while', '(', 'self', '#INDENT#', 'ds', 'ds', 'ds', '.']
