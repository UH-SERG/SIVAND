
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_track_run_time(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "minute_ago", "=", "(", "datetime", ".", "datetime", ".", "now", "(", ")", "-", "timedelta", "(", "minutes", "=", "1", ")", ")", "#NEWLINE#", "task_start", "=", "utc_millesecs_from_epoch", "(", "minute_ago", ")", "#NEWLINE#", "self", ".", "cache", ".", "get", ".", "return_value", "=", "task_start", "#NEWLINE#", "fake_task", ".", "delay", "(", ")", "#NEWLINE#", "approx_run_time", "=", "(", "utc_millesecs_from_epoch", "(", ")", "-", "task_start", ")", "#NEWLINE#", "assert", "(", "self", ".", "statsd", ".", "timing", ".", "call_args", "[", "0", "]", "[", "0", "]", "==", "'tasks.olympia.amo.tests.test_celery.fake_task'", ")", "#NEWLINE#", "actual_run_time", "=", "approx_run_time", ".", "statsd", ".", "timing", ".", "call_args", "[", "0", "]", "[", "1", "]", "#NEWLINE#", "fuzz", "=", "2000", "#NEWLINE#", "assert", "(", "(", "actual_run_time", ">=", "(", "approx_run_time", "-", "fuzz", ")", ")", "and", "(", "actual_run_time", "<=", "(", "approx_run_time", "+", "fuzz", ")", ")", ")", "#NEWLINE#", "assert", "self", ".", "cache", ".", "get", ".", "call_args", "[", "0", "]", "[", "0", "]", ".", "startswith", "(", "'task_start_time'", ")", "#NEWLINE#", "assert", "self", ".", "cache", ".", "delete", ".", "call_args", "[", "0", "]", "[", "0", "]", ".", "startswith", "(", "'task_start_time'", ")"], "error_location": [80], "repair_targets": [2, 33, 61, 122, 142], "repair_candidates": [94, 106, 116, 26, 41, 56, 7, 30, 78, 101, 111, 2, 33, 61, 122, 142, 49, 80, 104, 114], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "mozilla/addons-server/src/olympia/amo/tests/test_celery.py", "license": "bsd-3-clause", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 4178, "results": {"model": "transformer", "prob": {"loc": [[0.029195578768849373, 3.456347386077141e-08, 1.0857873178338195e-07, 3.1711386294652755e-10, 3.934325087939783e-10, 4.5931253245257153e-10, 3.445569107807245e-10, 1.0672689398916191e-07, 4.2635073249641664e-10, 6.32464358663043e-10, 9.42238376211435e-09, 8.309402055317605e-10, 1.0431373542729716e-09, 1.0114812321049271e-09, 3.535751968986034e-10, 1.0972804886932863e-09, 5.346106335402112e-10, 2.2704552127272848e-10, 8.683601393499885e-09, 3.4466074438910255e-10, 3.7900318994310567e-10, 3.5694761035820477e-10, 9.829586922194267e-09, 1.8750427599467656e-10, 2.014772099157014e-10, 1.1984856163049784e-10, 2.491922224123755e-08, 6.56885032479515e-11, 1.1936018839975304e-09, 1.2174780072982117e-09, 4.724744485429255e-06, 3.519106672733585e-10, 4.384655694078532e-10, 1.107781940845598e-06, 5.8413229808707e-10, 2.8849338473690977e-09, 1.4881471610550534e-09, 7.072477603564664e-10, 2.703597790087997e-09, 5.730310892460011e-09, 2.8664552953472366e-09, 0.001193743315525353, 4.6469839087848186e-10, 1.0800096816865334e-08, 1.004370031587598e-09, 4.075723369911799e-10, 3.289323258215404e-09, 1.8337370510934647e-09, 5.794616453336232e-10, 1.3873663817776105e-07, 1.3078926830445425e-10, 7.068648444352732e-10, 5.2439087738775925e-08, 3.02328828638565e-08, 1.3842592627710815e-09, 5.46311329507887e-10, 0.0007745728944428265, 6.928068119194108e-10, 6.461415291703076e-10, 3.4830938133723066e-10, 1.8632682063923767e-09, 0.0007721379515714943, 2.8720976708029866e-09, 3.1891083551727206e-08, 4.744129977751754e-09, 1.351347256317581e-09, 4.863186742198877e-09, 2.844713975491686e-08, 2.0362183050792737e-09, 7.896427511866477e-09, 1.6996893892340381e-09, 6.377972816551392e-09, 5.227229760151886e-09, 1.4137438997252616e-09, 2.747116534251859e-09, 1.8370707621784277e-08, 2.1895196766763547e-09, 1.9666785977534573e-09, 7.746536567765361e-08, 2.2682404843266113e-09, 0.9628626704216003, 1.2332451504448727e-08, 5.484765210894693e-07, 1.5283365684126693e-08, 8.334560264167123e-10, 1.063963583902705e-08, 2.3424226114343583e-08, 1.640034108518762e-09, 5.249620294023316e-09, 1.0977786457644356e-09, 2.14497242190248e-09, 5.95994498198138e-09, 1.3096432827097715e-09, 2.226873352384473e-09, 6.232762217450727e-08, 3.2757745405120886e-09, 2.2004940092301695e-08, 3.781440938155356e-09, 4.849319279465192e-10, 8.929389450074154e-10, 7.870594842529499e-09, 0.000224767965846695, 4.042866486031471e-09, 2.7352429210480977e-09, 0.0016572015592828393, 3.1309210779539853e-09, 4.880713458987884e-05, 3.630351019801026e-10, 4.975492795544767e-10, 2.338377047550466e-09, 1.6617860421064279e-09, 0.00019649944442790002, 2.0135437761581443e-09, 4.47375647638637e-09, 0.0030294088646769524, 1.7101798865937212e-09, 2.5888661184580997e-05, 1.1491332330137993e-09, 1.24605004092615e-09, 9.75954539406132e-10, 3.868974918219692e-09, 9.688159163800947e-10, 5.00323403684888e-06, 4.727473079668698e-09, 3.183225416591995e-08, 8.806245510584176e-09, 1.4181629204301771e-08, 9.610239715129865e-09, 8.538403761804148e-08, 8.916425819904816e-09, 1.640188074247817e-08, 2.4910560281199423e-09, 6.354925474738593e-09, 5.576533013140761e-09, 2.4786150909505977e-09, 4.680370313536741e-09, 3.259122305365736e-09, 1.1992321802267725e-08, 8.041308774409117e-08, 2.1078827572296177e-09, 2.546387101176606e-09, 3.25163840297904e-10, 5.82621896683122e-06, 2.467445359144449e-09, 1.445800013044618e-08, 5.828749927161425e-09, 3.821632788003626e-09, 8.777168325480034e-09, 6.751509573632575e-08, 2.408457877578485e-09, 1.2770533963646358e-08, 2.2333046523215216e-09, 5.94181859270293e-09, 7.542760194212406e-09, 2.6463999880377287e-09, 5.800800728650302e-09, 3.424101668869639e-09, 1.2137481242291415e-08, 8.271034346307715e-08, 2.0000512357398748e-09]], "pointer": [[0.0, 0.0, 0.01652245782315731, 0.0, 0.0, 0.0, 0.0, 0.010068274103105068, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.003021127311512828, 0.0, 0.0, 0.0, 0.00061514024855569, 0.0, 0.0, 0.12034578621387482, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.9472390603332315e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.004126980435103178, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0001451516436645761, 0.0, 0.0, 0.0, 0.0, 0.743175745010376, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0056097437627613544, 0.0, 3.333683343953453e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0019336873665452003, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00012594874715432525, 0.0, 0.0, 3.443335663178004e-05, 0.0, 1.306210378970718e-05, 0.0, 0.0, 0.0, 0.0, 0.0012217049952596426, 0.0, 0.0, 8.386555418837816e-05, 0.0, 2.8783868401660584e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06478733569383621, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.028101522475481033, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9729328155517578]}, "loss": [0.037844467908144, 0.027440248057246208], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_track_run_time(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'minute_ago', '=', '(', 'datetime', '.', 'datetime', '.', 'now', '(', ')', '-', 'timedelta', '(', 'minutes', '=', '1', ')', ')', '#NEWLINE#', 'task_start', '=', 'utc_millesecs_from_epoch', '(', 'minute_ago', ')', '#NEWLINE#', 'self', '.', 'cache', '.', 'get', '.', 'return_value', '=', 'task_start', '#NEWLINE#', 'fake_task', '.', 'delay', '(', ')', '#NEWLINE#', 'approx_run_time', '=', '(', 'utc_millesecs_from_epoch', '(', ')', '-', 'task_start', ')', '#NEWLINE#', 'assert', '(', 'self', '.', 'statsd', '.', 'timing', '.', 'call_args', '[', '0', ']', '[', '0', ']', '==', "'tasks.olympia.amo.tests.test_celery.fake_task'", ')', '#NEWLINE#', 'actual_run_time', '=', 'approx_run_time', '.', 'statsd', '.', 'timing', '.', 'call_args', '[', '0', ']', '[', '1', ']', '#NEWLINE#', 'fuzz', '=', '2000', '#NEWLINE#', 'assert', '(', '(', 'actual_run_time', '>=', '(', 'approx_run_time', '-', 'fuzz', ')', ')', 'and', '(', 'actual_run_time', '<=', '(', 'approx_run_time', '+', 'fuzz', ')', ')', ')', '#NEWLINE#', 'assert', 'self', '.', 'cache', '.', 'get', '.', 'call_args', '[', '0', ']', '[', '0', ']', '.', 'startswith', '(', "'task_start_time'", ')', '#NEWLINE#', 'assert', 'self', '.', 'cache', '.', 'delete', '.', 'call_args', '[', '0', ']', '[', '0', ']', '.', 'startswith', '(', "'task_start_time'", ')']


All attention probs:

[0.012516734190285206, 0.010553944855928421, 0.04587049037218094, 0.012651938013732433, 0.009098614566028118, 0.008919911459088326, 0.007296478841453791, 0.01631156913936138, 0.006138480734080076, 0.006090172100812197, 0.012327835895121098, 0.006697156000882387, 0.007728253956884146, 0.005545273423194885, 0.006911520380526781, 0.006670431699603796, 0.005389635916799307, 0.005478983279317617, 0.006667905021458864, 0.00603671558201313, 0.007261665537953377, 0.005420359782874584, 0.007884537801146507, 0.004662706982344389, 0.004098185338079929, 0.005445430055260658, 0.016192732378840446, 0.004597227089107037, 0.006274527870118618, 0.003857314120978117, 0.014605337753891945, 0.0037458031438291073, 0.004919358063489199, 0.010180075652897358, 0.002783137373626232, 0.003866796847432852, 0.002990709850564599, 0.004210747312754393, 0.003352956147864461, 0.004496730398386717, 0.0032191083300858736, 0.018384497612714767, 0.005652767606079578, 0.009585888125002384, 0.0030293092131614685, 0.0032208040356636047, 0.003925771918147802, 0.003365906188264489, 0.004642856307327747, 0.02000737003982067, 0.004204760771244764, 0.002454605419188738, 0.007652680855244398, 0.003912273794412613, 0.0028010979294776917, 0.002927457680925727, 0.015339011326432228, 0.0026075018104165792, 0.0035303309559822083, 0.0034150336869060993, 0.002500246511772275, 0.018949095159769058, 0.0021468086633831263, 0.0035433347802609205, 0.002216641092672944, 0.004211426712572575, 0.002758788876235485, 0.004561425186693668, 0.003648280631750822, 0.004904421977698803, 0.003512174356728792, 0.00344911590218544, 0.004800204653292894, 0.002778212307021022, 0.002768948208540678, 0.0030587841756641865, 0.002063869731500745, 0.0042510018683969975, 0.014299070462584496, 0.004176887217909098, 0.03591378405690193, 0.0022252213675528765, 0.003706569317728281, 0.0022236446384340525, 0.003416298422962427, 0.0026144678704440594, 0.0037754566874355078, 0.0041540260426700115, 0.004893477540463209, 0.003305121324956417, 0.003123760921880603, 0.005152290221303701, 0.002471641870215535, 0.003813557792454958, 0.014029564335942268, 0.0036207833327353, 0.005797153804451227, 0.003947796765714884, 0.005446001887321472, 0.002769324230030179, 0.0030188087839633226, 0.020994868129491806, 0.00342359091155231, 0.0039637465961277485, 0.022624850273132324, 0.0032396498136222363, 0.015920646488666534, 0.002575293416157365, 0.0023611632641404867, 0.003617736976593733, 0.0029035815969109535, 0.02277875319123268, 0.003387837205082178, 0.00288399844430387, 0.024541128426790237, 0.003011152846738696, 0.015870146453380585, 0.002397897420451045, 0.002176696201786399, 0.002969831693917513, 0.004538486711680889, 0.005333332344889641, 0.009524498134851456, 0.002945293439552188, 0.002965539926663041, 0.003768404247239232, 0.004058841150254011, 0.003181633073836565, 0.004423203878104687, 0.003585393773391843, 0.00425700843334198, 0.0030596826691180468, 0.0028368409257382154, 0.0036210049875080585, 0.0027556167915463448, 0.002087351633235812, 0.00265829311683774, 0.0029428626876324415, 0.007062756922096014, 0.0021550359670072794, 0.004076171666383743, 0.004544250667095184, 0.012352345511317253, 0.0019654957577586174, 0.0025777830742299557, 0.0023151047062128782, 0.003981695044785738, 0.0027923944871872663, 0.005393603816628456, 0.0033869503531605005, 0.00456723989918828, 0.004001083318144083, 0.004517985507845879, 0.0058530280366539955, 0.005986744072288275, 0.004389460198581219, 0.005445646122097969, 0.005121977999806404, 0.008195755071938038, 0.005486721638590097]


Top-k source tokens:

['self', 'approx_run_time', 'approx_run_time', 'actual_run_time', 'approx_run_time', 'actual_run_time', 'approx_run_time', 'self', 'task_start', 'minute_ago']


Top-k attention probs:

[0.04587049037218094, 0.03591378405690193, 0.024541128426790237, 0.02277875319123268, 0.022624850273132324, 0.020994868129491806, 0.02000737003982067, 0.018949095159769058, 0.018384497612714767, 0.01631156913936138]
