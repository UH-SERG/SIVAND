
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_reset_password_default_emailer(", ")", ":", "#NEWLINE#", "#INDENT#", "(", "auth", ",", "app", ",", "user", ")", "=", "_get_flask_app", "(", ")", "#NEWLINE#", "client", "=", "app", ".", "test_client", "(", ")", "#NEWLINE#", "data", "=", "dict", "(", "login", "=", "user", ".", "login", ",", "_csrf_token", "=", "auth", ".", "get_csrf_token", "(", ")", ")", "#NEWLINE#", "resp", "=", "client", ".", "post", "(", "auth", ".", "url_reset_password", ",", "data", "=", "data", ")", "#NEWLINE#", "data", "=", "to_unicode", "(", "resp", ".", "data", ")", "#NEWLINE#", "assert", "(", "'<!-- EMAIL SENT -->'", "in", "app", ")"], "error_location": [73], "repair_targets": [26, 55, 57, 60, 66], "repair_candidates": [7, 38, 51, 11, 32, 18, 47, 26, 55, 57, 60, 66, 45, 64, 9, 20, 73], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "jpscaletti/authcode/tests/test_views.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 3932, "results": {"model": "transformer", "prob": {"loc": [[0.000437531853094697, 4.009327980725175e-09, 2.2853949288581532e-10, 3.239946921862469e-10, 3.799545955640582e-10, 2.9091651310153566e-10, 6.279414488385981e-11, 1.5881010950735686e-09, 1.4334708420271625e-10, 2.287471989603773e-09, 1.3864555337139706e-10, 1.4505597834002515e-09, 4.4690143946590766e-11, 1.665464433031616e-10, 1.3476618432317622e-10, 1.9753620961182605e-08, 1.7762089576933704e-09, 5.705219630058878e-10, 4.050495938656695e-09, 2.926891506938034e-10, 3.896483136145434e-09, 2.9910879328909346e-10, 9.131546213625441e-11, 4.0769439380028416e-08, 1.5267026531873285e-09, 1.1948740885614484e-09, 5.633175259589507e-09, 6.238196625929504e-10, 1.275101135789214e-10, 9.47421696650963e-10, 2.0720676563446006e-10, 9.582239446359608e-10, 8.92122716322774e-06, 2.8709552513106473e-09, 3.63656223190123e-11, 2.9672336809838384e-10, 1.1520639997542048e-09, 9.125595834547084e-10, 9.857909155641664e-09, 8.760530079143791e-10, 7.313068484116059e-10, 3.2993181520168946e-08, 1.0905801595129105e-08, 3.841425844086643e-09, 2.3328998732807804e-09, 4.507060058500656e-09, 4.711506185195447e-10, 4.511893969549874e-09, 9.949253643171119e-10, 4.577752066303731e-11, 7.026634274431842e-10, 9.840908751357347e-05, 5.957586424187866e-09, 6.597396240426434e-11, 2.561733325467941e-10, 2.0535871614324464e-10, 4.813540122050597e-10, 2.1407424810604425e-07, 3.8970870974708305e-08, 9.80194325705952e-09, 6.620055614803277e-07, 2.1548736128806922e-09, 9.595939598483483e-10, 3.615264754230907e-09, 2.3375142177428643e-07, 6.270444607991976e-09, 6.276167141550104e-08, 1.3840764090389257e-08, 3.158413974801988e-08, 7.299790993897659e-09, 3.905761936096042e-09, 4.6730158942409616e-07, 2.059571180268449e-08, 0.9994528889656067, 4.207469146422227e-07]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.8655296773649752e-05, 0.0, 2.8831142117269337e-05, 0.0, 9.708329889690503e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.218709364067763e-05, 0.0, 8.900456123228651e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0001323416508967057, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00021246196411084384, 0.0, 0.0, 0.0, 0.0, 0.0, 4.559861281450139e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00026477931533008814, 0.0, 6.489166253231815e-07, 0.0, 0.0, 0.0, 2.679779936443083e-05, 0.0, 0.0, 0.0, 1.4295231665073516e-08, 0.0, 3.433330277857749e-07, 0.0, 0.0, 0.9980748891830444, 0.0, 0.0, 0.0, 6.766294973203912e-05, 0.0, 0.0010177736403420568, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.69481452871878e-07, 0.0]], "target": [0.9992253184318542]}, "loss": [0.000547378440387547, 0.0007749818032607436], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_reset_password_default_emailer(', ')', ':', '#NEWLINE#', '#INDENT#', '(', 'auth', ',', 'app', ',', 'user', ')', '=', '_get_flask_app', '(', ')', '#NEWLINE#', 'client', '=', 'app', '.', 'test_client', '(', ')', '#NEWLINE#', 'data', '=', 'dict', '(', 'login', '=', 'user', '.', 'login', ',', '_csrf_token', '=', 'auth', '.', 'get_csrf_token', '(', ')', ')', '#NEWLINE#', 'resp', '=', 'client', '.', 'post', '(', 'auth', '.', 'url_reset_password', ',', 'data', '=', 'data', ')', '#NEWLINE#', 'data', '=', 'to_unicode', '(', 'resp', '.', 'data', ')', '#NEWLINE#', 'assert', '(', "'<!-- EMAIL SENT -->'", 'in', 'app', ')']


All attention probs:

[0.01928476244211197, 0.013913784176111221, 0.020639071241021156, 0.012198252603411674, 0.01284757163375616, 0.012491107918322086, 0.014887610450387001, 0.02681826613843441, 0.01185569353401661, 0.028329627588391304, 0.015193705447018147, 0.03209426626563072, 0.013700454495847225, 0.012222619727253914, 0.014828566461801529, 0.01138122845441103, 0.006873268634080887, 0.010827424935996532, 0.02609480917453766, 0.013658609241247177, 0.016877731308341026, 0.005914265755563974, 0.006238696165382862, 0.010402385145425797, 0.006382104940712452, 0.00962526723742485, 0.023337360471487045, 0.011428648605942726, 0.0077087306417524815, 0.006026703864336014, 0.012834076769649982, 0.006815385073423386, 0.02969922125339508, 0.0059408568777143955, 0.006612277124077082, 0.006910435389727354, 0.013156845234334469, 0.006857632659375668, 0.014647223986685276, 0.0048497519455850124, 0.006664149928838015, 0.008407805114984512, 0.008890029042959213, 0.005711582954972982, 0.01018271129578352, 0.026501379907131195, 0.009561390615999699, 0.015098510310053825, 0.005099589936435223, 0.005538946483284235, 0.007035697344690561, 0.02839742600917816, 0.004397873766720295, 0.006245013792067766, 0.005387968383729458, 0.012848586775362492, 0.005871080793440342, 0.03184397891163826, 0.005681188311427832, 0.009950845502316952, 0.03552400693297386, 0.01057097315788269, 0.009341168217360973, 0.0075368271209299564, 0.02417810447514057, 0.008183992467820644, 0.007535139564424753, 0.008752116933465004, 0.01222938671708107, 0.013352776877582073, 0.010280708782374859, 0.010146796703338623, 0.010764457285404205, 0.06019846722483635, 0.009683024138212204]


Top-k source tokens:

['app', 'data', 'user', 'data', 'user', 'auth', 'app', 'auth', 'resp', 'client']


Top-k attention probs:

[0.06019846722483635, 0.03552400693297386, 0.03209426626563072, 0.03184397891163826, 0.02969922125339508, 0.02839742600917816, 0.028329627588391304, 0.02681826613843441, 0.026501379907131195, 0.02609480917453766]
