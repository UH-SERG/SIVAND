
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def visit_FuncDecl(", "self", ",", "node", ")", ":", "#NEWLINE#", "#INDENT#", "if", "(", "func_sym", ".", "identifier", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "name", "=", "node", ".", "identifier", ".", "value", "#NEWLINE#", "self", ".", "visit_Identifier", "(", "node", ".", "identifier", ")", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "name", "=", "None", "#NEWLINE#", "#UNINDENT#", "func_sym", "=", "FuncSymbol", "(", "name", "=", "name", ",", "enclosing_scope", "=", "self", ".", "current_scope", ")", "#NEWLINE#", "if", "(", "name", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "self", ".", "current_scope", ".", "define", "(", "func_sym", ")", "#NEWLINE#", "node", ".", "scope", "=", "self", ".", "current_scope", "#NEWLINE#", "#UNINDENT#", "self", ".", "current_scope", "=", "func_sym", "#NEWLINE#", "for", "ident", "in", "node", ".", "parameters", ":", "#NEWLINE#", "#INDENT#", "self", ".", "current_scope", ".", "define", "(", "VarSymbol", "(", "ident", ".", "value", ")", ")", "#NEWLINE#", "ident", ".", "scope", "=", "self", ".", "current_scope", "#NEWLINE#", "#UNINDENT#", "for", "element", "in", "node", ".", "elements", ":", "#NEWLINE#", "#INDENT#", "self", ".", "visit", "(", "element", ")", "#NEWLINE#", "#UNINDENT#", "self", ".", "current_scope", "=", "self", ".", "current_scope", ".", "get_enclosing_scope", "(", ")"], "error_location": [11], "repair_targets": [4, 22, 32, 80, 98, 130], "repair_candidates": [2, 28, 57, 71, 84, 89, 104, 122, 136, 144, 148, 11, 47, 77, 93, 96, 112, 118, 20, 42, 51, 53, 64, 128, 140, 4, 22, 32, 80, 98, 130], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "rspivak/slimit/src/slimit/visitors/scopevisitor.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 3729, "results": {"model": "transformer", "prob": {"loc": [[0.0002520754933357239, 2.269674448385217e-09, 2.0201857964252667e-08, 8.574677079487003e-11, 1.2453193676265073e-07, 6.917889178170711e-11, 1.0229517233284469e-10, 8.054149708280889e-11, 6.47781620011223e-11, 3.683802915488421e-11, 3.3030608803663597e-10, 0.9996528625488281, 5.282647097537563e-10, 1.1091488838488317e-09, 3.385185187720907e-10, 1.101010324577878e-10, 3.6965423777512996e-11, 1.2681400374248142e-10, 7.587127454078413e-11, 4.027234101755539e-11, 2.082342476228405e-08, 1.217266981656806e-10, 4.165394329902483e-06, 4.521349683539455e-10, 1.3029462231362032e-10, 6.555578302425147e-10, 7.912782928887196e-11, 7.315364980442496e-11, 1.5755406979067743e-09, 4.763540950580847e-11, 4.853749780570071e-12, 2.1902929470130061e-10, 2.0115962797717657e-06, 9.36371202797659e-10, 2.4128862796679584e-10, 2.216174882496702e-10, 1.1408999439632694e-10, 8.593702138792736e-11, 4.772708270261994e-11, 1.6262073632145047e-10, 9.179847160201149e-11, 4.185808297196836e-11, 7.269232993323271e-10, 2.207636740081398e-09, 5.937763614127789e-10, 1.426091050804601e-10, 1.2996599629833128e-10, 3.4027038964268286e-09, 2.3017237421596448e-11, 8.654101740779296e-11, 1.9520851601839695e-10, 5.037008032893198e-10, 1.2714920782919137e-10, 2.5051542706933105e-07, 3.526767419770316e-11, 8.860055050741167e-11, 2.3523299974570477e-10, 2.0574067093548365e-05, 3.1138711054090606e-10, 1.6553352438775093e-11, 1.7439870381164013e-10, 1.9463933242924725e-10, 6.848021455452269e-11, 3.0799310324347573e-10, 3.2778066270111594e-06, 2.534288889854963e-10, 1.391902981762172e-10, 1.4297295292120538e-10, 2.5096844047389766e-10, 1.9399776229889198e-10, 1.0646067361008704e-10, 3.3805993560065417e-09, 3.1729483623843535e-11, 3.74792688204173e-12, 8.26427745681535e-11, 3.3353465822560935e-11, 4.0581565885489113e-10, 1.4024802794665447e-06, 7.876558294483971e-10, 2.734304171969626e-10, 2.583522018539952e-08, 1.2731325715886754e-10, 2.5990373048179194e-11, 1.0080724449634815e-10, 3.892335826094495e-06, 3.7136604902343606e-10, 1.0660224439296151e-11, 8.200187751050692e-10, 3.1916325138325874e-10, 3.2840656860599893e-09, 2.06151415382827e-10, 5.65619513032134e-12, 2.2249505016169735e-10, 1.277296178159304e-05, 1.6146520787074792e-09, 1.2558143414054257e-09, 4.915976070662964e-09, 2.937342383213526e-11, 5.352094831323484e-06, 1.656682568906831e-09, 1.796541040932631e-11, 2.7426578785849642e-09, 5.865296581752943e-10, 3.419266536575094e-10, 4.8262283058875255e-09, 4.784575513561151e-11, 1.4114128268905013e-11, 2.8938956786461745e-10, 4.076167181565893e-11, 1.9859751343442866e-10, 2.3732679710342097e-10, 8.065099144083376e-10, 2.335986209800467e-06, 1.128346638346045e-09, 1.827731577197511e-10, 3.982473795183239e-10, 4.4607295635046285e-10, 3.1644040165978993e-10, 3.805917359045452e-08, 3.4926958547565334e-10, 2.9845490662205876e-11, 9.377218446182667e-11, 8.924628673412371e-06, 4.5560638595176783e-10, 1.7683847441940514e-11, 4.841900769214647e-10, 3.575236218189559e-10, 9.84878734122674e-10, 3.1341556017139283e-09, 9.315537924381445e-11, 2.939200567197986e-05, 8.053692712728378e-10, 1.7166141771940424e-11, 2.5623205779368163e-09, 1.5927047181119036e-10, 5.338190653403352e-11, 1.141415920113964e-10, 4.5611219662289315e-11, 4.332307082521858e-12, 1.615236278063037e-10, 1.0628959756786571e-07, 1.4278935811518068e-09, 3.5530609010514524e-10, 8.722575439712443e-11, 2.2307433678037114e-09, 8.306107190936274e-11, 6.38334697600218e-12, 4.5634537815253395e-11, 2.6501018624003336e-07, 2.664654608075523e-10, 2.6849069842405093e-11, 1.8450414807080762e-10, 2.8605298685313585e-10, 1.1687612655464363e-08, 1.873690314013743e-09]], "pointer": [[0.0, 0.0, 0.08520202338695526, 0.0, 0.7290701270103455, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.2208085087859217e-09, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0003587931350921e-06, 0.0, 0.021805426105856895, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00043212182936258614, 0.0, 0.0, 0.0, 0.010724774561822414, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.151001687409007e-07, 0.0, 0.0, 0.0, 0.0, 9.84704547590809e-06, 0.0, 0.0, 0.0, 2.99744513654332e-08, 0.0, 3.85304090855243e-08, 0.0, 0.0, 0.0, 0.1500300168991089, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.1666014643196831e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.4987464459845796e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 5.005298362448229e-07, 0.0, 0.0, 1.0825709978234954e-05, 0.0, 0.0, 0.0, 0.0006439677672460675, 0.0, 0.0, 0.0, 0.0, 8.801163858151995e-06, 0.0, 0.0, 0.0, 5.128547400090611e-07, 0.0, 0.0, 9.251775736629497e-06, 0.0, 8.995123789645731e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 1.7344118532491848e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.6315906350428122e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 4.704584171122406e-06, 0.0, 0.0, 0.0, 0.0004571175086311996, 0.0, 0.0, 0.0, 0.0, 0.0, 1.9543224993867625e-07, 0.0, 0.0010008049430325627, 0.0, 0.0, 0.0, 0.0, 0.0, 4.9020109145203605e-06, 0.0, 0.0, 0.0, 1.5067701752968787e-08, 0.0, 0.0, 0.0, 0.00017048075096681714, 0.0, 0.0, 0.0, 0.0002668676897883415, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.7627019286155701]}, "loss": [0.0003471963864285499, 0.27088797092437744], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def visit_FuncDecl(', 'self', ',', 'node', ')', ':', '#NEWLINE#', '#INDENT#', 'if', '(', 'func_sym', '.', 'identifier', 'is not', 'None', ')', ':', '#NEWLINE#', '#INDENT#', 'name', '=', 'node', '.', 'identifier', '.', 'value', '#NEWLINE#', 'self', '.', 'visit_Identifier', '(', 'node', '.', 'identifier', ')', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'name', '=', 'None', '#NEWLINE#', '#UNINDENT#', 'func_sym', '=', 'FuncSymbol', '(', 'name', '=', 'name', ',', 'enclosing_scope', '=', 'self', '.', 'current_scope', ')', '#NEWLINE#', 'if', '(', 'name', 'is not', 'None', ')', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'current_scope', '.', 'define', '(', 'func_sym', ')', '#NEWLINE#', 'node', '.', 'scope', '=', 'self', '.', 'current_scope', '#NEWLINE#', '#UNINDENT#', 'self', '.', 'current_scope', '=', 'func_sym', '#NEWLINE#', 'for', 'ident', 'in', 'node', '.', 'parameters', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'current_scope', '.', 'define', '(', 'VarSymbol', '(', 'ident', '.', 'value', ')', ')', '#NEWLINE#', 'ident', '.', 'scope', '=', 'self', '.', 'current_scope', '#NEWLINE#', '#UNINDENT#', 'for', 'element', 'in', 'node', '.', 'elements', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'visit', '(', 'element', ')', '#NEWLINE#', '#UNINDENT#', 'self', '.', 'current_scope', '=', 'self', '.', 'current_scope', '.', 'get_enclosing_scope', '(', ')']


All attention probs:

[0.009696146473288536, 0.007668063975870609, 0.039035994559526443, 0.013837219215929508, 0.02889617532491684, 0.012925057671964169, 0.008061409927904606, 0.008001618087291718, 0.0074218204244971275, 0.007463094312697649, 0.007749482057988644, 0.04705241322517395, 0.006626330781728029, 0.007581906858831644, 0.00578412925824523, 0.006095053628087044, 0.006193144712597132, 0.005779672414064407, 0.007006264757364988, 0.007262589875608683, 0.011923127807676792, 0.006610523909330368, 0.015172304585576057, 0.004374492913484573, 0.004595903214067221, 0.0035453191958367825, 0.003376818960532546, 0.005320821888744831, 0.01086241565644741, 0.0032936425413936377, 0.00365229113958776, 0.0037923729978501797, 0.0126488097012043, 0.003587286686524749, 0.0034772681538015604, 0.003573918715119362, 0.005283084698021412, 0.005514053162187338, 0.01170370727777481, 0.003836574964225292, 0.003963658586144447, 0.004033875651657581, 0.009785408154129982, 0.004289515316486359, 0.003297993214800954, 0.004329635761678219, 0.004727550782263279, 0.022361552342772484, 0.006224222015589476, 0.0035720495507121086, 0.002957012737169862, 0.006002932321280241, 0.0026070878375321627, 0.01770922727882862, 0.0026303573977202177, 0.005172757897526026, 0.00242461240850389, 0.012514537200331688, 0.002143997699022293, 0.0036484322044998407, 0.0023356599267572165, 0.003688415512442589, 0.003712548641487956, 0.0023219806607812643, 0.012528126128017902, 0.003575957613065839, 0.0036781644448637962, 0.004216290544718504, 0.0037271669134497643, 0.0044862800277769566, 0.004399580415338278, 0.006787403021007776, 0.0024309002328664064, 0.005657695233821869, 0.0024318473879247904, 0.0033098445273935795, 0.003121732035651803, 0.01275487057864666, 0.002387196058407426, 0.004626824986189604, 0.009766628034412861, 0.0023877944331616163, 0.0037558486219495535, 0.002788962097838521, 0.014310560189187527, 0.002328309928998351, 0.003723730565980077, 0.004389810375869274, 0.0039206380024552345, 0.007821721956133842, 0.0022354850079864264, 0.0068147568963468075, 0.00304785231128335, 0.013072798028588295, 0.004275118000805378, 0.0036118850111961365, 0.011447538621723652, 0.005285979248583317, 0.013460243120789528, 0.0027732152957469225, 0.0033368479926139116, 0.0035947910510003567, 0.004649425856769085, 0.00561123201623559, 0.0071926116943359375, 0.0023907904978841543, 0.004174434579908848, 0.002150794956833124, 0.0033295094035565853, 0.0028835455887019634, 0.002777048386633396, 0.004287374205887318, 0.012974527664482594, 0.0023911220487207174, 0.0031201045494526625, 0.0023093612398952246, 0.0021223516669124365, 0.004532035905867815, 0.010300219990313053, 0.002300920896232128, 0.004493192303925753, 0.003043560078367591, 0.015958404168486595, 0.0028803558088839054, 0.0035925537813454866, 0.004827797878533602, 0.005763383582234383, 0.005920449271798134, 0.016300398856401443, 0.004742196761071682, 0.01589503325521946, 0.0025864255148917437, 0.0036899095866829157, 0.003459279192611575, 0.004176376387476921, 0.0035887195263057947, 0.006552088540047407, 0.0021582667250186205, 0.0045843874104321, 0.003480939893051982, 0.012499464675784111, 0.0030436948873102665, 0.004556713625788689, 0.0038973777554929256, 0.009245236404240131, 0.002283758018165827, 0.004648473113775253, 0.0033450264018028975, 0.010951187461614609, 0.0024514326360076666, 0.004196031950414181, 0.0032181632705032825, 0.005183595232665539, 0.005896571092307568, 0.006384401582181454]


Top-k source tokens:

['func_sym', 'self', 'node', 'func_sym', 'name', 'element', 'self', 'node', 'node', 'self']


Top-k attention probs:

[0.04705241322517395, 0.039035994559526443, 0.02889617532491684, 0.022361552342772484, 0.01770922727882862, 0.016300398856401443, 0.015958404168486595, 0.01589503325521946, 0.015172304585576057, 0.014310560189187527]
