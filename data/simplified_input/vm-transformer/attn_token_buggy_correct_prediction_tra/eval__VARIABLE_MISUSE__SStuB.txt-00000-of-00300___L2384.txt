
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def resolve_data(", "self", ",", "dbsession", ",", "testrecord", ")", ":", "#NEWLINE#", "#INDENT#", "dp", "=", "self", ".", "_datapoints", "#NEWLINE#", "if", "dp", ":", "#NEWLINE#", "#INDENT#", "tdl", "=", "[", "models", ".", "create", "(", "models", ".", "TestResultData", ",", "data", "=", "hldr", ".", "data", ",", "note", "=", "hldr", ".", "note", ",", "testresult", "=", "testrecord", ")", "for", "hldr", "in", "dp", "]", "#NEWLINE#", "for", "tr", "in", "tdl", ":", "#NEWLINE#", "#INDENT#", "dbsession", ".", "add", "(", "self", ")", "#NEWLINE#", "#UNINDENT#", "testrecord", ".", "data", "=", "tdl", "#NEWLINE#", "#UNINDENT#", "self", ".", "_datapoints", "=", "None"], "error_location": [66], "repair_targets": [56], "repair_candidates": [35, 41, 50, 6, 47, 70, 11, 18, 52, 2, 13, 66, 77, 56, 22, 58, 74, 4, 62], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "kdart/pycopia/QA/pycopia/reports/database.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 2384, "results": {"model": "transformer", "prob": {"loc": [[0.012097756378352642, 2.0315636106715829e-07, 1.1364326013563186e-07, 5.631909605341434e-09, 8.429836952927872e-07, 5.753810317088437e-09, 4.168708471752325e-07, 3.0220106417289117e-09, 5.544954717606743e-09, 9.797852307258381e-09, 6.702744137498939e-09, 1.491604706416183e-07, 1.1852757886288146e-08, 4.3845382606377825e-05, 5.864038588043741e-09, 6.2223377561565485e-09, 4.1845954257269113e-08, 2.0661543587152664e-08, 7.3955328844022e-05, 2.4297838407960626e-08, 2.6275985831603066e-08, 9.340389794942894e-09, 2.391480791175127e-07, 1.2526578885285744e-08, 1.700434637541548e-08, 1.5265896324834216e-09, 2.3997955622689915e-08, 1.0011466100579014e-09, 1.474331590145539e-08, 7.33608800373986e-08, 3.65902792509587e-08, 5.158164562146794e-09, 6.7117120750026515e-09, 3.320377972571009e-09, 5.991410034766886e-09, 6.043904068064876e-05, 6.529644025476955e-08, 1.6722488949127978e-09, 8.542123453025852e-09, 1.8053477601753798e-09, 1.3942565324498446e-08, 4.893200093647465e-05, 7.74780204437775e-08, 1.0957613705286917e-09, 8.384640537428822e-09, 2.219675776515828e-09, 1.182401376809139e-08, 0.0036471120547503233, 1.0092918500959058e-06, 1.3048645541857695e-06, 3.2001775451817593e-08, 3.285082428305941e-09, 0.00011514608922880143, 3.426877626111491e-08, 2.4838237777657923e-07, 1.0679656270440319e-07, 4.11781820730539e-06, 7.157578529870534e-09, 0.00016586968558840454, 3.6580580342615576e-08, 5.1601450223870415e-08, 2.730811310414083e-08, 7.8326860375455e-07, 1.0419976881337334e-08, 1.949895356290199e-09, 5.018105753151758e-08, 0.9328623414039612, 7.683921126044879e-07, 3.41327222486143e-07, 1.1909972386092704e-07, 7.871591151342727e-06, 2.33366268531654e-08, 7.887014596974495e-09, 1.6197864383116212e-08, 0.05086365342140198, 1.682414563219936e-07, 5.670878877594987e-08, 8.041682235671033e-07, 1.6048959494696646e-08, 3.374049706295068e-09, 5.578585415833004e-08, 3.913761190688092e-07]], "pointer": [[0.0, 0.0, 0.00035871603176929057, 0.0, 0.0020898247603327036, 0.0, 0.0053651947528123856, 0.0, 0.0, 0.0, 0.0, 0.00836652796715498, 0.0, 2.1315172489266843e-05, 0.0, 0.0, 0.0, 0.0, 0.00025399361038580537, 0.0, 0.0, 0.0, 0.012950124219059944, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000829649216029793, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00084554438944906, 0.0, 0.0, 0.0, 0.0, 0.0, 0.001530340756289661, 0.0, 0.0, 0.009936114773154259, 0.0, 0.0010412813862785697, 0.0, 0.0, 0.0, 0.9489601254463196, 0.0, 0.0011114201042801142, 0.0, 0.0, 0.0, 0.0014981343410909176, 0.0, 0.0, 0.0, 0.0004919472266919911, 0.0, 0.0, 0.0, 0.00376129150390625, 0.0, 0.0, 0.0, 0.0005566634354181588, 0.0, 0.0, 3.17993362841662e-05, 0.0, 0.0, 0.0, 0.0]], "target": [0.9489601254463196]}, "loss": [0.0694977268576622, 0.052388496696949005], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def resolve_data(', 'self', ',', 'dbsession', ',', 'testrecord', ')', ':', '#NEWLINE#', '#INDENT#', 'dp', '=', 'self', '.', '_datapoints', '#NEWLINE#', 'if', 'dp', ':', '#NEWLINE#', '#INDENT#', 'tdl', '=', '[', 'models', '.', 'create', '(', 'models', '.', 'TestResultData', ',', 'data', '=', 'hldr', '.', 'data', ',', 'note', '=', 'hldr', '.', 'note', ',', 'testresult', '=', 'testrecord', ')', 'for', 'hldr', 'in', 'dp', ']', '#NEWLINE#', 'for', 'tr', 'in', 'tdl', ':', '#NEWLINE#', '#INDENT#', 'dbsession', '.', 'add', '(', 'self', ')', '#NEWLINE#', '#UNINDENT#', 'testrecord', '.', 'data', '=', 'tdl', '#NEWLINE#', '#UNINDENT#', 'self', '.', '_datapoints', '=', 'None']


All attention probs:

[0.013642462901771069, 0.011056923307478428, 0.044674091041088104, 0.016060587018728256, 0.024829119443893433, 0.013214148581027985, 0.027216194197535515, 0.013226823881268501, 0.010718103498220444, 0.01334493886679411, 0.013637199997901917, 0.02746586687862873, 0.01064992230385542, 0.025633705779910088, 0.007345586083829403, 0.008227813988924026, 0.010494315065443516, 0.009169130586087704, 0.019270341843366623, 0.00883622094988823, 0.00796028133481741, 0.008069298230111599, 0.02291838452219963, 0.007006355561316013, 0.007189844734966755, 0.008784102275967598, 0.004598439671099186, 0.0054014697670936584, 0.006381112616509199, 0.011176609434187412, 0.00476513197645545, 0.005826935637742281, 0.007185783237218857, 0.01040851790457964, 0.006087487563490868, 0.024343257769942284, 0.004978434648364782, 0.005688032601028681, 0.007645626086741686, 0.010813388042151928, 0.005666425917297602, 0.024107981473207474, 0.006132625974714756, 0.008691319264471531, 0.006019439082592726, 0.011127934791147709, 0.00622531957924366, 0.0242600180208683, 0.0051954262889921665, 0.006881251465529203, 0.017549868673086166, 0.00594174861907959, 0.020140787586569786, 0.0046849423088133335, 0.007514190394431353, 0.006326097529381514, 0.022888602688908577, 0.006586228962987661, 0.019595814868807793, 0.007587779778987169, 0.006692945491522551, 0.006902126129716635, 0.01895992085337639, 0.004826012067496777, 0.00768455071374774, 0.008518821559846401, 0.05764022842049599, 0.007766283582895994, 0.009734950959682465, 0.00854966789484024, 0.015348688699305058, 0.00520353764295578, 0.010435748845338821, 0.007767961360514164, 0.03300066292285919, 0.008425901643931866, 0.007577619981020689, 0.01756311021745205, 0.004318074323236942, 0.007769432384520769, 0.007806011475622654, 0.008441952057182789]


Top-k source tokens:

['self', 'self', 'tdl', 'dp', 'testrecord', 'self', 'dbsession', 'hldr', 'testrecord', 'hldr']


Top-k attention probs:

[0.05764022842049599, 0.044674091041088104, 0.03300066292285919, 0.02746586687862873, 0.027216194197535515, 0.025633705779910088, 0.024829119443893433, 0.024343257769942284, 0.0242600180208683, 0.024107981473207474]
