
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def _get_sqla_table(", "ctx", ",", "table", ")", ":", "#NEWLINE#", "#INDENT#", "if", "ctx", ".", "has_ref", "(", "table", ")", ":", "#NEWLINE#", "#INDENT#", "ctx_level", "=", "ctx", "#NEWLINE#", "sa_table", "=", "ctx_level", ".", "get_table", "(", "table", ")", "#NEWLINE#", "while", "(", "(", "sa_table", "is", "None", ")", "and", "(", "ctx_level", ".", "parent", "is not", "ctx_level", ")", ")", ":", "#NEWLINE#", "#INDENT#", "ctx_level", "=", "ctx_level", ".", "parent", "#NEWLINE#", "sa_table", "=", "ctx_level", ".", "get_table", "(", "table", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "op", "=", "table", ".", "op", "(", ")", "#NEWLINE#", "if", "isinstance", "(", "ctx", ",", "AlchemyTable", ")", ":", "#NEWLINE#", "#INDENT#", "sa_table", "=", "op", ".", "sqla_table", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "sa_table", "=", "ctx", ".", "get_compiled_expr", "(", "table", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "return", "sa_table"], "error_location": [83], "repair_targets": [72, 76, 92], "repair_candidates": [4, 14, 29, 63, 74, 107, 2, 10, 21, 83, 103, 72, 76, 92, 23, 35, 57, 90, 101, 113, 19, 25, 41, 45, 51, 53, 59], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "cloudera/ibis/ibis/sql/alchemy.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 569, "results": {"model": "transformer", "prob": {"loc": [[0.09039831906557083, 5.501016744346998e-07, 2.4460811687276873e-07, 7.080244390778034e-09, 2.9591711836474133e-07, 6.4113945263954975e-09, 8.126696648957932e-09, 1.0590399668330974e-08, 1.0236568925847678e-08, 9.808615253348307e-09, 3.239633272755782e-08, 8.629811532046006e-09, 3.7430156751838695e-09, 6.729215407119682e-09, 0.00037639698712155223, 3.954189420340981e-09, 1.3180618374519781e-08, 1.1173558078780843e-08, 4.771264272562803e-09, 1.349063438738085e-07, 6.210640890458308e-09, 0.0015611513517796993, 8.179085853043944e-09, 2.183538043709632e-07, 5.2876982792327e-09, 4.418663479555107e-08, 6.999172352806227e-09, 2.2705051172522417e-09, 1.4514092150363922e-08, 0.0009408085606992245, 3.7055187362966535e-08, 1.4775086043528063e-08, 7.832484882897006e-09, 4.103691164658585e-09, 1.6246396228325466e-08, 0.0004431019478943199, 1.1371418651151544e-07, 2.1392215998616848e-08, 1.744071198572783e-08, 5.29590735709462e-08, 8.50788861583851e-09, 0.0006731055909767747, 5.80283128215342e-08, 1.5116006224502598e-08, 2.341369409464278e-08, 0.15958702564239502, 3.861988773223857e-08, 2.2666206689336832e-08, 4.9172985683298975e-08, 4.917654905511881e-08, 1.8527302358961606e-08, 2.3989950932445936e-06, 4.033678724368883e-09, 0.0034283874556422234, 6.701220911509154e-08, 1.0209368461744361e-08, 4.015227617060191e-08, 6.236614922272565e-07, 1.3587349911858837e-08, 6.564663408425986e-07, 3.196642595071353e-08, 1.8294382897465766e-08, 5.7489597082849286e-08, 0.0016486590029671788, 1.626193721904201e-07, 9.232694253569207e-08, 5.385311396821635e-08, 5.8843721006951455e-08, 3.647807318429841e-07, 9.098209829971893e-08, 1.1721995463176427e-07, 8.907365156574087e-08, 4.119336881558411e-05, 3.4644667579186716e-08, 4.2187516555713955e-06, 6.219250536787513e-08, 6.833412840023811e-07, 2.3021621586849506e-07, 2.9450549732246145e-07, 1.7582273414973315e-07, 9.585406246515049e-08, 6.042120048732613e-08, 1.4865321418255917e-07, 0.7389330863952637, 2.66292033757054e-07, 3.8345828556884953e-07, 6.176621525355586e-08, 1.4196768916008295e-07, 6.249227624266496e-08, 3.786792746041101e-08, 7.607993666169932e-07, 1.0907105441049225e-08, 9.576942829880863e-05, 8.34769693369708e-08, 4.8548219666599834e-08, 6.682789432943537e-08, 4.0144847446299536e-08, 6.216890113819318e-08, 6.490154191851616e-08, 5.570871763893592e-08, 3.345193277937142e-08, 6.50180368211295e-07, 2.25176730594967e-08, 1.1189799806743395e-06, 3.0387599991854586e-08, 2.9656451516757443e-08, 5.0238860183071665e-08, 0.0015959833981469274, 2.3749916522319836e-07, 2.6397364649710653e-07, 2.5473792675256846e-07, 3.2450955700369377e-07, 2.422235922949767e-07, 0.00025839192676357925]], "pointer": [[0.0, 0.0, 0.005167517811059952, 0.0, 0.0134434774518013, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00015778733359184116, 0.0, 0.0, 0.0, 0.00020587102335412055, 0.0, 0.0, 0.0, 0.0, 0.0029535864014178514, 0.0, 8.335832535522059e-05, 0.0, 0.11575127393007278, 0.0, 0.0005627988139167428, 0.0, 0.0, 0.0, 0.0006016733823344111, 0.0, 0.0, 0.0, 0.0, 0.0, 0.006651824340224266, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0023267585784196854, 0.0, 0.0, 0.0, 4.825928408536129e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0027240102645009756, 0.0, 0.00041512909228913486, 0.0, 0.0, 0.0, 0.018872281536459923, 0.0, 8.641803287900984e-05, 0.0, 0.0, 0.0, 0.0007792122778482735, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8107098937034607, 0.0, 0.004525613505393267, 0.0, 0.0010217996314167976, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00011870531307067722, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0029954100027680397, 0.0, 0.00010561132512520999, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00021952236420474946, 0.0, 0.0002392171008978039, 0.0, 0.0, 0.0, 0.009224602952599525, 0.0, 0.0, 0.0, 0.0, 0.0, 8.4620287452708e-06]], "target": [0.8118373155593872]}, "loss": [0.30254796147346497, 0.20845530927181244], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def _get_sqla_table(', 'ctx', ',', 'table', ')', ':', '#NEWLINE#', '#INDENT#', 'if', 'ctx', '.', 'has_ref', '(', 'table', ')', ':', '#NEWLINE#', '#INDENT#', 'ctx_level', '=', 'ctx', '#NEWLINE#', 'sa_table', '=', 'ctx_level', '.', 'get_table', '(', 'table', ')', '#NEWLINE#', 'while', '(', '(', 'sa_table', 'is', 'None', ')', 'and', '(', 'ctx_level', '.', 'parent', 'is not', 'ctx_level', ')', ')', ':', '#NEWLINE#', '#INDENT#', 'ctx_level', '=', 'ctx_level', '.', 'parent', '#NEWLINE#', 'sa_table', '=', 'ctx_level', '.', 'get_table', '(', 'table', ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'op', '=', 'table', '.', 'op', '(', ')', '#NEWLINE#', 'if', 'isinstance', '(', 'ctx', ',', 'AlchemyTable', ')', ':', '#NEWLINE#', '#INDENT#', 'sa_table', '=', 'op', '.', 'sqla_table', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'sa_table', '=', 'ctx', '.', 'get_compiled_expr', '(', 'table', ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'return', 'sa_table']


All attention probs:

[0.01181625947356224, 0.008940983563661575, 0.02832733653485775, 0.014492553658783436, 0.0315929614007473, 0.012789572589099407, 0.00943410862237215, 0.010357171297073364, 0.009458107873797417, 0.010069397278130054, 0.02002115361392498, 0.008324787952005863, 0.010417486540973186, 0.008886700496077538, 0.01838848926126957, 0.007261583115905523, 0.00713076489046216, 0.00826770905405283, 0.00790758803486824, 0.02268124185502529, 0.007212212309241295, 0.01692601479589939, 0.007672930136322975, 0.017132196575403214, 0.006872435100376606, 0.012034467421472073, 0.0037828951608389616, 0.004147807601839304, 0.004426016006618738, 0.015004152432084084, 0.004586636554449797, 0.006534080021083355, 0.006832609418779612, 0.0036166568752378225, 0.004053630866110325, 0.017869675531983376, 0.00425413204357028, 0.004408242180943489, 0.004594056401401758, 0.005516482517123222, 0.0036245137453079224, 0.018359797075390816, 0.004342394415289164, 0.006514370907098055, 0.0039003246929496527, 0.03834618628025055, 0.00453367130830884, 0.003983888775110245, 0.004253136459738016, 0.005529650952666998, 0.005128387827426195, 0.010301194153726101, 0.0045998590067029, 0.015502781607210636, 0.00266245286911726, 0.00393066368997097, 0.0053022271022200584, 0.009334955364465714, 0.004187167156487703, 0.013049040921032429, 0.002816041000187397, 0.0038176286034286022, 0.004117364063858986, 0.01372949406504631, 0.0036098628770560026, 0.00566456001251936, 0.005522476509213448, 0.006574131082743406, 0.01590091921389103, 0.005011380650103092, 0.006438795477151871, 0.00615484407171607, 0.021907588467001915, 0.0046193259768188, 0.009496704675257206, 0.0025348577182739973, 0.003256905823945999, 0.003655359847471118, 0.003184101777151227, 0.005596167873591185, 0.006550079211592674, 0.004065685905516148, 0.0036366675049066544, 0.020487390458583832, 0.004057880956679583, 0.006866927724331617, 0.0038952373433858156, 0.0054617407731711864, 0.006024953909218311, 0.005103793926537037, 0.012155783362686634, 0.0046850526705384254, 0.01873144321143627, 0.0030528102070093155, 0.0036703285295516253, 0.006010611075907946, 0.00682405848056078, 0.011778385378420353, 0.008898804895579815, 0.007606332655996084, 0.006690068636089563, 0.014386536553502083, 0.006087584886699915, 0.012699272483587265, 0.004264950752258301, 0.00521322013810277, 0.004990094806998968, 0.016919443383812904, 0.003141588531434536, 0.006487709004431963, 0.0066726431250572205, 0.007860374636948109, 0.011109172366559505, 0.018874913454055786]


Top-k source tokens:

['ctx_level', 'table', 'ctx', 'ctx_level', 'op', 'ctx', 'ctx', 'sa_table', 'op', 'table']


Top-k attention probs:

[0.03834618628025055, 0.0315929614007473, 0.02832733653485775, 0.02268124185502529, 0.021907588467001915, 0.020487390458583832, 0.02002115361392498, 0.018874913454055786, 0.01873144321143627, 0.01838848926126957]
