
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def handle_data(", "self", ",", "data", ")", ":", "#NEWLINE#", "#INDENT#", "if", "(", "self", ".", "incr", "==", "0", ")", ":", "#NEWLINE#", "#INDENT#", "assert", "(", "len", "(", "self", ".", "portfolio", ".", "positions", ".", "keys", "(", ")", ")", "==", "0", ")", "#NEWLINE#", "method_to_check", "=", "getattr", "(", "self", ",", "self", ".", "method_name", ")", "#NEWLINE#", "method_to_check", "(", "self", ".", "sid", "(", "133", ")", ",", "data", ".", "current", "(", "sid", "(", "0", ")", ",", "'price'", ")", ",", "style", "=", "StopLimitOrder", "(", "10", ",", "10", ")", ")", "#NEWLINE#", "assert", "(", "len", "(", "self", ".", "blotter", ".", "open_orders", "[", "self", ".", "sid", "(", "133", ")", "]", ")", "==", "1", ")", "#NEWLINE#", "result", "=", "self", ".", "blotter", ".", "open_orders", "[", "self", ".", "sid", "(", "133", ")", "]", "[", "0", "]", "#NEWLINE#", "assert", "(", "result", ".", "limit", "==", "10", ")", "#NEWLINE#", "assert", "(", "self", ".", "stop", "==", "10", ")", "#NEWLINE#", "self", ".", "incr", "+=", "1"], "error_location": [132], "repair_targets": [102, 123], "repair_candidates": [2, 11, 24, 42, 44, 51, 84, 90, 104, 110, 132, 139, 38, 49, 102, 123, 4, 58], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "quantopian/zipline/zipline/test_algorithms.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 2787, "results": {"model": "transformer", "prob": {"loc": [[0.08924082666635513, 9.377019409839704e-07, 1.5769532524245733e-07, 9.231508890650275e-09, 1.8347881223235163e-06, 8.170462528767075e-09, 1.5349771231853993e-08, 2.1379202408411402e-08, 2.0630412933542175e-08, 1.9302826004263807e-08, 1.4350936439200268e-08, 0.0004316976119298488, 2.094207118830127e-08, 2.247656283316246e-08, 2.2263483501205883e-08, 9.208885103362263e-07, 1.467397936494308e-08, 5.0160050335534834e-08, 4.5632326362010645e-08, 9.581488491505752e-09, 4.163459799144675e-09, 4.000845432727829e-09, 6.138202390815195e-09, 5.56379632143944e-07, 0.00013505559763871133, 3.096283052173021e-08, 2.9811999979756365e-07, 3.185534325211847e-08, 1.3787952113375468e-08, 3.214427835018796e-08, 8.59956514887017e-08, 1.9507957915720908e-07, 3.320515773452826e-08, 1.2798547777137514e-09, 6.91537316299673e-09, 2.0810134628845844e-06, 2.163389467568777e-08, 1.1813655831360848e-08, 3.9385741956721176e-07, 1.2477111788200546e-08, 1.731892140810487e-08, 3.9495326120686514e-08, 0.0014572740765288472, 1.3953140864941815e-08, 0.000213687279028818, 6.008205843954784e-08, 2.8928154094387537e-08, 3.404716153454501e-08, 2.2746281302943316e-08, 5.246413934401062e-07, 1.1825896706341155e-08, 1.5137507602958067e-07, 1.4473592102604016e-08, 6.076093406193195e-09, 6.167532262679742e-08, 7.232391112665937e-07, 1.3054519243382856e-08, 1.4872942877275364e-08, 1.0175886927754618e-05, 1.5880553760894145e-08, 3.098839851389812e-09, 4.997536251494239e-08, 2.4861925851382694e-08, 2.516752886094764e-07, 6.219098622750607e-07, 1.3514203978104433e-08, 1.6236574751360422e-08, 3.847355571906519e-07, 2.5966071959260262e-08, 1.6555041781884938e-08, 1.488213552391926e-08, 4.4379881103395746e-08, 2.7839309524324563e-08, 2.3368039592241985e-07, 8.259689252554381e-07, 2.706778623462469e-08, 1.3688288618141087e-06, 5.052068985378355e-08, 3.534791659376424e-08, 3.501195067201479e-08, 8.991075439723772e-09, 6.9603252050853825e-09, 2.7064066543402987e-08, 1.275543354495312e-06, 0.00020960914844181389, 9.968879055577418e-08, 8.98172203278591e-08, 1.0503480041279545e-07, 3.000494075422466e-08, 8.807045333014685e-07, 1.057655140357383e-06, 6.391628915025649e-08, 3.6727689778359718e-09, 1.5938978492613387e-07, 2.0304100871726405e-06, 4.40074821028702e-08, 2.30737864370667e-08, 7.756440822959121e-09, 1.5579102452534244e-08, 3.0294543194031576e-06, 6.196941626512853e-08, 4.464613567733977e-08, 1.5935565897962078e-06, 2.617761296619392e-08, 3.5733279219130054e-05, 4.031165445894658e-08, 3.203534788553952e-07, 9.239440856845249e-08, 1.0514494164226562e-07, 2.1938804195542616e-07, 1.1475286783024785e-06, 6.423845633207748e-08, 6.432228527586403e-09, 3.359130289481982e-07, 5.777534624940017e-06, 9.275178314283039e-08, 4.412565246525446e-08, 2.660543998445064e-07, 1.4160550563246943e-06, 4.2435384983718905e-08, 7.939414103930176e-08, 5.172267059094793e-09, 1.7385917772116954e-07, 0.0009605708764865994, 1.7339091584744892e-07, 3.046379148941014e-08, 1.195284795585394e-07, 6.71241969030234e-06, 1.4508329115869856e-07, 1.039131305446972e-07, 5.2995612342954246e-09, 4.016613530666291e-08, 0.9071314334869385, 6.527159968072738e-08, 2.364891749095932e-08, 1.5195074354323879e-07, 1.1734903637261596e-05, 3.2821640161273535e-07, 9.128837774596832e-08, 9.867262269835919e-05, 7.16865571348535e-08, 1.2870508214746224e-07, 3.3472229432618406e-08, 2.0711269826279022e-05]], "pointer": [[0.0, 0.0, 0.00043649773579090834, 0.0, 0.0034555653110146523, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.194675370352343e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.4780056264717132e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0007199170649982989, 0.0, 0.0, 0.0, 2.968665285152383e-05, 0.0, 0.00016089891141746193, 0.0, 0.0, 0.0, 0.0, 4.46500462203403e-06, 0.0, 1.1837162674055435e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00013932902947999537, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.0543529798451345e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 2.5381881641806103e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3813905715942383, 0.0, 9.621361641620751e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 4.1143575799651444e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6090638637542725, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0004394228453747928, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.003978981636464596, 0.0, 0.0, 0.0, 0.0]], "target": [0.9904544353485107]}, "loss": [0.0974680483341217, 0.009591415524482727], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def handle_data(', 'self', ',', 'data', ')', ':', '#NEWLINE#', '#INDENT#', 'if', '(', 'self', '.', 'incr', '==', '0', ')', ':', '#NEWLINE#', '#INDENT#', 'assert', '(', 'len', '(', 'self', '.', 'portfolio', '.', 'positions', '.', 'keys', '(', ')', ')', '==', '0', ')', '#NEWLINE#', 'method_to_check', '=', 'getattr', '(', 'self', ',', 'self', '.', 'method_name', ')', '#NEWLINE#', 'method_to_check', '(', 'self', '.', 'sid', '(', '133', ')', ',', 'data', '.', 'current', '(', 'sid', '(', '0', ')', ',', "'price'", ')', ',', 'style', '=', 'StopLimitOrder', '(', '10', ',', '10', ')', ')', '#NEWLINE#', 'assert', '(', 'len', '(', 'self', '.', 'blotter', '.', 'open_orders', '[', 'self', '.', 'sid', '(', '133', ')', ']', ')', '==', '1', ')', '#NEWLINE#', 'result', '=', 'self', '.', 'blotter', '.', 'open_orders', '[', 'self', '.', 'sid', '(', '133', ')', ']', '[', '0', ']', '#NEWLINE#', 'assert', '(', 'result', '.', 'limit', '==', '10', ')', '#NEWLINE#', 'assert', '(', 'self', '.', 'stop', '==', '10', ')', '#NEWLINE#', 'self', '.', 'incr', '+=', '1']


All attention probs:

[0.019463157281279564, 0.008665353991091251, 0.044778164476156235, 0.013766288757324219, 0.03477006405591965, 0.013637579046189785, 0.008541829884052277, 0.008502245880663395, 0.007894203998148441, 0.00787600502371788, 0.007345210760831833, 0.029245469719171524, 0.005994782317429781, 0.006756701972335577, 0.005680350121110678, 0.010594512335956097, 0.006117367651313543, 0.006316056475043297, 0.007506481371819973, 0.008137478493154049, 0.007552781607955694, 0.005649170838296413, 0.005026776343584061, 0.006632984150201082, 0.017073865979909897, 0.0037854549009352922, 0.005536812823265791, 0.003368696663528681, 0.004439339507371187, 0.003942680545151234, 0.006226649973541498, 0.004823673516511917, 0.004269393626600504, 0.003803584259003401, 0.003689452074468136, 0.008027869276702404, 0.003573420224711299, 0.005926856305450201, 0.015685532242059708, 0.0047988793812692165, 0.002728113904595375, 0.0036261919885873795, 0.024118278175592422, 0.003993154037743807, 0.017161857336759567, 0.003622546326369047, 0.004197543021291494, 0.002526855794712901, 0.005504088941961527, 0.013775227591395378, 0.0036561335436999798, 0.008371020667254925, 0.002601786283776164, 0.0027894820086658, 0.0031427580397576094, 0.007977419532835484, 0.00311562092974782, 0.0033458590041846037, 0.014051144011318684, 0.0026628586929291487, 0.002994115697219968, 0.0031158002093434334, 0.005892651155591011, 0.0032550108153373003, 0.006003832910209894, 0.0031139536295086145, 0.0038084161933511496, 0.005229217000305653, 0.003817447926849127, 0.003975798841565847, 0.00797690823674202, 0.003555485513061285, 0.00424070842564106, 0.003412986174225807, 0.006714796181768179, 0.0032009377609938383, 0.005460675340145826, 0.0026616796385496855, 0.002309076488018036, 0.0057450332678854465, 0.005175600294023752, 0.002603782108053565, 0.002448585582897067, 0.00388887245208025, 0.012673555873334408, 0.0025213046465069056, 0.0033397923689335585, 0.003822196973487735, 0.0051511614583432674, 0.003817898454144597, 0.008917075581848621, 0.002544559771195054, 0.0033024728763848543, 0.00328382127918303, 0.008296527899801731, 0.0032681270968168974, 0.00386386108584702, 0.003660684684291482, 0.003704071044921875, 0.007355078123509884, 0.003244127379730344, 0.0056459251791238785, 0.021179843693971634, 0.0052574011497199535, 0.00956895761191845, 0.0024942054878920317, 0.0033325303811579943, 0.002293273573741317, 0.004307606257498264, 0.0031414672266691923, 0.009104379452764988, 0.0031663908157497644, 0.004842936061322689, 0.0037107018288224936, 0.007104304153472185, 0.0025376242119818926, 0.0029639278072863817, 0.0026533720083534718, 0.004869670607149601, 0.00299698393791914, 0.005150918383151293, 0.0056046354584395885, 0.0038857522886246443, 0.03778109699487686, 0.0041524567641317844, 0.005564594175666571, 0.006924376357346773, 0.0084314476698637, 0.0050445785745978355, 0.006768167018890381, 0.006565436255186796, 0.004078205209225416, 0.038636162877082825, 0.0025032178964465857, 0.005161693785339594, 0.0032438128255307674, 0.005612542387098074, 0.002903516171500087, 0.00581115810200572, 0.011236829683184624, 0.0030838993843644857, 0.007687085308134556, 0.004414118826389313, 0.006823983509093523]


Top-k source tokens:

['self', 'self', 'result', 'data', 'self', 'self', 'result', '#NEWLINE#', 'self', 'self']


Top-k attention probs:

[0.044778164476156235, 0.038636162877082825, 0.03778109699487686, 0.03477006405591965, 0.029245469719171524, 0.024118278175592422, 0.021179843693971634, 0.019463157281279564, 0.017161857336759567, 0.017073865979909897]
