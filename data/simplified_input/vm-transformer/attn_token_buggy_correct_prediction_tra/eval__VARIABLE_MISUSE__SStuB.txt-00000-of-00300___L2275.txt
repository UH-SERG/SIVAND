
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def linerange(", "node", ")", ":", "#NEWLINE#", "#INDENT#", "'Get line number range from a node.'", "#NEWLINE#", "strip", "=", "{", "#NEWLINE#", "#INDENT#", "'body'", ":", "None", ",", "#NEWLINE#", "'orelse'", ":", "None", ",", "#NEWLINE#", "'handlers'", ":", "None", ",", "#NEWLINE#", "'finalbody'", ":", "None", ",", "#NEWLINE#", "#UNINDENT#", "}", "#NEWLINE#", "for", "key", "in", "strip", ".", "keys", "(", ")", ":", "#NEWLINE#", "#INDENT#", "if", "hasattr", "(", "node", ",", "key", ")", ":", "#NEWLINE#", "#INDENT#", "strip", "[", "key", "]", "=", "getattr", "(", "node", ",", "key", ")", "#NEWLINE#", "setattr", "(", "lines_min", ",", "key", ",", "[", "]", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "lines_min", "=", "9999999999", "#NEWLINE#", "lines_max", "=", "(", "-", "1", ")", "#NEWLINE#", "for", "n", "in", "ast", ".", "walk", "(", "node", ")", ":", "#NEWLINE#", "#INDENT#", "if", "hasattr", "(", "n", ",", "'lineno'", ")", ":", "#NEWLINE#", "#INDENT#", "lines_min", "=", "min", "(", "lines_min", ",", "n", ".", "lineno", ")", "#NEWLINE#", "lines_max", "=", "max", "(", "lines_max", ",", "n", ".", "lineno", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "for", "key", "in", "strip", ".", "keys", "(", ")", ":", "#NEWLINE#", "#INDENT#", "if", "(", "strip", "[", "key", "]", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "setattr", "(", "node", ",", "key", ",", "strip", "[", "key", "]", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "if", "(", "lines_max", ">", "(", "-", "1", ")", ")", ":", "#NEWLINE#", "#INDENT#", "return", "list", "(", "range", "(", "lines_min", ",", "(", "lines_max", "+", "1", ")", ")", ")", "#NEWLINE#", "#UNINDENT#", "return", "[", "0", ",", "1", "]"], "error_location": [72], "repair_targets": [2, 51, 65, 100, 164], "repair_candidates": [2, 51, 65, 100, 164, 38, 53, 60, 67, 74, 140, 154, 166, 170, 86, 126, 130, 178, 196, 72, 82, 115, 119, 193, 9, 40, 58, 142, 152, 168, 94, 108, 121, 132], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "openstack/bandit/bandit/core/utils.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 2275, "results": {"model": "transformer", "prob": {"loc": [[0.139207124710083, 8.948875347414287e-07, 1.9433432498772163e-06, 1.0541406858521896e-08, 1.6914176725890684e-08, 1.5408321729637464e-08, 1.3453711922295497e-08, 8.392428441084121e-08, 1.2686148131990649e-08, 1.7075042535452667e-07, 8.060489875560961e-08, 8.776756033057609e-08, 2.1811182193687273e-08, 1.9736658529723172e-08, 3.4869481169153005e-07, 3.318894670201189e-08, 7.767710741291012e-08, 3.6425767291348166e-08, 3.630459133319164e-08, 4.3613172806544753e-07, 2.1911379377570483e-08, 1.2902766854949732e-07, 2.8626105930129597e-08, 2.362785878062823e-08, 1.2829160311866872e-07, 2.2291612111757786e-08, 4.8309438227533974e-08, 2.023443457233043e-08, 1.9927568928324035e-08, 7.549171243681485e-08, 2.7554724724154767e-08, 7.361393983273956e-08, 3.077918009353198e-08, 2.6149765020022642e-08, 1.8450561967142676e-08, 2.0353070340206614e-08, 1.8014427283219447e-08, 1.7109151428940095e-08, 2.577728253072564e-07, 7.837578586133986e-09, 8.450124511227841e-08, 1.541875782606894e-08, 1.5614047299550293e-07, 6.928873403921898e-07, 1.4150701588278025e-07, 7.926280432002386e-08, 5.39691917822438e-08, 2.669916376873971e-08, 7.20939397069742e-08, 1.1687166789897674e-07, 3.362857512456685e-07, 0.0003849438508041203, 2.0837410374952015e-07, 4.7988680307753384e-05, 3.8093869392241686e-08, 7.49828501511729e-08, 4.05596090047311e-08, 2.7137415870015502e-08, 1.063492163666524e-06, 2.9316360894426907e-08, 0.0004731220833491534, 1.5814537235314674e-08, 1.8682274571801827e-07, 1.0616290069265233e-07, 3.097365492976678e-07, 0.00018655741587281227, 5.6346035393062266e-08, 0.00010227758320979774, 1.1692998214130057e-07, 4.1512976167723536e-08, 6.917447592513781e-08, 4.976059031491786e-08, 0.8149344325065613, 1.0258640514848594e-07, 7.874695438658819e-05, 5.5906799190097445e-08, 2.7959427484347543e-07, 7.40496375328803e-08, 2.444676852064731e-07, 9.97286377923956e-08, 5.9364531068695214e-08, 3.828098371627675e-08, 1.461696683691116e-06, 3.743017273905025e-08, 2.947812618003809e-06, 5.6431751715990686e-08, 9.252777317669825e-07, 5.902716182504264e-08, 2.040665549429832e-06, 2.0480206330830697e-07, 4.594262009049999e-06, 3.1767135055815743e-07, 2.1259820925934036e-07, 2.7429678084445186e-07, 4.858568900090177e-06, 5.230075217355079e-08, 2.0992149529774906e-07, 5.590861462678731e-08, 1.4330282738228561e-08, 1.8808360380262457e-07, 0.012826771475374699, 6.283456599476267e-08, 4.595959524067439e-07, 2.6067962721754157e-07, 4.694851440945058e-07, 4.96684492645727e-07, 3.1434908009941864e-07, 2.6312497993785655e-06, 0.0012064013862982392, 7.488041546821478e-07, 3.879215455526719e-06, 1.8887009218815365e-06, 5.782316065960913e-07, 3.703566164858785e-07, 1.1245486319921838e-07, 1.116019757319009e-05, 6.481802472535492e-08, 9.669779501564335e-07, 6.604446753044613e-06, 0.0011622452875599265, 2.9631610232172534e-07, 7.113326864782721e-05, 6.292706871136033e-07, 2.0635077362385346e-06, 3.004590212185576e-07, 1.9164421871664672e-07, 2.9225332127680304e-06, 3.426874073397812e-08, 6.531319485247877e-08, 3.7331159319364815e-07, 0.0018565020291134715, 1.0158937158166736e-07, 0.00015667172556277364, 2.114820034648801e-07, 4.028678631584626e-06, 1.9686324037593295e-07, 1.5888073789938062e-07, 1.228620760684862e-07, 1.11565050531226e-07, 2.0962460212103906e-07, 1.4397035101865185e-06, 4.6070468329162395e-08, 1.4301981536846142e-06, 4.4989342029566615e-08, 5.068034738542337e-07, 1.5637398973922245e-05, 2.908102487708675e-07, 5.438648713607108e-07, 3.108047508249001e-07, 8.629518077896137e-08, 8.602237500099363e-08, 1.1489856177604452e-07, 0.0061325980350375175, 2.6478435302124126e-06, 0.0005631171516142786, 1.3328083525721013e-07, 2.1709588793328294e-07, 1.0220877300071152e-07, 1.2466603038774338e-07, 1.893811401032508e-07, 8.033046583477699e-08, 4.161286426551669e-08, 3.499023364383902e-07, 2.0159161451260843e-08, 0.0013972363667562604, 5.668707672157325e-07, 0.0016269654734060168, 4.708931271579786e-07, 0.0030396482907235622, 1.7518860886411858e-06, 0.001227627624757588, 3.6680995663118665e-07, 2.3508355297963135e-06, 1.3992885783409292e-07, 6.799469076668174e-08, 6.292811605135284e-08, 4.499088746001689e-08, 5.154119975259164e-08, 0.0038982504047453403, 3.5070613080279145e-07, 1.0980324077536352e-05, 4.828339683626837e-07, 1.830026121751871e-06, 3.724712485109194e-07, 2.307241260268711e-07, 5.378594778449042e-07, 9.790525012931539e-08, 6.307183042508768e-08, 1.930341220202081e-08, 1.7147243625004194e-08, 4.042321677388827e-08, 5.684315169673937e-07, 3.8916047628845263e-07, 0.004962607752531767, 8.559324982115868e-08, 9.184007154772189e-08, 0.004292807541787624, 2.1457933030433196e-07, 3.067032594117336e-06, 6.776213012926746e-07, 4.869722829425882e-07, 3.440150351252669e-07, 1.3208217808369227e-07, 1.236965658790723e-07, 3.914598778465006e-08, 1.62955930136377e-05, 1.3295129974721931e-05, 1.0847551266124356e-06, 8.818008609523531e-06, 9.869538644124987e-07]], "pointer": [[0.0, 0.0, 0.10228436440229416, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0013430879916995764, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.002129934262484312, 0.0, 4.9967053200816736e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.23288002610206604, 0.0, 0.0004957927158102393, 0.0, 0.0, 0.0, 0.0, 0.016502145677804947, 0.0, 0.0007035056478343904, 0.0, 0.0, 0.0, 0.0, 0.07316962629556656, 0.0, 0.00018835262744687498, 0.0, 0.0, 0.0, 0.0, 9.023547318065539e-05, 0.0, 0.0004319138824939728, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.007153475657105446, 0.0, 0.0, 0.0, 0.012233720161020756, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0027179019525647163, 0.0, 0.0, 0.0, 0.0, 0.0, 0.003166234353557229, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00014000837109051645, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.006965307518839836, 0.0, 0.0, 0.0, 0.0002469074388500303, 0.0, 3.3777818316593766e-05, 0.0, 0.0, 0.0, 0.0, 0.0034133736044168472, 0.0, 0.0, 0.0, 9.705072443466634e-05, 0.0, 4.178500239504501e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.005032827612012625, 0.0, 7.315370748983696e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00566457211971283, 0.0, 0.000255208375165239, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5115423798561096, 0.0, 0.00031407541246153414, 0.0, 0.0066911219619214535, 0.0, 9.588657121639699e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0010113688185811043, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0009734247578307986, 0.0, 0.0, 0.001867462880909443, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9230426549911499]}, "loss": [0.20464755594730377, 0.0800798311829567], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def linerange(', 'node', ')', ':', '#NEWLINE#', '#INDENT#', "'Get line number range from a node.'", '#NEWLINE#', 'strip', '=', '{', '#NEWLINE#', '#INDENT#', "'body'", ':', 'None', ',', '#NEWLINE#', "'orelse'", ':', 'None', ',', '#NEWLINE#', "'handlers'", ':', 'None', ',', '#NEWLINE#', "'finalbody'", ':', 'None', ',', '#NEWLINE#', '#UNINDENT#', '}', '#NEWLINE#', 'for', 'key', 'in', 'strip', '.', 'keys', '(', ')', ':', '#NEWLINE#', '#INDENT#', 'if', 'hasattr', '(', 'node', ',', 'key', ')', ':', '#NEWLINE#', '#INDENT#', 'strip', '[', 'key', ']', '=', 'getattr', '(', 'node', ',', 'key', ')', '#NEWLINE#', 'setattr', '(', 'lines_min', ',', 'key', ',', '[', ']', ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'lines_min', '=', '9999999999', '#NEWLINE#', 'lines_max', '=', '(', '-', '1', ')', '#NEWLINE#', 'for', 'n', 'in', 'ast', '.', 'walk', '(', 'node', ')', ':', '#NEWLINE#', '#INDENT#', 'if', 'hasattr', '(', 'n', ',', "'lineno'", ')', ':', '#NEWLINE#', '#INDENT#', 'lines_min', '=', 'min', '(', 'lines_min', ',', 'n', '.', 'lineno', ')', '#NEWLINE#', 'lines_max', '=', 'max', '(', 'lines_max', ',', 'n', '.', 'lineno', ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'for', 'key', 'in', 'strip', '.', 'keys', '(', ')', ':', '#NEWLINE#', '#INDENT#', 'if', '(', 'strip', '[', 'key', ']', 'is not', 'None', ')', ':', '#NEWLINE#', '#INDENT#', 'setattr', '(', 'node', ',', 'key', ',', 'strip', '[', 'key', ']', ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'if', '(', 'lines_max', '>', '(', '-', '1', ')', ')', ':', '#NEWLINE#', '#INDENT#', 'return', 'list', '(', 'range', '(', 'lines_min', ',', '(', 'lines_max', '+', '1', ')', ')', ')', '#NEWLINE#', '#UNINDENT#', 'return', '[', '0', ',', '1', ']']


All attention probs:

[0.009081225842237473, 0.008235963061451912, 0.01933368109166622, 0.011586767621338367, 0.00838150642812252, 0.0075783380307257175, 0.006325721740722656, 0.00912555679678917, 0.006421765778213739, 0.014928015880286694, 0.006647971924394369, 0.006186280399560928, 0.006690090987831354, 0.006289409939199686, 0.008540828712284565, 0.006520560476928949, 0.005608075764030218, 0.004925505258142948, 0.006140614859759808, 0.00791919231414795, 0.006084009073674679, 0.004718134179711342, 0.003970561549067497, 0.005078446585685015, 0.007603856269270182, 0.003768106922507286, 0.003130971919745207, 0.002893491880968213, 0.0037066314835101366, 0.004850562661886215, 0.003318803384900093, 0.003178799757733941, 0.0035761340986937284, 0.0039032127242535353, 0.0038862077053636312, 0.0035788286477327347, 0.004147255793213844, 0.004379047080874443, 0.015097676776349545, 0.005031679756939411, 0.007230666466057301, 0.0024534338153898716, 0.0040754228830337524, 0.0034201291855424643, 0.0022750275675207376, 0.002467143815010786, 0.003306398633867502, 0.0030335248447954655, 0.003232052316889167, 0.0029623957816511393, 0.002499787835404277, 0.009337483905255795, 0.00243459758348763, 0.008141196332871914, 0.0026014873292297125, 0.002404283033683896, 0.0027168842498213053, 0.0028067680541425943, 0.007481822744011879, 0.0034280838444828987, 0.009268026798963547, 0.002445083111524582, 0.0026767703238874674, 0.0019051056588068604, 0.0021874455269426107, 0.00814653281122446, 0.002615304896607995, 0.009600118733942509, 0.0029665338806807995, 0.0038165864534676075, 0.005976017564535141, 0.0023860742803663015, 0.03494896739721298, 0.0027111207600682974, 0.008069133386015892, 0.0021772629115730524, 0.002554516075178981, 0.0019256039522588253, 0.0021940735168755054, 0.003149022115394473, 0.0027984895277768373, 0.0029286108911037445, 0.01045486144721508, 0.0025261708069592714, 0.002940067322924733, 0.003028599778190255, 0.007675637025386095, 0.0026117563247680664, 0.0029334428254514933, 0.002230776706710458, 0.004046016372740269, 0.0017212008824571967, 0.002914929762482643, 0.0021874483209103346, 0.013267320580780506, 0.0035980509128421545, 0.004117215052247047, 0.0016810244414955378, 0.002701341640204191, 0.002405904931947589, 0.015061934478580952, 0.0020869325380772352, 0.0024630746338516474, 0.003698918269947171, 0.0031179040670394897, 0.003025657031685114, 0.0018383162096142769, 0.002504094038158655, 0.008453800342977047, 0.0020253723487257957, 0.0030461009591817856, 0.0028930746484547853, 0.0026318030431866646, 0.0027614631690084934, 0.0024953214451670647, 0.009266997687518597, 0.002099020406603813, 0.0026057343930006027, 0.0026122508570551872, 0.010057905688881874, 0.0022885198704898357, 0.006702362559735775, 0.001667636912316084, 0.002157923998311162, 0.0022714142687618732, 0.003633790649473667, 0.0073028733022511005, 0.0044104172848165035, 0.002464951016008854, 0.0023736446164548397, 0.013090264052152634, 0.002187978243455291, 0.006956035271286964, 0.0013690758496522903, 0.0020535241346806288, 0.0014209426008164883, 0.002863555680960417, 0.0024907442275434732, 0.0027064376045018435, 0.0028477434534579515, 0.02149439975619316, 0.002945452928543091, 0.0057230000384151936, 0.0013594579650089145, 0.002193167805671692, 0.0035411198623478413, 0.0016966065159067512, 0.002204484771937132, 0.0026971003971993923, 0.002590410178527236, 0.0033490858040750027, 0.0022919971961528063, 0.01249475497752428, 0.003547185566276312, 0.009259209968149662, 0.0034655730705708265, 0.0029004502575844526, 0.0029215558897703886, 0.0028286396991461515, 0.0030985106714069843, 0.0032343845814466476, 0.0029847752302885056, 0.007819165475666523, 0.0029643606394529343, 0.00814066082239151, 0.0021981229074299335, 0.009370355866849422, 0.002096791984513402, 0.011132721789181232, 0.0025154065806418657, 0.012346052564680576, 0.00216748658567667, 0.002529069082811475, 0.004140949808061123, 0.0036124656908214092, 0.003357277251780033, 0.00336788990534842, 0.0019207475706934929, 0.009842700324952602, 0.0020518286619335413, 0.0031322366558015347, 0.0021556909196078777, 0.0037894793786108494, 0.0023044573608785868, 0.0023204414173960686, 0.0034643709659576416, 0.004092999268323183, 0.005563497543334961, 0.00804078672081232, 0.003812056500464678, 0.003420204622671008, 0.0028877672739326954, 0.003526089945808053, 0.014875130727887154, 0.003165319561958313, 0.0030601059552282095, 0.014591662213206291, 0.0023924733977764845, 0.0037385139148682356, 0.0020171368960291147, 0.0018395927036181092, 0.0016346676275134087, 0.00318106054328382, 0.0028104588855057955, 0.003358481451869011, 0.0027238691691309214, 0.003785649547353387, 0.0024409631732851267, 0.003999253269284964, 0.0023084578569978476]


Top-k source tokens:

['lines_min', 'key', 'node', 'key', 'node', 'strip', 'lines_min', 'lines_max', 'n', 'lines_max']


Top-k attention probs:

[0.03494896739721298, 0.02149439975619316, 0.01933368109166622, 0.015097676776349545, 0.015061934478580952, 0.014928015880286694, 0.014875130727887154, 0.014591662213206291, 0.013267320580780506, 0.013090264052152634]
