
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_on_readable_on_writeable(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "with", "patch", "(", "'kombu.async.http.curl.pycurl'", ")", "as", "_pycurl", ":", "#NEWLINE#", "#INDENT#", "x", "=", "self", ".", "Client", "(", ")", "#NEWLINE#", "x", ".", "_on_event", "=", "Mock", "(", "name", "=", "'on_event'", ")", "#NEWLINE#", "fd", "=", "Mock", "(", "name", "=", "'fd'", ")", "#NEWLINE#", "x", ".", "on_readable", "(", "fd", ",", "_pycurl", "=", "_pycurl", ")", "#NEWLINE#", "x", ".", "_on_event", ".", "assert_called_with", "(", "fd", ",", "_pycurl", ".", "CSELECT_IN", ")", "#NEWLINE#", "x", ".", "on_writable", "(", "fd", ",", "_pycurl", "=", "self", ")", "#NEWLINE#", "x", ".", "_on_event", ".", "assert_called_with", "(", "fd", ",", "_pycurl", ".", "CSELECT_OUT", ")"], "error_location": [77], "repair_targets": [13, 51, 53, 64, 75, 88], "repair_candidates": [2, 19, 77, 36, 49, 62, 73, 86, 13, 51, 53, 64, 75, 88, 17, 25, 45, 56, 69, 80], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "celery/kombu/kombu/tests/async/http/test_curl.py", "license": "bsd-3-clause", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1517, "results": {"model": "transformer", "prob": {"loc": [[7.095841738191666e-06, 1.0805175504335907e-10, 1.1091751128677885e-10, 4.173876955865241e-12, 3.816032993070317e-12, 5.675870797666738e-12, 4.380371933232485e-12, 1.3191276413207498e-12, 3.322491153728846e-12, 7.730757874135907e-12, 2.805257935667438e-11, 2.0285591782742696e-12, 7.2494349932783475e-12, 1.3604056769978e-10, 1.741557527530635e-12, 2.4365934617187612e-12, 1.7765671746217127e-12, 2.0417504492664662e-11, 1.0472185184989824e-12, 3.454516880885272e-11, 1.9980998192808963e-12, 9.168703123119126e-13, 2.5522682925438467e-11, 1.1880066375091758e-11, 2.748621859630096e-12, 1.1252734855027313e-11, 2.4446237135294924e-12, 4.520253800172763e-13, 3.0199627520932637e-12, 1.8562950655776067e-12, 8.908848485311704e-12, 2.934628451703447e-12, 7.089286189337907e-12, 3.4793751213513247e-10, 1.2743458198405389e-11, 4.286391120517097e-12, 4.7251879492504756e-11, 3.057753052496115e-12, 1.3198550325582703e-12, 4.628351087804239e-12, 3.142313232534777e-12, 8.075306048849207e-12, 1.2515948000224597e-10, 8.963098492575927e-12, 7.606752901179181e-12, 4.760408647136449e-13, 2.365928633563108e-12, 3.885636116248564e-13, 2.758090630883281e-12, 9.00176857498991e-08, 1.7562013041733104e-12, 2.6543288400571186e-11, 1.3212025874384525e-12, 6.970158494823409e-08, 6.945063014268671e-12, 8.76778510905396e-12, 1.8674039745092408e-11, 3.6320584127086386e-12, 3.4151395361843584e-13, 3.762679404162306e-12, 2.7549568529239288e-12, 8.702607211252822e-12, 9.283406399163141e-08, 5.289020089949137e-12, 4.878735353486263e-07, 2.982071881096893e-11, 1.6388347276463655e-11, 1.477624272938627e-11, 6.863181897798221e-12, 8.068035172240084e-13, 2.217693476774807e-12, 2.059451350774899e-12, 7.470104396167798e-12, 2.7713230110748555e-07, 7.306223334668793e-12, 2.8528615581002725e-10, 5.027765963977471e-12, 0.9999916553497314, 1.3054919124899644e-11, 1.7243508704245514e-11, 7.678607749639355e-11, 4.0363801710741054e-12, 1.3548578491756613e-12, 3.2293662102084175e-12, 1.333371781042647e-12, 1.2776801318337139e-11, 2.2229141904972494e-07, 6.510099750944853e-12, 3.2692970108882946e-08, 9.762831168491637e-12, 7.736909203581721e-12, 8.601678397335277e-12]], "pointer": [[0.0, 0.0, 6.241125305450623e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0008056823862716556, 0.0, 0.0, 0.0, 0.0003334720095153898, 0.0, 9.23972223176861e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 2.2811591406934895e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00014026949065737426, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.75243814435089e-06, 0.0, 0.0, 0.0, 3.420822451971617e-07, 0.0, 0.00020017509814351797, 0.0, 0.0011840459192171693, 0.0, 0.0, 1.6741317665491806e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 2.4345827114302665e-06, 0.0, 0.00014458486111834645, 0.0, 0.0, 0.0, 0.0, 3.135819497401826e-07, 0.0, 0.0, 0.0, 1.0393962135424317e-08, 0.0, 0.9971328973770142, 0.0, 6.005662100960762e-08, 0.0, 0.0, 1.2353923217744978e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 6.675946195855431e-08, 0.0, 2.7792182663688436e-05, 0.0, 0.0, 0.0]], "target": [0.9994951486587524]}, "loss": [8.4638240878121e-06, 0.0005049788160249591], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_on_readable_on_writeable(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'with', 'patch', '(', "'kombu.async.http.curl.pycurl'", ')', 'as', '_pycurl', ':', '#NEWLINE#', '#INDENT#', 'x', '=', 'self', '.', 'Client', '(', ')', '#NEWLINE#', 'x', '.', '_on_event', '=', 'Mock', '(', 'name', '=', "'on_event'", ')', '#NEWLINE#', 'fd', '=', 'Mock', '(', 'name', '=', "'fd'", ')', '#NEWLINE#', 'x', '.', 'on_readable', '(', 'fd', ',', '_pycurl', '=', '_pycurl', ')', '#NEWLINE#', 'x', '.', '_on_event', '.', 'assert_called_with', '(', 'fd', ',', '_pycurl', '.', 'CSELECT_IN', ')', '#NEWLINE#', 'x', '.', 'on_writable', '(', 'fd', ',', '_pycurl', '=', 'self', ')', '#NEWLINE#', 'x', '.', '_on_event', '.', 'assert_called_with', '(', 'fd', ',', '_pycurl', '.', 'CSELECT_OUT', ')']


All attention probs:

[0.014641274698078632, 0.011213630437850952, 0.05176057666540146, 0.01441506389528513, 0.009974558837711811, 0.01128937304019928, 0.010088172741234303, 0.015227792784571648, 0.017508914694190025, 0.010792004875838757, 0.011478833854198456, 0.01195558812469244, 0.010977497324347496, 0.022357363253831863, 0.008939825929701328, 0.009479638189077377, 0.009104587137699127, 0.0200064554810524, 0.010019085370004177, 0.0236513651907444, 0.0056192814372479916, 0.005599016789346933, 0.008229720406234264, 0.006099377293139696, 0.00848659873008728, 0.014802138321101665, 0.0042274887673556805, 0.011358515359461308, 0.005469894502311945, 0.0059097581543028355, 0.005048391409218311, 0.0065703243017196655, 0.0058286478742957115, 0.010848511010408401, 0.004418313503265381, 0.008395063690841198, 0.023573195561766624, 0.008421450853347778, 0.007058701477944851, 0.005608571693301201, 0.006229550112038851, 0.0053329020738601685, 0.010641760192811489, 0.004489547573029995, 0.007634438574314117, 0.011044574901461601, 0.00507361302152276, 0.004445325117558241, 0.0055961101315915585, 0.01697389967739582, 0.004885583184659481, 0.00899410154670477, 0.004360796883702278, 0.030044924467802048, 0.003697153879329562, 0.006766763981431723, 0.010785487480461597, 0.0032453539315611124, 0.00953879114240408, 0.004049026407301426, 0.006275464780628681, 0.0057123443111777306, 0.01680239476263523, 0.005651406478136778, 0.01722295768558979, 0.0055711884051561356, 0.007122567854821682, 0.006964703556150198, 0.00980096310377121, 0.016023794189095497, 0.004940465092658997, 0.009592132642865181, 0.0074769058264791965, 0.021734051406383514, 0.005392247345298529, 0.016813289374113083, 0.005571321584284306, 0.09074685722589493, 0.0030798129737377167, 0.007286389824002981, 0.010601743124425411, 0.003023902652785182, 0.007936926558613777, 0.004302891902625561, 0.0068138716742396355, 0.006617083214223385, 0.022725896909832954, 0.0065667154267430305, 0.014963336288928986, 0.004597019869834185, 0.006103339605033398, 0.00568174896761775]


Top-k source tokens:

['self', 'self', '_pycurl', 'self', 'fd', 'fd', '_pycurl', 'fd', 'x', 'patch']


Top-k attention probs:

[0.09074685722589493, 0.05176057666540146, 0.030044924467802048, 0.0236513651907444, 0.023573195561766624, 0.022725896909832954, 0.022357363253831863, 0.021734051406383514, 0.0200064554810524, 0.017508914694190025]
