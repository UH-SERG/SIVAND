
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_delete_security_group_by_id(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "sg", "=", "security_group_template", "(", "id", "=", "1", ",", "project_id", "=", "'fake_project'", ",", "user_id", "=", "'fake_user'", ",", "rules", "=", "[", "]", ")", "#NEWLINE#", "self", ".", "called", "=", "False", "#NEWLINE#", "def security_group_destroy(", "context", ",", "id", ")", ":", "#NEWLINE#", "#INDENT#", "self", ".", "called", "=", "True", "#NEWLINE#", "#UNINDENT#", "def return_security_group(", "context", ",", "group_id", ")", ":", "#NEWLINE#", "#INDENT#", "self", ".", "assertEqual", "(", "sg", "[", "'id'", "]", ",", "group_id", ")", "#NEWLINE#", "return", "security_group_db", "(", "sg", ")", "#NEWLINE#", "#UNINDENT#", "self", ".", "stub_out", "(", "'nova.db.security_group_destroy'", ",", "security_group_destroy", ")", "#NEWLINE#", "self", ".", "stub_out", "(", "'nova.db.security_group_get'", ",", "return_security_group", ")", "#NEWLINE#", "self", ".", "controller", ".", "delete", "(", "sg", ".", "req", ",", "'1'", ")", "#NEWLINE#", "self", ".", "assertTrue", "(", "self", ".", "called", ")"], "error_location": [101], "repair_targets": [2, 29, 43, 58, 77, 86, 95, 108, 112], "repair_candidates": [7, 62, 73, 101, 92, 2, 29, 43, 58, 77, 86, 95, 108, 112, 83], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "BU-NU-CLOUD-SP16/Trusted-Platform-Module-nova/nova/tests/unit/api/openstack/compute/test_security_groups.py", "license": "apache-2.0", "note": "license: github_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1753, "results": {"model": "transformer", "prob": {"loc": [[0.1687382012605667, 1.468945470151084e-06, 2.1219327663857257e-06, 4.236463269080559e-08, 5.503260425143708e-08, 6.122095186356091e-08, 4.317977442269694e-08, 6.329332791210618e-07, 5.159747473726384e-08, 9.161492897646895e-08, 1.8600803741719574e-07, 1.8345384660278796e-06, 1.34501945581178e-07, 2.5875604023894994e-06, 7.395561496537084e-09, 3.454169075212121e-07, 5.478262110614196e-08, 4.6800266773061594e-08, 7.738679919100377e-09, 1.809755900694654e-07, 3.789625324657209e-08, 2.0741258310863486e-07, 7.927594580792174e-09, 2.4414831045760366e-07, 1.619370522121244e-07, 1.4288931993178267e-07, 1.648537839571418e-08, 1.9957395736014405e-08, 1.149092643260019e-08, 1.250469154001621e-06, 4.8608548297579546e-08, 3.23237947519317e-09, 2.1767667135463853e-07, 2.6157133561355295e-06, 2.6159503008216234e-08, 3.0980902465671534e-07, 8.254168278654106e-06, 8.363311820858144e-09, 4.083316525793634e-06, 8.37937452757842e-09, 6.358035875564383e-08, 3.410319848740073e-08, 1.4688599669909763e-08, 1.4641203733845032e-06, 5.0056176092994065e-08, 8.881058555232357e-09, 8.167398846126162e-08, 3.4990130188816693e-06, 1.7488207504356978e-07, 5.4125077753042206e-08, 2.1096025193401147e-06, 5.838115976075642e-05, 1.7292816067993044e-08, 2.3069713279255666e-05, 1.376543501407923e-08, 6.349649339654206e-08, 5.033996330894297e-08, 3.0594993205568244e-08, 1.1353821349757709e-07, 8.355472402854502e-08, 7.461820672460817e-08, 8.162077165252413e-07, 0.006810084916651249, 4.620292202162091e-06, 1.777143552317284e-05, 2.056411574358208e-07, 1.9669815287670644e-07, 0.0011922819539904594, 1.9976371845586982e-07, 1.6677469716341875e-07, 2.7099405386366016e-08, 2.20205379264371e-07, 4.528873489562102e-07, 0.014715884812176228, 5.077392302155204e-07, 3.594676911689021e-07, 8.30656148309572e-08, 2.7167084226675797e-07, 4.884423887574485e-08, 3.040847218471754e-08, 3.350211272845627e-07, 3.6863345940219006e-06, 4.897711392004567e-07, 0.016055570915341377, 3.302265270122007e-07, 1.5664387831293425e-07, 1.874971502502376e-07, 7.409769864352711e-08, 1.560316142956708e-08, 1.7780905636755051e-06, 8.31835041026352e-06, 2.965403496091312e-07, 0.0025029536336660385, 3.2643717418068263e-07, 1.5147922738378838e-07, 2.8706467674055602e-06, 3.590998787217359e-08, 2.863966130917106e-08, 1.222926897526122e-07, 1.5088758686943038e-08, 3.339053762374533e-07, 0.7456554174423218, 4.287306865080609e-07, 7.607975760492991e-08, 1.989073155073129e-07, 0.0010881561320275068, 1.2538778548787377e-07, 3.1557995328057586e-08, 3.151516381194597e-08, 5.3781775477546034e-08, 3.800713077595219e-09, 3.284517546831012e-08, 0.04307730123400688, 3.5899321915167093e-07, 4.627903393839006e-08, 1.2522455961061496e-07]], "pointer": [[0.0, 0.0, 0.029238156974315643, 0.0, 0.0, 0.0, 0.0, 0.014509271830320358, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0033973990939557552, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0017449063016101718, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.004866800270974636, 0.0, 0.0, 0.0, 0.0001741600426612422, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.005116881337016821, 0.0, 0.0, 0.0, 0.09713150560855865, 0.0, 0.0, 0.0, 0.0, 0.0, 0.011115829460322857, 0.0, 0.0, 0.15158134698867798, 0.0, 0.0, 0.0, 0.0, 0.0, 0.024809209629893303, 0.0, 0.0, 0.6471475958824158, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0058399043045938015, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0028590885922312737, 0.0, 0.0, 0.0, 0.0004678653203882277, 0.0, 0.0, 0.0]], "target": [0.9384346604347229]}, "loss": [0.29349175095558167, 0.06354204565286636], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_delete_security_group_by_id(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'sg', '=', 'security_group_template', '(', 'id', '=', '1', ',', 'project_id', '=', "'fake_project'", ',', 'user_id', '=', "'fake_user'", ',', 'rules', '=', '[', ']', ')', '#NEWLINE#', 'self', '.', 'called', '=', 'False', '#NEWLINE#', 'def security_group_destroy(', 'context', ',', 'id', ')', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'called', '=', 'True', '#NEWLINE#', '#UNINDENT#', 'def return_security_group(', 'context', ',', 'group_id', ')', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'assertEqual', '(', 'sg', '[', "'id'", ']', ',', 'group_id', ')', '#NEWLINE#', 'return', 'security_group_db', '(', 'sg', ')', '#NEWLINE#', '#UNINDENT#', 'self', '.', 'stub_out', '(', "'nova.db.security_group_destroy'", ',', 'security_group_destroy', ')', '#NEWLINE#', 'self', '.', 'stub_out', '(', "'nova.db.security_group_get'", ',', 'return_security_group', ')', '#NEWLINE#', 'self', '.', 'controller', '.', 'delete', '(', 'sg', '.', 'req', ',', "'1'", ')', '#NEWLINE#', 'self', '.', 'assertTrue', '(', 'self', '.', 'called', ')']


All attention probs:

[0.013379192911088467, 0.010929378680884838, 0.05272429436445236, 0.013395705260336399, 0.009661395102739334, 0.010847670957446098, 0.009161174297332764, 0.02857246622443199, 0.008378745056688786, 0.010658644139766693, 0.0093610268086195, 0.013710028491914272, 0.008340111933648586, 0.009566644206643105, 0.007212901953607798, 0.0142130795866251, 0.007644596975296736, 0.006616922561079264, 0.006826970726251602, 0.0123466607183218, 0.0069298031739890575, 0.0068803285248577595, 0.005809875670820475, 0.010633820667862892, 0.00588229252025485, 0.005078637506812811, 0.004440789110958576, 0.0037304931320250034, 0.00579262338578701, 0.014239340089261532, 0.0037335166707634926, 0.005013504531234503, 0.004685675259679556, 0.00585378659889102, 0.0063481926918029785, 0.012894357554614544, 0.015609526075422764, 0.0067013637162745, 0.017345044761896133, 0.0057489280588924885, 0.004534201696515083, 0.005644634366035461, 0.005747991614043713, 0.011730646714568138, 0.0033174308482557535, 0.0049182092770934105, 0.003743772627785802, 0.004650888964533806, 0.004957831464707851, 0.005055061541497707, 0.011396003887057304, 0.016470061615109444, 0.004699579440057278, 0.015553893521428108, 0.0044174701906740665, 0.003980053588747978, 0.004222980234771967, 0.0042111193761229515, 0.00794102344661951, 0.002771114930510521, 0.004160573706030846, 0.0038948794826865196, 0.014494002796709538, 0.004388390574604273, 0.005722740665078163, 0.004229796584695578, 0.0042980439029634, 0.021304979920387268, 0.004538482520729303, 0.006558671593666077, 0.00827953964471817, 0.006766472011804581, 0.004338051192462444, 0.018970031291246414, 0.003080353606492281, 0.005286471452564001, 0.004715485963970423, 0.0079880952835083, 0.0026484751142561436, 0.005114792846143246, 0.004236674401909113, 0.004191470332443714, 0.003854170674458146, 0.026119261980056763, 0.003153556492179632, 0.005998360924422741, 0.00979835819453001, 0.00421510124579072, 0.006139147561043501, 0.004680150654166937, 0.005208172835409641, 0.004181914031505585, 0.028915734961628914, 0.003651693696156144, 0.006290201563388109, 0.013807246461510658, 0.0055933729745447636, 0.007391362451016903, 0.005909429397433996, 0.0045984117314219475, 0.006235320586711168, 0.03627036511898041, 0.004502842668443918, 0.007730529177933931, 0.005908672697842121, 0.008146300911903381, 0.0035172447096556425, 0.005892100743949413, 0.010515162721276283, 0.002889579627662897, 0.00482188630849123, 0.0068575129844248295, 0.038000427186489105, 0.003773447358980775, 0.005057480186223984, 0.0043055214919149876]


Top-k source tokens:

['self', 'self', 'sg', 'return_security_group', 'sg', 'security_group_destroy', 'group_id', 'sg', 'id', 'context']


Top-k attention probs:

[0.05272429436445236, 0.038000427186489105, 0.03627036511898041, 0.028915734961628914, 0.02857246622443199, 0.026119261980056763, 0.021304979920387268, 0.018970031291246414, 0.017345044761896133, 0.016470061615109444]
