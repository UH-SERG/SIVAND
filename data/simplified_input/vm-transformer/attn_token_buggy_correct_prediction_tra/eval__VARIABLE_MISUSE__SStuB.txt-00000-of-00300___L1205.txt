
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_get_all_open_sessions_wrong_type(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "domain", "=", "uuid", ".", "uuid4", "(", ")", ".", "hex", "#NEWLINE#", "contact", "=", "uuid", ".", "uuid4", "(", ")", ".", "hex", "#NEWLINE#", "_make_session", "(", "domain", "=", "domain", ",", "connection_id", "=", "contact", ",", "end_time", "=", "None", ",", "session_type", "=", "XFORMS_SESSION_IVR", ")", "#NEWLINE#", "self", ".", "assertEqual", "(", "0", ",", "len", "(", "SQLXFormsSession", ".", "get_all_open_sms_sessions", "(", "self", ",", "contact", ")", ")", ")"], "error_location": [58], "repair_targets": [7, 29, 31], "repair_candidates": [17, 35, 60, 2, 46, 58, 7, 29, 31], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "dimagi/commcare-hq/corehq/apps/smsforms/tests/test_sql_session.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1205, "results": {"model": "transformer", "prob": {"loc": [[9.481164306635037e-05, 1.1660177268169036e-09, 9.006214662932166e-10, 5.7504234013405764e-11, 8.707549958852923e-11, 7.770001309026497e-11, 7.546832603289033e-11, 2.776491259126601e-09, 1.0286415469407117e-10, 5.703344740926042e-11, 4.1363329428278917e-11, 5.324504379067285e-11, 5.032034788854389e-10, 3.3253586551040826e-09, 1.3698743528411939e-10, 2.570473521534833e-11, 5.866055557968153e-11, 1.5738358172256994e-08, 3.385958874391193e-11, 2.413714193794103e-11, 3.6549270554520064e-11, 2.2983899505835126e-11, 1.9021033359489792e-10, 3.1825770907545348e-09, 1.9969531583896583e-10, 1.7793268594634704e-11, 7.949908786830662e-11, 4.767328309895902e-09, 7.75219263782212e-11, 1.5452183532715935e-08, 8.888904057258173e-10, 5.598214443125471e-07, 3.0456864807959505e-10, 1.013532591187527e-10, 6.297961041568101e-10, 1.7795919120544568e-05, 1.3800181830614378e-10, 3.9236777021889324e-11, 1.0505780689840094e-09, 4.4901032891786485e-10, 1.0285747947813562e-10, 3.714155025202892e-11, 4.0234748865941583e-10, 1.2868693666234776e-08, 2.50350296049362e-10, 3.7239816785827884e-10, 2.081444350210404e-09, 9.307406234615456e-11, 9.052624622141181e-11, 2.536446330747566e-10, 8.957411701260298e-09, 1.501984425722469e-09, 1.3857417990870147e-10, 6.092491511289211e-10, 1.1180891767992307e-09, 2.723405945204149e-10, 2.372625707014464e-10, 3.0075877344160062e-09, 0.999862790107727, 2.1308490527616186e-09, 2.3984965082490817e-05, 1.1723509940608778e-09, 6.378266803608312e-10, 4.502478390122633e-10]], "pointer": [[0.0, 0.0, 2.7386811325413873e-06, 0.0, 0.0, 0.0, 0.0, 0.5457960367202759, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.006036987528204918, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.34332287311553955, 0.0, 0.10016956180334091, 0.0, 0.0, 0.0, 0.00457601435482502, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.4754212429579638e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.895072040904779e-06, 0.0, 9.177991159958765e-05, 0.0, 0.0, 0.0]], "target": [0.9892884492874146]}, "loss": [0.00013720047718379647, 0.010769332759082317], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_get_all_open_sessions_wrong_type(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'domain', '=', 'uuid', '.', 'uuid4', '(', ')', '.', 'hex', '#NEWLINE#', 'contact', '=', 'uuid', '.', 'uuid4', '(', ')', '.', 'hex', '#NEWLINE#', '_make_session', '(', 'domain', '=', 'domain', ',', 'connection_id', '=', 'contact', ',', 'end_time', '=', 'None', ',', 'session_type', '=', 'XFORMS_SESSION_IVR', ')', '#NEWLINE#', 'self', '.', 'assertEqual', '(', '0', ',', 'len', '(', 'SQLXFormsSession', '.', 'get_all_open_sms_sessions', '(', 'self', ',', 'contact', ')', ')', ')']


All attention probs:

[0.02146858535706997, 0.01756218634545803, 0.05988435447216034, 0.019396206364035606, 0.014252413995563984, 0.015562443993985653, 0.013234107755124569, 0.03291565552353859, 0.01305327843874693, 0.023648425936698914, 0.012227906845510006, 0.014991119503974915, 0.014035061933100224, 0.015368759632110596, 0.008732209913432598, 0.009058741852641106, 0.012700465507805347, 0.03960937634110451, 0.011709797196090221, 0.015279185958206654, 0.0068452139385044575, 0.007832546718418598, 0.008771632798016071, 0.010403848253190517, 0.006776520982384682, 0.007043054793030024, 0.0103744613006711, 0.018153518438339233, 0.00733218714594841, 0.01910964585840702, 0.008712097071111202, 0.030790239572525024, 0.010464787483215332, 0.013089886866509914, 0.009156105108559132, 0.037205770611763, 0.010083235800266266, 0.014324461109936237, 0.009909459389746189, 0.007971175946295261, 0.00787550862878561, 0.013955287635326385, 0.01107808668166399, 0.014854632318019867, 0.006160007789731026, 0.011705085635185242, 0.02105080522596836, 0.005788235459476709, 0.007104683667421341, 0.007819221355021, 0.014926940202713013, 0.007856263779103756, 0.008783036842942238, 0.008362404070794582, 0.01231357455253601, 0.005441402550786734, 0.011145071126520634, 0.009330443106591702, 0.09032388776540756, 0.009578804485499859, 0.041080206632614136, 0.009400777518749237, 0.010771650820970535, 0.01425383985042572]


Top-k source tokens:

['self', 'self', 'contact', 'contact', 'contact', 'domain', 'domain', 'uuid', '#NEWLINE#', 'self']


Top-k attention probs:

[0.09032388776540756, 0.05988435447216034, 0.041080206632614136, 0.03960937634110451, 0.037205770611763, 0.03291565552353859, 0.030790239572525024, 0.023648425936698914, 0.02146858535706997, 0.02105080522596836]
