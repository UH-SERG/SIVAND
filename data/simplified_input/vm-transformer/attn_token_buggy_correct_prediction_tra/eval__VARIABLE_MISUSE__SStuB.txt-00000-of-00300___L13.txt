
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_csv_import_onecol_key(", ")", ":", "#NEWLINE#", "#INDENT#", "with", "bayesdb_csv_stream", "(", "'foo\\n0\\none\\n2\\n'", ")", "as", "(", "bdb", ",", "f", ")", ":", "#NEWLINE#", "#INDENT#", "bayeslite", ".", "bayesdb_read_csv", "(", "f", ",", "'onecol_key'", ",", "f", ",", "header", "=", "True", ",", "create", "=", "True", ")", "#NEWLINE#", "with", "pytest", ".", "raises", "(", "ValueError", ")", ":", "#NEWLINE#", "#INDENT#", "bayeslite", ".", "guess", ".", "bayesdb_guess_generator", "(", "bdb", ",", "'onecol_key_cc'", ",", "'onecol_key'", ",", "'crosscat'", ")"], "error_location": [24], "repair_targets": [13, 55], "repair_candidates": [13, 55, 15, 24, 28], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "probcomp/bayeslite/tests/test_csv.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 13, "results": {"model": "transformer", "prob": {"loc": [[0.03707069531083107, 2.598644925910776e-07, 1.9468846090830993e-08, 2.243805852231162e-08, 2.392262032913095e-08, 2.0683726731363095e-08, 2.2817937761487883e-08, 1.5197625202745257e-07, 8.811561258426082e-08, 1.1026948953940519e-07, 3.2250031978264815e-08, 6.138706876157585e-09, 4.947224141460538e-08, 5.528789642994525e-06, 6.077797820580599e-09, 2.164642410207307e-06, 4.0023651060039356e-09, 1.323316656254292e-08, 2.1938983962854763e-08, 1.2072006505547961e-08, 5.844191353077122e-09, 1.2822989781113847e-08, 1.8766113107915317e-09, 3.066415743546713e-08, 0.9426559805870056, 2.8094664372702027e-08, 2.604902817893162e-07, 3.736219866823376e-08, 0.01766415871679783, 1.8974480653355386e-08, 1.0804488859150752e-08, 6.306297564151464e-07, 1.6652737144795537e-07, 4.609464454574663e-08, 3.116408686665295e-09, 3.660251479686849e-07, 1.2520248446890037e-06, 1.5259290364610933e-07, 7.308762661750734e-08, 1.6641092059899165e-08, 1.2556930073515105e-07, 7.574383431574461e-08, 3.369025947108639e-08, 3.0195694762369385e-06, 1.7610581437565997e-07, 2.843656865536559e-08, 2.441922788420925e-07, 2.9328350592550123e-07, 9.942770162751913e-08, 9.184778804183225e-08, 6.454563106217392e-08, 1.1033129077020476e-08, 5.6032348538792576e-08, 4.809942222294694e-09, 4.3060614984824497e-07, 0.0025850196834653616, 1.1611003003508813e-07, 5.239177426119568e-06, 1.6828815319058776e-07, 5.395554012466164e-07, 1.0411391571096829e-07, 1.2148498171882238e-06, 2.7506800392984587e-07]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4763336479663849, 0.0, 0.0004844977811444551, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00038665899774059653, 0.0, 0.0, 0.0, 6.965058128116652e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.522725522518158, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9990592002868652]}, "loss": [0.059053752571344376, 0.0009412425570189953], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_csv_import_onecol_key(', ')', ':', '#NEWLINE#', '#INDENT#', 'with', 'bayesdb_csv_stream', '(', "'foo\\n0\\none\\n2\\n'", ')', 'as', '(', 'bdb', ',', 'f', ')', ':', '#NEWLINE#', '#INDENT#', 'bayeslite', '.', 'bayesdb_read_csv', '(', 'f', ',', "'onecol_key'", ',', 'f', ',', 'header', '=', 'True', ',', 'create', '=', 'True', ')', '#NEWLINE#', 'with', 'pytest', '.', 'raises', '(', 'ValueError', ')', ':', '#NEWLINE#', '#INDENT#', 'bayeslite', '.', 'guess', '.', 'bayesdb_guess_generator', '(', 'bdb', ',', "'onecol_key_cc'", ',', "'onecol_key'", ',', "'crosscat'", ')']


All attention probs:

[0.030486667528748512, 0.017807140946388245, 0.023283181712031364, 0.014807743020355701, 0.015837710350751877, 0.015383541584014893, 0.021658504381775856, 0.0228041373193264, 0.012400846928358078, 0.013123078271746635, 0.014725147746503353, 0.01944774203002453, 0.013981559313833714, 0.03940353915095329, 0.011370783671736717, 0.05721715837717056, 0.008617943152785301, 0.008982320316135883, 0.011508024297654629, 0.011068053543567657, 0.01624174974858761, 0.008083546534180641, 0.010092644952237606, 0.009957961738109589, 0.07290422171354294, 0.008150674402713776, 0.01726759597659111, 0.00782961305230856, 0.045256610959768295, 0.007820546627044678, 0.0153671745210886, 0.009540366008877754, 0.010885403491556644, 0.011281775310635567, 0.012608411721885204, 0.011927735060453415, 0.012038642540574074, 0.008944862522184849, 0.016224507242441177, 0.02316274866461754, 0.012214422225952148, 0.007523863576352596, 0.014964000321924686, 0.013685101643204689, 0.008180518634617329, 0.008014358580112457, 0.008376003243029118, 0.010665824636816978, 0.010834308341145515, 0.012604943476617336, 0.006067928392440081, 0.010951105505228043, 0.006357360631227493, 0.008892503567039967, 0.01095436979085207, 0.04295800253748894, 0.007851752452552319, 0.01602197252213955, 0.009304636158049107, 0.016126766800880432, 0.010979074984788895, 0.012998308055102825, 0.01397126354277134]


Top-k source tokens:

['f', 'f', 'f', 'bdb', 'bdb', '#NEWLINE#', ')', 'with', 'bayesdb_csv_stream', 'with']


Top-k attention probs:

[0.07290422171354294, 0.05721715837717056, 0.045256610959768295, 0.04295800253748894, 0.03940353915095329, 0.030486667528748512, 0.023283181712031364, 0.02316274866461754, 0.0228041373193264, 0.021658504381775856]
