
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def open(", "self", ",", "*", "args", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "if", "(", "self", ".", "_user", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "from", "app.extensions", "import", "db", "#NEWLINE#", "from", "app.modules.auth.models", "import", "OAuth2Token", "#NEWLINE#", "oauth2_bearer_token", "=", "OAuth2Token", "(", "client_id", "=", "0", ",", "user", "=", "self", ".", "_user", ",", "token_type", "=", "'Bearer'", ",", "access_token", "=", "'test_access_token'", ",", "_scopes", "=", "' '", ".", "join", "(", "self", ".", "_auth_scopes", ")", ",", "expires", "=", "(", "datetime", ".", "utcnow", "(", ")", "+", "timedelta", "(", "days", "=", "1", ")", ")", ")", "#NEWLINE#", "db", ".", "session", ".", "add", "(", "oauth2_bearer_token", ")", "#NEWLINE#", "db", ".", "session", ".", "commit", "(", ")", "#NEWLINE#", "extra_headers", "=", "(", "(", "'Authorization'", ",", "'{token.token_type} {token.access_token}'", ".", "format", "(", "token", "=", "oauth2_bearer_token", ")", ")", ",", ")", "#NEWLINE#", "if", "kwargs", ".", "get", "(", "'headers'", ")", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'headers'", "]", "+=", "extra_headers", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "kwargs", "[", "'headers'", "]", "=", "extra_headers", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "response", "=", "super", "(", "AutoAuthFlaskClient", ",", "self", ")", ".", "open", "(", "*", "args", ",", "**", "kwargs", ")", "#NEWLINE#", "if", "(", "kwargs", ".", "_user", "is not", "None", ")", ":", "#NEWLINE#", "#INDENT#", "db", ".", "session", ".", "delete", "(", "oauth2_bearer_token", ")", "#NEWLINE#", "db", ".", "session", ".", "commit", "(", ")", "#NEWLINE#", "#UNINDENT#", "return", "response"], "error_location": [170], "repair_targets": [2, 14, 43, 61, 156], "repair_candidates": [150, 198, 5, 162, 33, 90, 113, 185, 2, 14, 43, 61, 156, 101, 134, 146, 120, 129, 141, 165, 170], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "frol/flask-restplus-server-example/tests/utils.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1446, "results": {"model": "transformer", "prob": {"loc": [[0.020894354209303856, 1.423808129175086e-07, 1.3378245000694733e-07, 2.2020489875984595e-09, 1.940775096187508e-09, 4.562862798707101e-08, 1.7493456683226327e-09, 1.0154791141303576e-07, 1.2155025874704961e-09, 3.033167050858765e-09, 6.006421138238238e-09, 6.467184121561331e-09, 6.23527540710711e-09, 5.127510860347684e-09, 2.9275308406795375e-05, 3.964538919376537e-09, 9.395690447888683e-09, 1.514591829732126e-08, 1.726537490753799e-08, 7.2094241687636895e-09, 6.402637531266464e-09, 3.584019747648881e-09, 1.9978003695797497e-09, 1.9647239390963023e-09, 1.0448815146446577e-08, 2.659221109979626e-08, 1.257048012348605e-07, 2.2777593144951425e-09, 2.2551818190663653e-08, 4.196325953387259e-09, 2.6040442691055432e-08, 2.0822282564836314e-08, 2.4762691896995648e-09, 6.322147783066612e-08, 5.744171360788641e-09, 6.1094858061494506e-09, 9.48230471919942e-09, 1.5930078589576624e-08, 2.7544190928097123e-08, 4.63844038733896e-08, 5.85628123772608e-09, 2.513744545851182e-09, 1.0387809723511054e-08, 7.162721158238128e-05, 8.48253645102659e-09, 1.025433515877694e-09, 7.7602946291222e-09, 5.644555933770334e-09, 3.8350961517608084e-08, 2.679474242484048e-08, 7.367029652982637e-09, 2.8042097532932075e-09, 1.090152057514615e-08, 2.123004883003432e-08, 5.396520563749618e-09, 6.223250803572e-09, 9.496512909379362e-09, 2.511795393900229e-08, 4.291588862059825e-09, 2.3813278016149297e-09, 5.414150017202246e-09, 3.1796280381968245e-06, 4.817291010539293e-09, 1.088190315634563e-09, 6.471823521536635e-09, 1.074496136510561e-08, 1.635834223634447e-07, 9.41492128703203e-09, 4.968047306874723e-09, 1.6655585355351832e-08, 3.3530136445136804e-09, 1.1288272538934052e-09, 4.7194451013865546e-08, 9.848345250418333e-09, 4.703482048284968e-09, 3.009901439199325e-09, 7.829846992990497e-09, 1.155407591824087e-08, 1.3187770875333626e-08, 1.9584103938541375e-07, 2.69255888696307e-08, 2.0902902519992494e-08, 1.802816029794485e-08, 1.8847744698291535e-08, 1.6221607168631635e-08, 2.1187118726118115e-09, 3.5141403675886806e-10, 2.7837940841379805e-09, 1.2533023507899088e-09, 1.7958216247393466e-08, 0.0003685409319587052, 5.130742053438553e-08, 2.666687493046993e-08, 6.630940418972386e-08, 1.8606705065593587e-09, 3.9820505226551006e-10, 2.9542079893474238e-09, 1.1290473445058069e-08, 2.020916269884765e-07, 3.37577610309836e-08, 2.6837808420054898e-08, 1.5132224007174955e-07, 9.912513476706408e-09, 4.182590274126596e-09, 1.5949170872886498e-08, 6.615213266059072e-08, 1.4834455441814498e-08, 3.928964531496604e-08, 8.761388947675641e-09, 1.3994085890089991e-09, 6.0173377391947724e-09, 5.384306334121902e-09, 9.512647558551635e-09, 0.00037756661185994744, 2.9283135916102765e-08, 1.5690584831418164e-08, 1.74801915164835e-08, 2.3022684203510835e-08, 3.156722527819511e-08, 1.426006068783181e-08, 2.6303325739718275e-07, 6.26071816611784e-09, 1.9127903705395966e-09, 1.1184869030955724e-08, 2.385328343734727e-07, 4.208236870084647e-09, 3.950365012883594e-08, 3.412645099842848e-08, 2.0201058603674937e-08, 9.203063768836728e-07, 1.2940838622910178e-08, 1.776245142082189e-07, 1.1376943831464814e-08, 6.31555536756423e-08, 3.526457294356078e-05, 2.610922322787701e-08, 2.338635241017073e-08, 1.6651615197815772e-08, 1.5199486114170213e-08, 2.6646535644658798e-08, 1.4153811456196763e-08, 1.905699150483997e-06, 4.407789244709193e-09, 1.8568310622413264e-07, 3.3042046876374798e-09, 1.6107200906390062e-07, 0.0003459191066212952, 4.593757907400686e-08, 3.35039374022017e-08, 2.4002346776796912e-08, 1.974619436850844e-07, 8.955346686434495e-09, 1.733076615550999e-08, 8.463052836304996e-08, 1.888896150603614e-07, 2.4389445130168497e-08, 2.8875387215521187e-05, 6.564246746165736e-08, 8.59638671357743e-09, 1.0393815585985067e-08, 1.5483365700674767e-07, 7.903371113116009e-08, 0.00028096965979784727, 6.716645373217034e-08, 7.008359403926079e-08, 0.0001331650564679876, 1.5652243234853813e-07, 1.5864712565871741e-07, 6.495038462617231e-08, 2.956406603971118e-07, 0.9660978317260742, 4.508963868943283e-08, 1.631625821119087e-07, 3.980589013963254e-08, 6.260255247525492e-08, 4.979282408612562e-08, 7.839219762217908e-08, 4.756514471182527e-08, 1.604966115564821e-08, 1.4430059991354938e-07, 5.095036836877398e-09, 1.86672410862343e-09, 7.117471945150555e-09, 5.111125744861056e-09, 7.405522239878337e-08, 0.011248764581978321, 3.33980437972059e-07, 6.514466832641119e-08, 2.4293214551107667e-07, 6.546700515031034e-09, 8.62399396339697e-09, 8.14544875993306e-09, 1.7516512684778718e-07, 8.406627785007004e-07, 4.592480991050252e-07, 9.983331494822778e-08, 7.310650573799649e-08, 2.3407283222809383e-08, 7.297837873920798e-05]], "pointer": [[0.0, 0.0, 0.15540559589862823, 0.0, 0.0, 0.0006611382705159485, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.16886688768863678, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.007983890362083912, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.47709810733795166, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.05517716705799103, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0006905923946760595, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0012163198553025723, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0006317728548310697, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00027718854835256934, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0004285965987946838, 0.0, 0.0, 0.0, 0.0, 1.3755422514805105e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00034514014259912074, 0.0, 0.0, 0.0, 0.0, 1.0114522410731297e-05, 0.0, 0.0, 0.0, 0.07014676183462143, 0.0, 0.0, 0.0, 0.0, 0.0, 0.037922538816928864, 0.0, 0.0, 0.0, 0.0, 0.0, 8.554651140002534e-05, 0.0, 0.0, 2.8088048566132784e-05, 0.0, 0.0, 0.0, 0.0, 8.733028153073974e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.012844588607549667, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.010157503187656403]], "target": [0.8944702744483948]}, "loss": [0.0344901941716671, 0.11152360588312149], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def open(', 'self', ',', '*', 'args', ',', '**kwargs', ')', ':', '#NEWLINE#', '#INDENT#', 'if', '(', 'self', '.', '_user', 'is not', 'None', ')', ':', '#NEWLINE#', '#INDENT#', 'from', 'app.extensions', 'import', 'db', '#NEWLINE#', 'from', 'app.modules.auth.models', 'import', 'OAuth2Token', '#NEWLINE#', 'oauth2_bearer_token', '=', 'OAuth2Token', '(', 'client_id', '=', '0', ',', 'user', '=', 'self', '.', '_user', ',', 'token_type', '=', "'Bearer'", ',', 'access_token', '=', "'test_access_token'", ',', '_scopes', '=', "' '", '.', 'join', '(', 'self', '.', '_auth_scopes', ')', ',', 'expires', '=', '(', 'datetime', '.', 'utcnow', '(', ')', '+', 'timedelta', '(', 'days', '=', '1', ')', ')', ')', '#NEWLINE#', 'db', '.', 'session', '.', 'add', '(', 'oauth2_bearer_token', ')', '#NEWLINE#', 'db', '.', 'session', '.', 'commit', '(', ')', '#NEWLINE#', 'extra_headers', '=', '(', '(', "'Authorization'", ',', "'{token.token_type} {token.access_token}'", '.', 'format', '(', 'token', '=', 'oauth2_bearer_token', ')', ')', ',', ')', '#NEWLINE#', 'if', 'kwargs', '.', 'get', '(', "'headers'", ')', ':', '#NEWLINE#', '#INDENT#', 'kwargs', '[', "'headers'", ']', '+=', 'extra_headers', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'kwargs', '[', "'headers'", ']', '=', 'extra_headers', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'response', '=', 'super', '(', 'AutoAuthFlaskClient', ',', 'self', ')', '.', 'open', '(', '*', 'args', ',', '**', 'kwargs', ')', '#NEWLINE#', 'if', '(', 'kwargs', '.', '_user', 'is not', 'None', ')', ':', '#NEWLINE#', '#INDENT#', 'db', '.', 'session', '.', 'delete', '(', 'oauth2_bearer_token', ')', '#NEWLINE#', 'db', '.', 'session', '.', 'commit', '(', ')', '#NEWLINE#', '#UNINDENT#', 'return', 'response']


All attention probs:

[0.010699549689888954, 0.008442492224276066, 0.032108958810567856, 0.011772265657782555, 0.010305715724825859, 0.01606091298162937, 0.007124912925064564, 0.016841862350702286, 0.008000564761459827, 0.006742850411683321, 0.007419329136610031, 0.00716523127630353, 0.006773102097213268, 0.005190272815525532, 0.021652666851878166, 0.00540489237755537, 0.006012423429638147, 0.004958999343216419, 0.00534430518746376, 0.005964901298284531, 0.005475663114339113, 0.005035415757447481, 0.00490818964317441, 0.004883958026766777, 0.005295468494296074, 0.007102146744728088, 0.005123403389006853, 0.004674158990383148, 0.004544929135590792, 0.003928643651306629, 0.006966146174818277, 0.0052527692168951035, 0.005093753337860107, 0.01957913488149643, 0.00490203034132719, 0.0053980364464223385, 0.002981197787448764, 0.005149348638951778, 0.003397025167942047, 0.004466904327273369, 0.0029546753503382206, 0.004547704942524433, 0.003004532540217042, 0.011708647012710571, 0.0021950029768049717, 0.0027787901926785707, 0.0027695060707628727, 0.004202548880130053, 0.002747598337009549, 0.004093592055141926, 0.002649355214089155, 0.0039175427518785, 0.0023245476186275482, 0.0032300036400556564, 0.002494945889338851, 0.005057116039097309, 0.002305195666849613, 0.0023104853462427855, 0.0019609262235462666, 0.0024915379472076893, 0.0022879312746226788, 0.010330376215279102, 0.001902722637169063, 0.00216888589784503, 0.0022104037925601006, 0.002764318371191621, 0.006366347894072533, 0.0028483832720667124, 0.0024200668558478355, 0.004700379446148872, 0.0019838782027363777, 0.003056642133742571, 0.00314459134824574, 0.0023215697146952152, 0.0022865792270749807, 0.003054750617593527, 0.0018360377289354801, 0.004581217188388109, 0.002114875940605998, 0.005246762186288834, 0.0022278260439634323, 0.002122588222846389, 0.0020134090445935726, 0.004077196586877108, 0.003893450368195772, 0.0018429051851853728, 0.0029882320668548346, 0.002740047872066498, 0.0033367828000336885, 0.002744311699643731, 0.02115461975336075, 0.0026362326461821795, 0.0036429460160434246, 0.0037688075099140406, 0.001654961844906211, 0.0023964454885572195, 0.0018573697889223695, 0.0032776477746665478, 0.0030531352385878563, 0.0027810411993414164, 0.003592567052692175, 0.011389308609068394, 0.002833637874573469, 0.002930673537775874, 0.002705940278246999, 0.0026887524873018265, 0.0021911729127168655, 0.0028902068734169006, 0.0014624991454184055, 0.002867705188691616, 0.0028102868236601353, 0.007016789633780718, 0.002789481310173869, 0.021548617631196976, 0.001866811071522534, 0.0018057217821478844, 0.0018043677555397153, 0.002133656293153763, 0.0032307039946317673, 0.0038564216811209917, 0.006983377039432526, 0.0018356480868533254, 0.0023060652893036604, 0.0025765318423509598, 0.004660877399146557, 0.001978947315365076, 0.002599126659333706, 0.00312179047614336, 0.003103839699178934, 0.007613449823111296, 0.0023655607365071774, 0.003865365870296955, 0.0021835381630808115, 0.001845053513534367, 0.01134917140007019, 0.002787891076877713, 0.0026250111404806376, 0.004976574331521988, 0.0022698778193444014, 0.002528858371078968, 0.002616976387798786, 0.006759149953722954, 0.00265447236597538, 0.003713664598762989, 0.00197942485101521, 0.0025350586511194706, 0.011302182450890541, 0.002823800081387162, 0.002577434992417693, 0.002956445561721921, 0.016729027032852173, 0.004394717048853636, 0.0026260935701429844, 0.003192770993337035, 0.0031818095594644547, 0.003910942934453487, 0.010021230205893517, 0.0028079980984330177, 0.0020038310904055834, 0.003965881187468767, 0.003794540651142597, 0.002502507995814085, 0.01173401065170765, 0.0018882100703194737, 0.0025386882480233908, 0.013116410002112389, 0.0027276123873889446, 0.003157373983412981, 0.003170226700603962, 0.002428998937830329, 0.04690961167216301, 0.001743544708006084, 0.0034158697817474604, 0.00251532020047307, 0.0026896283961832523, 0.002347662579268217, 0.0026637031696736813, 0.003009621286764741, 0.00309128244407475, 0.0047968667931854725, 0.0019192078616470098, 0.003186627523973584, 0.0021351026371121407, 0.0034744131844490767, 0.0032730891834944487, 0.02445516176521778, 0.0038301353342831135, 0.005586760584264994, 0.004535069223493338, 0.0035104958806186914, 0.003087280783802271, 0.003007500199601054, 0.003486640052869916, 0.0044363937340676785, 0.004057773854583502, 0.004271760582923889, 0.0038617842365056276, 0.0050189862959086895, 0.012153862044215202]


Top-k source tokens:

['kwargs', 'self', 'oauth2_bearer_token', 'self', 'oauth2_bearer_token', 'oauth2_bearer_token', 'oauth2_bearer_token', '**kwargs', 'response', 'args']


Top-k attention probs:

[0.04690961167216301, 0.032108958810567856, 0.02445516176521778, 0.021652666851878166, 0.021548617631196976, 0.02115461975336075, 0.01957913488149643, 0.016841862350702286, 0.016729027032852173, 0.01606091298162937]
