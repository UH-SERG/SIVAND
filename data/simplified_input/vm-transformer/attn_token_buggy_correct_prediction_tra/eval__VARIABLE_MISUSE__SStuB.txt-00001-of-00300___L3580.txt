
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "@", "memoized", ".", "memoized_method", "#NEWLINE#", "def _get_data(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "try", ":", "#NEWLINE#", "#INDENT#", "router_id", "=", "self", ".", "kwargs", "[", "'router_id'", "]", "#NEWLINE#", "router", "=", "api", ".", "neutron", ".", "router_get", "(", "msg", ".", "request", ",", "router_id", ")", "#NEWLINE#", "router", ".", "set_id_as_name_if_empty", "(", "length", "=", "0", ")", "#NEWLINE#", "#UNINDENT#", "except", "Exception", ":", "#NEWLINE#", "#INDENT#", "msg", "=", "(", "_", "(", "'Unable to retrieve details for router \"%s\".'", ")", "%", "router_id", ")", "#NEWLINE#", "exceptions", ".", "handle", "(", "self", ".", "request", ",", "msg", ",", "redirect", "=", "self", ".", "failure_url", ")", "#NEWLINE#", "#UNINDENT#", "if", "router", ".", "external_gateway_info", ":", "#NEWLINE#", "#INDENT#", "ext_net_id", "=", "router", ".", "external_gateway_info", "[", "'network_id'", "]", "#NEWLINE#", "try", ":", "#NEWLINE#", "#INDENT#", "ext_net", "=", "api", ".", "neutron", ".", "network_get", "(", "self", ".", "request", ",", "ext_net_id", ",", "expand_subnet", "=", "False", ")", "#NEWLINE#", "ext_net", ".", "set_id_as_name_if_empty", "(", "length", "=", "0", ")", "#NEWLINE#", "router", ".", "external_gateway_info", "[", "'network'", "]", "=", "ext_net", ".", "name", "#NEWLINE#", "#UNINDENT#", "except", "Exception", ":", "#NEWLINE#", "#INDENT#", "msg", "=", "(", "_", "(", "'Unable to retrieve an external network \"%s\".'", ")", "%", "ext_net_id", ")", "#NEWLINE#", "exceptions", ".", "handle", "(", "self", ".", "request", ",", "msg", ")", "#NEWLINE#", "router", ".", "external_gateway_info", "[", "'network'", "]", "=", "ext_net_id", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "return", "router"], "error_location": [33], "repair_targets": [7, 18, 70, 78, 112, 164], "repair_candidates": [7, 18, 70, 78, 112, 164, 91, 116, 157, 178, 33, 55, 74, 149, 168, 104, 123, 139, 16, 37, 63, 25, 40, 85, 93, 132, 171, 183], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "CiscoSystems/avos/openstack_dashboard/dashboards/project/routers/views.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 3580, "results": {"model": "transformer", "prob": {"loc": [[4.2495721572777256e-05, 6.324031298632349e-10, 3.473765372574711e-11, 1.3044646959836648e-11, 1.8760944187068418e-11, 2.109044015818906e-11, 9.887002674902057e-12, 1.8331620665890114e-08, 3.253826895421863e-12, 4.2662874101540016e-12, 3.795064956735317e-12, 4.07724548567856e-12, 5.4006478109047684e-12, 9.609461663895313e-12, 6.675630100788643e-12, 6.0361767667549415e-12, 1.4257570679632181e-09, 7.130800290522377e-12, 1.9526595451679896e-07, 1.2995550816019552e-11, 1.3556372170653308e-11, 8.881469344690363e-12, 8.461258776959468e-11, 1.1055317251928987e-11, 6.3868164229541335e-12, 5.851448492411038e-11, 8.84532464634491e-12, 6.080042025402577e-11, 3.728967828964258e-11, 6.306895977692406e-12, 2.0282063528664906e-10, 6.611966182901163e-12, 5.924628010411936e-10, 0.9999444484710693, 2.768873741398892e-10, 6.7538431444691405e-12, 2.0257538702050937e-11, 1.8904188436863478e-08, 3.4197662063251144e-11, 1.460808557451898e-11, 4.278878033142641e-12, 1.192090696988668e-11, 1.2535005585595504e-12, 1.532103090229331e-11, 6.735948604452702e-12, 5.328962965345241e-11, 1.0797173155552287e-09, 6.061724039385652e-11, 4.474223769257435e-11, 2.6984244699823634e-11, 1.9579719789941663e-11, 3.5464048364630685e-10, 1.1861528252665732e-11, 2.0745649989550863e-11, 1.215621093370034e-11, 4.63113075666044e-10, 1.4929654734707754e-11, 1.319237254160388e-11, 2.3345523431084203e-11, 9.261802436100197e-11, 1.330490301265641e-10, 7.015348805344823e-12, 2.0393188873701895e-11, 9.173204489343334e-07, 5.5446276042703246e-11, 1.4050949639909938e-11, 6.000911573211809e-12, 6.080119914486648e-12, 1.5184377193111498e-12, 1.0407916715970966e-11, 9.348639196105069e-08, 3.1599688143924e-11, 4.686386695373912e-12, 4.957163499130779e-11, 2.8368768312247994e-07, 1.8907366991505192e-11, 1.6543398595469938e-12, 3.549543298175806e-11, 1.3255474868856254e-06, 9.592361627230872e-11, 8.387501630735539e-12, 1.6996268975555395e-11, 4.380184062680037e-11, 2.7532103333283153e-11, 3.361479497532294e-11, 1.9507348270053626e-07, 6.904771199245374e-11, 9.76287280185506e-12, 7.748125058215649e-11, 7.880008451310871e-11, 3.4702820478349494e-11, 3.9268602258779595e-10, 1.1670954133680134e-11, 8.538030442650779e-07, 8.120755456975104e-11, 6.3226503026203584e-12, 2.4105340987179424e-11, 4.665559494299032e-09, 8.161547132568003e-11, 8.484626889959657e-11, 8.258761036161744e-11, 1.1374211295045455e-10, 1.31659350088853e-10, 8.487637676024562e-11, 1.9749712976135925e-10, 1.3503495197020321e-11, 1.2998853382573117e-10, 4.722766622222707e-11, 5.882150669322961e-12, 1.0722219639935915e-10, 7.301768564782485e-12, 7.799561690946533e-11, 4.05269332759417e-07, 1.3206678806110261e-10, 3.6323180574449054e-11, 7.821415737296888e-11, 4.056649061112694e-07, 5.4721345510433395e-11, 3.7418918658049805e-11, 1.7841833566123455e-10, 8.382008420682041e-10, 1.1342538713821071e-10, 5.058706578631167e-11, 5.924738477602887e-11, 1.1032818755807305e-11, 3.910577157234529e-12, 8.808055673714676e-11, 2.5784223714464538e-11, 7.611129088092028e-11, 3.3053433323715353e-09, 1.571398150490566e-10, 1.29720789665555e-10, 2.8657171080581634e-10, 3.115752447713227e-11, 7.055766994973345e-12, 1.8913209540172282e-11, 4.2830386459691283e-10, 1.9481374846641586e-11, 6.85741810557694e-11, 4.921867571283656e-07, 3.658840175280176e-10, 1.4233753065084898e-11, 7.499034032631968e-11, 2.2387456471983924e-11, 6.603549651540419e-11, 4.301581868482174e-10, 5.314224754693342e-11, 3.7247385731298266e-11, 2.489843574371431e-11, 6.66355137735053e-10, 1.7896528009542223e-11, 3.0834140796187626e-11, 1.2126021020630873e-10, 2.0678264656126544e-10, 4.965682864899179e-10, 1.1449626836912419e-11, 3.776004856015369e-11, 2.103868382619112e-06, 8.529182915495426e-11, 1.568079867342309e-11, 1.0506808097165976e-11, 1.3934320711173065e-11, 9.106457775354126e-12, 7.346232996918722e-12, 1.6122799024742562e-06, 5.874193492738655e-11, 4.227344169160929e-11, 5.6458386576974107e-11, 1.078337419357922e-07, 9.34023136611728e-11, 2.6057924915057207e-11, 7.380706046333785e-10, 6.076599640136848e-11, 6.715910379900825e-12, 4.747954199940674e-12, 1.4476674026209224e-10, 8.143877933131094e-12, 4.258777011600934e-11, 3.645201786639518e-06, 2.2736363139430615e-11, 1.721614344141198e-11, 1.9004407422751335e-11, 2.1489188900547518e-11, 1.5916091911094554e-07]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.039059434086084366, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.1727387320424896e-06, 0.0, 0.03507798910140991, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.116543785428803e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.3268094400942232e-09, 0.0, 0.0, 0.0, 2.6471394676264026e-07, 0.0, 0.0, 2.836239048065181e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.079279728510301e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.3301511216923245e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.026391832157969475, 0.0, 0.0, 0.0, 8.26287376298751e-08, 0.0, 0.0, 0.0, 0.05482117459177971, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.526947122940328e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 9.25638516946492e-07, 0.0, 6.582565674762009e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.983303772907675e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6128872632980347, 0.0, 0.0, 0.0, 7.873428131688343e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.6517434175966628e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.4584067287159996e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7.935551593618584e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.901075506793859e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.589128815903678e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.23174646496772766, 0.0, 0.0, 0.0, 5.375780176564149e-08, 0.0, 0.0, 1.7929541229477763e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.6278797804479836e-07, 0.0, 0.0, 0.0, 0.0, 1.4511479662360216e-07]], "target": [0.9999841451644897]}, "loss": [5.531158240046352e-05, 1.585496102052275e-05], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', '@', 'memoized', '.', 'memoized_method', '#NEWLINE#', 'def _get_data(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'try', ':', '#NEWLINE#', '#INDENT#', 'router_id', '=', 'self', '.', 'kwargs', '[', "'router_id'", ']', '#NEWLINE#', 'router', '=', 'api', '.', 'neutron', '.', 'router_get', '(', 'msg', '.', 'request', ',', 'router_id', ')', '#NEWLINE#', 'router', '.', 'set_id_as_name_if_empty', '(', 'length', '=', '0', ')', '#NEWLINE#', '#UNINDENT#', 'except', 'Exception', ':', '#NEWLINE#', '#INDENT#', 'msg', '=', '(', '_', '(', '\'Unable to retrieve details for router "%s".\'', ')', '%', 'router_id', ')', '#NEWLINE#', 'exceptions', '.', 'handle', '(', 'self', '.', 'request', ',', 'msg', ',', 'redirect', '=', 'self', '.', 'failure_url', ')', '#NEWLINE#', '#UNINDENT#', 'if', 'router', '.', 'external_gateway_info', ':', '#NEWLINE#', '#INDENT#', 'ext_net_id', '=', 'router', '.', 'external_gateway_info', '[', "'network_id'", ']', '#NEWLINE#', 'try', ':', '#NEWLINE#', '#INDENT#', 'ext_net', '=', 'api', '.', 'neutron', '.', 'network_get', '(', 'self', '.', 'request', ',', 'ext_net_id', ',', 'expand_subnet', '=', 'False', ')', '#NEWLINE#', 'ext_net', '.', 'set_id_as_name_if_empty', '(', 'length', '=', '0', ')', '#NEWLINE#', 'router', '.', 'external_gateway_info', '[', "'network'", ']', '=', 'ext_net', '.', 'name', '#NEWLINE#', '#UNINDENT#', 'except', 'Exception', ':', '#NEWLINE#', '#INDENT#', 'msg', '=', '(', '_', '(', '\'Unable to retrieve an external network "%s".\'', ')', '%', 'ext_net_id', ')', '#NEWLINE#', 'exceptions', '.', 'handle', '(', 'self', '.', 'request', ',', 'msg', ')', '#NEWLINE#', 'router', '.', 'external_gateway_info', '[', "'network'", ']', '=', 'ext_net_id', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'return', 'router']


All attention probs:

[0.008755160495638847, 0.007694839499890804, 0.009875712916254997, 0.011169224046170712, 0.018461858853697777, 0.007898220792412758, 0.007464363239705563, 0.025524405762553215, 0.008459958247840405, 0.006841178052127361, 0.007533470634371042, 0.007926863618195057, 0.008734399452805519, 0.005869952030479908, 0.0063911848701536655, 0.006725193001329899, 0.013525867834687233, 0.007020196411758661, 0.01735253445804119, 0.004912776406854391, 0.005589340813457966, 0.004788900725543499, 0.006484755780547857, 0.004663988947868347, 0.005635404027998447, 0.012192591093480587, 0.004372623283416033, 0.005733095109462738, 0.002778704511001706, 0.003305330639705062, 0.0030764585826545954, 0.0034322934225201607, 0.0035993335768580437, 0.03938034176826477, 0.0028247099835425615, 0.0042027574963867664, 0.0034333225339651108, 0.013900135643780231, 0.0035071983002126217, 0.004984769504517317, 0.007009559310972691, 0.00246366742067039, 0.003928794991225004, 0.003319833194836974, 0.0034270286560058594, 0.0030333148315548897, 0.004921134561300278, 0.002255435800179839, 0.0037029057275503874, 0.004213753156363964, 0.005680174101144075, 0.006714999675750732, 0.0027052159421145916, 0.0030430362094193697, 0.003160242224112153, 0.012004205957055092, 0.002488613361492753, 0.00200665439479053, 0.005290445405989885, 0.0025447807274758816, 0.0036078712437301874, 0.0023596473038196564, 0.0023421826772391796, 0.01371124666184187, 0.002608810318633914, 0.004266585223376751, 0.0053218635730445385, 0.0026824409142136574, 0.0025548681151121855, 0.002975539769977331, 0.00935810524970293, 0.002068925416097045, 0.003169451607391238, 0.0027789357118308544, 0.012043834663927555, 0.0021977941505610943, 0.0036270359996706247, 0.002003561006858945, 0.012552005238831043, 0.002051437273621559, 0.0024783501867204905, 0.0014897144865244627, 0.003159211715683341, 0.003149108262732625, 0.003139185719192028, 0.01030988059937954, 0.0024015535600483418, 0.0038035735487937927, 0.002979387529194355, 0.0028485243674367666, 0.00282873073592782, 0.011492813937366009, 0.0029737036675214767, 0.01398597564548254, 0.0017827341798692942, 0.002392105758190155, 0.0025397450663149357, 0.005587494000792503, 0.0024468409828841686, 0.0036819956731051207, 0.005800703074783087, 0.0029765090439468622, 0.0036792901810258627, 0.004257889464497566, 0.009792872704565525, 0.004789039492607117, 0.004573972430080175, 0.0015237965853884816, 0.002061347244307399, 0.0017412372399121523, 0.0028424393385648727, 0.003561939112842083, 0.013330286368727684, 0.0017373415175825357, 0.0019282508874312043, 0.001993943704292178, 0.013836275786161423, 0.0020395892206579447, 0.003962280228734016, 0.0024520778097212315, 0.0029722368344664574, 0.002031231066212058, 0.003947865217924118, 0.007640888914465904, 0.0025688030291348696, 0.002803785027936101, 0.0030965572223067284, 0.0047014448791742325, 0.0029096740763634443, 0.004147660918533802, 0.0019142546225339174, 0.004187167156487703, 0.005679137539118528, 0.001649768091738224, 0.002701699733734131, 0.0021222333889454603, 0.0031069673132151365, 0.0019205609569326043, 0.0023545105941593647, 0.015519760549068451, 0.0016608976293355227, 0.0026686701457947493, 0.002947569591924548, 0.0027474453672766685, 0.005625848658382893, 0.007220533676445484, 0.0031149580609053373, 0.0031989607959985733, 0.003244236810132861, 0.017615903168916702, 0.0033663026988506317, 0.002665062667801976, 0.007340980693697929, 0.004208764526993036, 0.004933321848511696, 0.005387438926845789, 0.004728823434561491, 0.01588430628180504, 0.003375521395355463, 0.0047447956167161465, 0.005982345435768366, 0.0022806439083069563, 0.0028406078927218914, 0.0028703573625534773, 0.010834943503141403, 0.001969184260815382, 0.002882158849388361, 0.002560357330366969, 0.010723903775215149, 0.002083232393488288, 0.003865602193400264, 0.006770381238311529, 0.0020255891140550375, 0.005996859632432461, 0.0031819751020520926, 0.004266311414539814, 0.0025407420471310616, 0.002964435610920191, 0.020108865574002266, 0.003699840046465397, 0.0035791301634162664, 0.0038639255799353123, 0.005933600477874279, 0.012947396375238895]


Top-k source tokens:

['msg', 'self', 'ext_net_id', 'memoized_method', 'msg', 'self', 'ext_net_id', 'ext_net', 'router', 'router_id']


Top-k attention probs:

[0.03938034176826477, 0.025524405762553215, 0.020108865574002266, 0.018461858853697777, 0.017615903168916702, 0.01735253445804119, 0.01588430628180504, 0.015519760549068451, 0.01398597564548254, 0.013900135643780231]
