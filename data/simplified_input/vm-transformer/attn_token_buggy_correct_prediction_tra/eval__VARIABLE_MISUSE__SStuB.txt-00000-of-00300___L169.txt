
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def disconnect(", "self", ",", "session", ",", "reason", "=", "''", ")", ":", "#NEWLINE#", "#INDENT#", "'\\n        Called from server side to remove session and inform portal\\n        of this fact.\\n\\n        Args:\\n            session (Session): The Session to disconnect.\\n            reason (str, optional): A motivation for the disconnect.\\n\\n        '", "#NEWLINE#", "session", "=", "self", ".", "get", "(", "session", ".", "sessid", ")", "#NEWLINE#", "if", "(", "not", "session", ")", ":", "#NEWLINE#", "#INDENT#", "return", "#NEWLINE#", "#UNINDENT#", "if", "(", "hasattr", "(", "session", ",", "'player'", ")", "and", "session", ".", "player", ")", ":", "#NEWLINE#", "#INDENT#", "nsess", "=", "(", "len", "(", "self", ".", "sessions_from_player", "(", "session", ".", "player", ")", ")", "-", "1", ")", "#NEWLINE#", "string", "=", "'Logged out: {player} {address} ({nsessions} sessions(s) remaining)'", "#NEWLINE#", "string", "=", "string", ".", "format", "(", "player", "=", "session", ".", "player", ",", "address", "=", "session", ".", "address", ",", "nsessions", "=", "nsess", ")", "#NEWLINE#", "session", ".", "log", "(", "string", ")", "#NEWLINE#", "#UNINDENT#", "session", ".", "at_disconnect", "(", ")", "#NEWLINE#", "sessid", "=", "session", ".", "sessid", "#NEWLINE#", "del", "self", "[", "sessid", "]", "#NEWLINE#", "self", ".", "server", ".", "amp_protocol", ".", "send_AdminServer2Portal", "(", "session", ",", "operation", "=", "SDISCONN", ",", "reason", "=", "self", ")"], "error_location": [140], "repair_targets": [6, 138], "repair_candidates": [53, 95, 71, 75, 77, 102, 4, 15, 21, 29, 41, 46, 62, 83, 89, 98, 106, 114, 132, 2, 17, 58, 119, 124, 140, 23, 112, 116, 121, 6, 138], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "evennia/evennia/evennia/server/sessionhandler.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 169, "results": {"model": "transformer", "prob": {"loc": [[0.019283438101410866, 2.9357229891502357e-07, 1.1523064102902936e-07, 6.830168430838057e-09, 1.900786941178012e-07, 8.054354516673357e-09, 2.047982889052946e-06, 4.878269521668699e-08, 2.133777599055975e-08, 4.247375340327153e-09, 1.3759791528400456e-08, 3.524828073864228e-08, 2.5158159999705276e-08, 6.971809796141315e-08, 3.50695650297439e-08, 4.563940763091523e-07, 1.1416278589138074e-08, 5.33617132703057e-08, 5.084082932427236e-09, 2.7539113212071697e-09, 1.7753317038682326e-08, 6.467296771006659e-05, 6.357561943559631e-08, 2.8307129085192173e-08, 1.2685497985387428e-08, 2.3466093068691407e-08, 1.199591803668909e-08, 2.860302572571527e-08, 6.117203810163119e-08, 0.003988150041550398, 6.48253006829691e-09, 3.083977162532392e-08, 3.196124609416984e-08, 1.4610836096551338e-08, 1.4627175914938562e-08, 3.141655824379086e-08, 4.176721546400586e-08, 2.143273292176673e-08, 1.460810494791076e-08, 2.491566775120191e-08, 1.1823907897223762e-07, 4.495802568271756e-05, 2.5242805179459538e-08, 7.765267895365469e-08, 4.4125463283251065e-09, 2.3363908141504908e-08, 0.00013272587966639549, 4.692692456842451e-08, 8.785981719938718e-09, 4.460245062176682e-09, 1.2808079929982341e-08, 1.3990291591881032e-08, 5.584134932234974e-09, 7.995536321914187e-08, 3.59308627295718e-09, 8.483145741422504e-09, 3.917450808188505e-09, 6.167592658812282e-08, 2.6559216621535597e-06, 2.1806734196161415e-08, 4.887018567600876e-10, 1.185523501590069e-08, 2.4237078832811676e-05, 4.958711841140939e-08, 7.098526655369142e-09, 5.6744196008651215e-09, 8.930636230530808e-10, 3.973074313989855e-09, 3.87140886459747e-07, 2.7829173632198945e-08, 1.628595391878207e-08, 1.4569630479854823e-07, 7.255800937855383e-08, 3.3903970120263693e-07, 1.8315541083779863e-08, 7.865083375691029e-07, 6.840572108757215e-09, 1.5684297238749423e-07, 8.856986255523225e-09, 1.3829614120552947e-09, 9.935409828187858e-09, 3.417174321285188e-09, 8.664447364026273e-07, 4.8358244384871796e-05, 6.650656558804258e-08, 3.55527807194278e-09, 3.1510640763343645e-09, 2.2504091923281067e-09, 2.173042190634078e-08, 6.82959653204307e-05, 5.911787326340345e-08, 5.205323727608402e-09, 3.7396121754795786e-09, 6.870922053536788e-09, 9.294867098219584e-09, 3.571163460946991e-06, 6.251445228144803e-08, 4.287398525093522e-08, 3.95428223498584e-08, 5.512491796366703e-09, 6.462502755155697e-10, 1.2882021671600796e-08, 4.413157876115292e-05, 9.029181313735535e-08, 7.985980943203685e-08, 5.8749183295958574e-08, 9.190790706270491e-08, 6.545096908894266e-09, 1.7262652418637003e-09, 4.5918028490632423e-07, 2.6831787636183435e-07, 7.689482117712032e-08, 1.4421463845337712e-07, 1.0842577502501172e-08, 0.0001381012989440933, 1.871693733335178e-08, 3.3587204129048587e-09, 2.7692037107840406e-08, 2.91974355803859e-09, 0.003175606019794941, 5.192873686610255e-07, 4.874897967965808e-06, 6.874360281017289e-08, 5.449851769867564e-08, 2.48505386934994e-07, 4.287617372256136e-09, 1.1728962245882713e-09, 1.250346137737779e-08, 4.7505267275482765e-08, 1.9122461836218463e-08, 4.314327561871778e-09, 9.397049893777876e-08, 0.00041926270932890475, 2.0370627851207246e-08, 1.26228827390662e-09, 2.027716661245904e-08, 7.718153369751235e-07, 9.101607467698614e-09, 6.402098762237074e-08, 8.942675044920634e-09, 0.9725458025932312, 7.062323703621587e-08]], "pointer": [[0.0, 0.0, 2.009301351790782e-05, 0.0, 6.46915941615589e-05, 0.0, 0.002144290367141366, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.791483171284199e-05, 0.0, 1.3490318906406173e-06, 0.0, 0.0, 0.0, 3.597544946387643e-06, 0.0, 1.0858270798053127e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 6.662448299721291e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.006404535379261e-06, 0.0, 0.0, 0.0, 0.0, 6.451455647038529e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00010733237286331132, 0.0, 0.0, 0.0, 0.0, 1.7947262449524715e-06, 0.0, 0.0, 0.0, 5.394069376052357e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0002672176342457533, 0.0, 0.0, 0.0, 0.0002899867540691048, 0.0, 8.374124718102394e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 4.632190666598035e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0196898983849678e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 3.0281398721854202e-06, 0.0, 0.0, 0.00011096019443357363, 0.0, 0.0, 0.0, 8.459220225631725e-06, 0.0, 0.0, 0.0, 0.00012853281805291772, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0003575444861780852, 0.0, 6.276438398344908e-06, 0.0, 1.9508479454088956e-05, 0.0, 0.0, 1.192829768115189e-05, 0.0, 5.19589229952544e-06, 0.0, 0.0, 1.1951941587540205e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.77780406022066e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9963003396987915, 0.0, 4.062398602400208e-06, 0.0]], "target": [0.9984446167945862]}, "loss": [0.027838019654154778, 0.0015565940411761403], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def disconnect(', 'self', ',', 'session', ',', 'reason', '=', "''", ')', ':', '#NEWLINE#', '#INDENT#', "'\\n        Called from server side to remove session and inform portal\\n        of this fact.\\n\\n        Args:\\n            session (Session): The Session to disconnect.\\n            reason (str, optional): A motivation for the disconnect.\\n\\n        '", '#NEWLINE#', 'session', '=', 'self', '.', 'get', '(', 'session', '.', 'sessid', ')', '#NEWLINE#', 'if', '(', 'not', 'session', ')', ':', '#NEWLINE#', '#INDENT#', 'return', '#NEWLINE#', '#UNINDENT#', 'if', '(', 'hasattr', '(', 'session', ',', "'player'", ')', 'and', 'session', '.', 'player', ')', ':', '#NEWLINE#', '#INDENT#', 'nsess', '=', '(', 'len', '(', 'self', '.', 'sessions_from_player', '(', 'session', '.', 'player', ')', ')', '-', '1', ')', '#NEWLINE#', 'string', '=', "'Logged out: {player} {address} ({nsessions} sessions(s) remaining)'", '#NEWLINE#', 'string', '=', 'string', '.', 'format', '(', 'player', '=', 'session', '.', 'player', ',', 'address', '=', 'session', '.', 'address', ',', 'nsessions', '=', 'nsess', ')', '#NEWLINE#', 'session', '.', 'log', '(', 'string', ')', '#NEWLINE#', '#UNINDENT#', 'session', '.', 'at_disconnect', '(', ')', '#NEWLINE#', 'sessid', '=', 'session', '.', 'sessid', '#NEWLINE#', 'del', 'self', '[', 'sessid', ']', '#NEWLINE#', 'self', '.', 'server', '.', 'amp_protocol', '.', 'send_AdminServer2Portal', '(', 'session', ',', 'operation', '=', 'SDISCONN', ',', 'reason', '=', 'self', ')']


All attention probs:

[0.009908284060657024, 0.007946735247969627, 0.03518149256706238, 0.013123128563165665, 0.015679234638810158, 0.010235491208732128, 0.026050863787531853, 0.009065961465239525, 0.007194605655968189, 0.008369814604520798, 0.008629157207906246, 0.009849690832197666, 0.008306119590997696, 0.008670417591929436, 0.007970892824232578, 0.024140676483511925, 0.009431518614292145, 0.014242611825466156, 0.00513400137424469, 0.006926986388862133, 0.006558993831276894, 0.017161859199404716, 0.004733634646981955, 0.005234260577708483, 0.004734713584184647, 0.005598597694188356, 0.005019596312195063, 0.004518029745668173, 0.004352342803031206, 0.018576540052890778, 0.003691101213917136, 0.0041641551069915295, 0.0047052777372300625, 0.004559403285384178, 0.004164505284279585, 0.005191971082240343, 0.005549621768295765, 0.005572766996920109, 0.004376586526632309, 0.0029360023327171803, 0.003384805517271161, 0.014605168253183365, 0.0054060774855315685, 0.005538918077945709, 0.0031043398194015026, 0.0044632647186517715, 0.01089442241936922, 0.0028211576864123344, 0.0038551322650164366, 0.002968535292893648, 0.003163695801049471, 0.003964614123106003, 0.003959463909268379, 0.012785909697413445, 0.0031905092764645815, 0.0024280049838125706, 0.002137930365279317, 0.002897907281294465, 0.011491334065794945, 0.002247386844828725, 0.002102473983541131, 0.003166711190715432, 0.009416461922228336, 0.002271584002301097, 0.003575649345293641, 0.0031462565530091524, 0.003273819340392947, 0.0037702901754528284, 0.005509285721927881, 0.0034785715397447348, 0.00515396473929286, 0.010484514757990837, 0.003422187641263008, 0.004008755087852478, 0.004771532490849495, 0.011891607195138931, 0.006874768529087305, 0.008893519639968872, 0.0021219647023826838, 0.00299144652672112, 0.00286807375960052, 0.00609924178570509, 0.00334615889005363, 0.009169251658022404, 0.0022830073721706867, 0.003013361245393753, 0.0033512513618916273, 0.008614965714514256, 0.004142766818404198, 0.010138645768165588, 0.002294086618348956, 0.0030087758786976337, 0.002790402853861451, 0.007210740819573402, 0.0032127744052559137, 0.01722533628344536, 0.003378479043021798, 0.005455205217003822, 0.008469844236969948, 0.0028448302764445543, 0.0034792160149663687, 0.004140021745115519, 0.018473893404006958, 0.004178013652563095, 0.00575648806989193, 0.00480645801872015, 0.007622073870152235, 0.002127022249624133, 0.003435644553974271, 0.0045196362771093845, 0.003353211795911193, 0.006156651768833399, 0.014295284636318684, 0.004472050815820694, 0.01046768669039011, 0.001924677169881761, 0.002964218845590949, 0.004041501320898533, 0.004088262561708689, 0.033338095992803574, 0.003670654958114028, 0.014281327836215496, 0.0034456998109817505, 0.004830906633287668, 0.008562990464270115, 0.005381543189287186, 0.004210820887237787, 0.004676343873143196, 0.005747140385210514, 0.0034540158230811357, 0.004123356193304062, 0.005103766452521086, 0.017317378893494606, 0.003278434509411454, 0.009019722230732441, 0.003446764312684536, 0.004870104603469372, 0.0030254314187914133, 0.01315905898809433, 0.003963724244385958, 0.0448007807135582, 0.00398115161806345]


Top-k source tokens:

['self', 'self', 'self', 'reason', 'session', 'session', 'string', 'session', 'nsess', 'session']


Top-k attention probs:

[0.0448007807135582, 0.03518149256706238, 0.033338095992803574, 0.026050863787531853, 0.024140676483511925, 0.018576540052890778, 0.018473893404006958, 0.017317378893494606, 0.01722533628344536, 0.017161859199404716]
