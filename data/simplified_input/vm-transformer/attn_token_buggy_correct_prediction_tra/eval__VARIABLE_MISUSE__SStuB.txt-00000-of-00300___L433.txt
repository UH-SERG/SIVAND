
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_cannot_receive_headers_stream_1(", "self", ",", "frame_factory", ")", ":", "#NEWLINE#", "#INDENT#", "'\\n        After upgrading, we cannot receive headers on stream 1.\\n        '", "#NEWLINE#", "c", "=", "h2", ".", "connection", ".", "H2Connection", "(", "client_side", "=", "False", ")", "#NEWLINE#", "c", ".", "initiate_upgrade_connection", "(", ")", "#NEWLINE#", "c", ".", "receive_data", "(", "frame_factory", ".", "preamble", "(", ")", ")", "#NEWLINE#", "c", ".", "clear_outbound_data_buffer", "(", ")", "#NEWLINE#", "f", "=", "frame_factory", ".", "build_headers_frame", "(", "stream_id", "=", "1", ",", "headers", "=", "c", ".", "example_request_headers", ")", "#NEWLINE#", "c", ".", "receive_data", "(", "f", ".", "serialize", "(", ")", ")", "#NEWLINE#", "expected_frame", "=", "frame_factory", ".", "build_rst_stream_frame", "(", "stream_id", "=", "1", ",", "error_code", "=", "h2", ".", "errors", ".", "STREAM_CLOSED", ")", "#NEWLINE#", "assert", "(", "c", ".", "data_to_send", "(", ")", "==", "expected_frame", ".", "serialize", "(", ")", ")"], "error_location": [59], "repair_targets": [2], "repair_candidates": [2, 11, 24, 30, 41, 59, 64, 96, 75, 102, 4, 34, 49, 77, 47, 68], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "python-hyper/hyper-h2/test/test_h2_upgrade.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 433, "results": {"model": "transformer", "prob": {"loc": [[0.0731702670454979, 1.2870849275259388e-07, 2.587670451248414e-06, 1.5282805021499257e-09, 1.3842051771462138e-07, 1.7610543023849345e-09, 2.2888535511356167e-09, 2.631139972564256e-09, 1.7903092341953197e-09, 1.1300086422139088e-09, 1.5552813481534145e-09, 3.265065728896843e-08, 4.164078859503206e-09, 6.961496268331757e-08, 4.4075911809215995e-09, 1.831870544144465e-09, 1.2081216915760251e-08, 6.866278656758595e-10, 3.709157647691086e-09, 2.5910198431233766e-09, 3.2623936885300964e-09, 7.1377064259081635e-09, 1.887131118039065e-09, 1.4999850250774216e-09, 1.0403377048717743e-09, 3.925894276335384e-09, 7.450063344016655e-10, 6.069026614596851e-09, 4.286087040838993e-09, 2.1460486721025518e-09, 3.6916112389207e-09, 3.0277536033906927e-09, 9.034646919481304e-10, 4.459086877517393e-09, 9.248553567431372e-08, 1.3785925290221712e-08, 3.3151852374402324e-09, 4.603111136702864e-08, 2.5754170351888206e-08, 7.0707693033966734e-09, 3.754626831664609e-09, 1.14269649298393e-09, 8.043698151993794e-09, 1.0297875885356689e-09, 2.1737752931016985e-08, 3.690557548452489e-08, 1.3304202184372116e-08, 3.425303987114603e-07, 7.789396683222094e-09, 3.876938592384249e-07, 1.6502989197419993e-08, 1.0729440669265955e-09, 8.514331462095015e-09, 3.043722607287691e-09, 1.2901319124125621e-08, 1.4571338802227274e-08, 2.420805556013761e-09, 1.8314443295253113e-09, 7.054657746863313e-09, 0.9267446398735046, 7.932283807576823e-08, 1.0271953243545795e-07, 1.3050558855809413e-08, 2.3181772945690682e-08, 4.218834703806351e-08, 1.3439297674722184e-08, 1.4141725568350694e-09, 1.0220334800692399e-08, 1.6524677448614966e-06, 6.52850360438606e-08, 2.727230885568588e-09, 2.1384204273999785e-07, 6.419789855272029e-08, 3.667736692136714e-08, 1.5657451513106935e-07, 1.469238526397021e-07, 2.1541863404195283e-08, 1.021948719426291e-06, 4.594523517198468e-08, 1.937078497604716e-09, 2.774442009467748e-08, 1.1507854225101255e-08, 2.197228212708069e-07, 1.136435727744356e-07, 2.1062604105281935e-08, 2.947934341079872e-09, 2.1167151587064836e-08, 3.284772174083628e-05, 1.282257784396279e-07, 5.047339257657768e-08, 1.645462646138185e-07, 1.859938514314763e-08, 7.435733095917385e-08, 2.84889125623522e-07, 2.2976476543590252e-07, 5.336973529779243e-08, 3.837951589957811e-05, 7.655835077002848e-08, 6.80294087729294e-09, 1.8343862961955892e-07, 5.047685647241451e-08, 3.519674152130392e-08, 3.575322807591874e-06, 7.805061130738977e-08, 5.290370364008368e-09, 9.767340003463687e-08, 2.772097502656834e-07, 1.5569928280001477e-07]], "pointer": [[0.0, 0.0, 0.9104782938957214, 0.0, 0.026391414925456047, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.017884492874145508, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0009047792991623282, 0.0, 0.0, 0.0, 0.0, 0.0, 7.74417640059255e-05, 0.0, 0.0, 0.0, 0.009837700054049492, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0007653589709661901, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00010302272130502388, 0.0, 0.02477169595658779, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.5540029279654846e-05, 0.0, 0.0, 0.0, 0.0, 2.1038542399764992e-05, 0.0, 0.0, 0.0, 1.2055905926899868e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.1982101063476875e-05, 0.0, 0.008662449195981026, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.1383185665181372e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 2.2006031485943822e-06, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9104782938957214]}, "loss": [0.07607699930667877, 0.09378521889448166], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_cannot_receive_headers_stream_1(', 'self', ',', 'frame_factory', ')', ':', '#NEWLINE#', '#INDENT#', "'\\n        After upgrading, we cannot receive headers on stream 1.\\n        '", '#NEWLINE#', 'c', '=', 'h2', '.', 'connection', '.', 'H2Connection', '(', 'client_side', '=', 'False', ')', '#NEWLINE#', 'c', '.', 'initiate_upgrade_connection', '(', ')', '#NEWLINE#', 'c', '.', 'receive_data', '(', 'frame_factory', '.', 'preamble', '(', ')', ')', '#NEWLINE#', 'c', '.', 'clear_outbound_data_buffer', '(', ')', '#NEWLINE#', 'f', '=', 'frame_factory', '.', 'build_headers_frame', '(', 'stream_id', '=', '1', ',', 'headers', '=', 'c', '.', 'example_request_headers', ')', '#NEWLINE#', 'c', '.', 'receive_data', '(', 'f', '.', 'serialize', '(', ')', ')', '#NEWLINE#', 'expected_frame', '=', 'frame_factory', '.', 'build_rst_stream_frame', '(', 'stream_id', '=', '1', ',', 'error_code', '=', 'h2', '.', 'errors', '.', 'STREAM_CLOSED', ')', '#NEWLINE#', 'assert', '(', 'c', '.', 'data_to_send', '(', ')', '==', 'expected_frame', '.', 'serialize', '(', ')', ')']


All attention probs:

[0.025435417890548706, 0.010811954736709595, 0.06600754708051682, 0.016230134293437004, 0.03285741060972214, 0.01448043156415224, 0.009554648771882057, 0.009858612902462482, 0.009720328263938427, 0.01289407815784216, 0.012589101679623127, 0.024688351899385452, 0.009746965020895004, 0.015805697068572044, 0.007117165252566338, 0.008267488330602646, 0.007124127354472876, 0.007108870893716812, 0.007183801848441362, 0.00965952966362238, 0.006621493957936764, 0.008364588022232056, 0.0053927479311823845, 0.00825299322605133, 0.014681851491332054, 0.005135030020028353, 0.005821406841278076, 0.005890696309506893, 0.0057321698404848576, 0.006833340041339397, 0.015037724748253822, 0.004939026664942503, 0.005060505587607622, 0.0047243633307516575, 0.013379715383052826, 0.0041413335129618645, 0.005517466459423304, 0.005689565557986498, 0.00583689333871007, 0.004211253486573696, 0.007325418759137392, 0.012071685865521431, 0.005382363218814135, 0.006823523435741663, 0.005346475634723902, 0.0050557879731059074, 0.007575191091746092, 0.02033144049346447, 0.005517803598195314, 0.009824049659073353, 0.004074807744473219, 0.003912529442459345, 0.0035435855388641357, 0.006664374843239784, 0.003917639143764973, 0.007391763385385275, 0.003706869902089238, 0.007904017344117165, 0.004123130347579718, 0.0568380132317543, 0.003998135216534138, 0.005795022007077932, 0.0037944044452160597, 0.006365824490785599, 0.01695822738111019, 0.004299145191907883, 0.0056097786873579025, 0.0052103144116699696, 0.017231682315468788, 0.003932476043701172, 0.005307360086590052, 0.005992910359054804, 0.005126029718667269, 0.003961414564400911, 0.00770102022215724, 0.022764135152101517, 0.009082087315618992, 0.010294018313288689, 0.0030466082971543074, 0.004644576460123062, 0.003999895416200161, 0.007512970361858606, 0.004146451596170664, 0.007049331907182932, 0.003825632156804204, 0.008583669550716877, 0.005224090069532394, 0.01686522178351879, 0.004325178451836109, 0.005083001684397459, 0.0034615795593708754, 0.004508810583502054, 0.00398868415504694, 0.007273868191987276, 0.010191706009209156, 0.006420579273253679, 0.016857989132404327, 0.005985981319099665, 0.006350949872285128, 0.007338568102568388, 0.005929064471274614, 0.0067853000946342945, 0.0187545083463192, 0.00720492098480463, 0.008012277074158192, 0.006742131430655718, 0.005922485142946243, 0.004803685005754232]


Top-k source tokens:

['self', 'c', 'frame_factory', '#NEWLINE#', 'c', 'expected_frame', 'f', 'expected_frame', 'f', 'c']


Top-k attention probs:

[0.06600754708051682, 0.0568380132317543, 0.03285741060972214, 0.025435417890548706, 0.024688351899385452, 0.022764135152101517, 0.02033144049346447, 0.0187545083463192, 0.017231682315468788, 0.01695822738111019]
