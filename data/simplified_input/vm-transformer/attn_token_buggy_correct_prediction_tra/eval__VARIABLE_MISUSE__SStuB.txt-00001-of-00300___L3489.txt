
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def users_form_post(", "self", ",", "request", ",", "*", "args", ",", "**kwargs", ")", ":", "#NEWLINE#", "#INDENT#", "if", "self", ".", "users_form", ".", "is_valid", "(", ")", ":", "#NEWLINE#", "#INDENT#", "self", ".", "users_form", ".", "save", "(", ")", "#NEWLINE#", "return", "self", ".", "form_valid", "(", ")", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "self", ".", "request", ".", "method", "=", "'GET'", "#NEWLINE#", "self", ".", "form_tab", "=", "'users'", "#NEWLINE#", "return", "self", ".", "get", "(", "request", ",", "*", "request", ",", "**", "kwargs", ")"], "error_location": [67], "repair_targets": [7], "repair_candidates": [70, 7, 4, 47, 64, 67, 2, 15, 25, 34, 45, 53, 60], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "dimagi/commcare-hq/corehq/apps/locations/views.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 3489, "results": {"model": "transformer", "prob": {"loc": [[4.0955390431918204e-05, 3.124344338800711e-09, 5.604055552943521e-10, 5.352383813939099e-11, 2.743438143326671e-09, 8.026027065177743e-11, 9.404895612297182e-11, 5.760751875527603e-08, 4.160608663150711e-11, 3.7551012299630315e-10, 1.8436547427613803e-11, 3.441576884588571e-11, 9.936770156704355e-11, 1.3388841424433195e-10, 1.7324994217027267e-10, 8.773138882034459e-10, 2.4551220431656695e-11, 5.040041300974352e-12, 6.872073049501992e-11, 1.6070800940015673e-11, 3.1650507215097434e-10, 1.3417039701479894e-10, 4.0014416780032036e-10, 1.5425548338665607e-10, 5.550418111233135e-11, 6.657707024571025e-11, 1.4655115662676188e-11, 4.53587514770426e-12, 3.2824472306902663e-11, 2.240861142477346e-11, 3.720355801206665e-09, 2.179854297068573e-09, 2.6651639228880697e-10, 4.945153314617201e-11, 4.456459506974042e-11, 2.389446106254578e-11, 3.2468166610150062e-12, 1.332767451955874e-09, 2.0641164333312645e-09, 3.928247727102985e-10, 1.0704568481623156e-10, 6.248673106723501e-11, 3.213004862168134e-10, 3.1567487512873527e-10, 2.1945463501982232e-10, 1.1176862768635942e-09, 4.516384488617575e-11, 5.429790297939441e-11, 9.588323190978798e-11, 1.2918301844910829e-11, 3.7801881069832177e-10, 5.887684562111417e-09, 2.7496771526358543e-09, 4.80031743521625e-11, 8.245228805270344e-11, 9.383371683824304e-12, 2.1616617384978554e-09, 3.631596134923143e-09, 2.4710423929263925e-08, 1.0303460168392675e-10, 5.962321608654619e-11, 4.3155520823567883e-11, 1.0630988277193776e-11, 2.0460180771841863e-10, 0.0027834486681967974, 1.0455865062652947e-09, 1.679940075938191e-09, 0.9971736669540405, 5.827387905554815e-09, 1.4064323039519877e-09, 1.7802972251956817e-06, 1.66734059892093e-09]], "pointer": [[0.0, 0.0, 9.939871961250901e-05, 0.0, 6.153805588837713e-05, 0.0, 0.0, 0.9997523427009583, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.206045792263467e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.4839907635177951e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7.717514563410077e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.644009434035979e-06, 0.0, 1.06729908111447e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 5.096421591588296e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.342992050012981e-06, 0.0, 0.0, 0.0, 6.633190707816539e-08, 0.0, 0.0, 1.0175942577461683e-07, 0.0, 0.0, 2.828227025020169e-06, 0.0]], "target": [0.9997523427009583]}, "loss": [0.002830310957506299, 0.00024768797447904944], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def users_form_post(', 'self', ',', 'request', ',', '*', 'args', ',', '**kwargs', ')', ':', '#NEWLINE#', '#INDENT#', 'if', 'self', '.', 'users_form', '.', 'is_valid', '(', ')', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'users_form', '.', 'save', '(', ')', '#NEWLINE#', 'return', 'self', '.', 'form_valid', '(', ')', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'request', '.', 'method', '=', "'GET'", '#NEWLINE#', 'self', '.', 'form_tab', '=', "'users'", '#NEWLINE#', 'return', 'self', '.', 'get', '(', 'request', ',', '*', 'request', ',', '**', 'kwargs', ')']


All attention probs:

[0.01843288168311119, 0.012066471390426159, 0.056508880108594894, 0.017974793910980225, 0.046163223683834076, 0.014218376949429512, 0.013306679204106331, 0.04326392710208893, 0.014187409542500973, 0.033007219433784485, 0.01845170557498932, 0.014237453229725361, 0.013401251286268234, 0.011189999058842659, 0.01220414787530899, 0.02510370872914791, 0.00604504719376564, 0.009052414447069168, 0.006780656520277262, 0.008729229681193829, 0.008467355743050575, 0.007150055840611458, 0.00766247883439064, 0.009066114202141762, 0.008873893879354, 0.01909787207841873, 0.0047006807290017605, 0.00810899119824171, 0.005639685317873955, 0.007040172815322876, 0.00821359921246767, 0.007753241807222366, 0.009976188652217388, 0.011393260210752487, 0.01667148806154728, 0.0047740512527525425, 0.007389501202851534, 0.009009619243443012, 0.007829670794308186, 0.009806438349187374, 0.008804251439869404, 0.023051125928759575, 0.010967008769512177, 0.009777272120118141, 0.008198840543627739, 0.014428617432713509, 0.00581394974142313, 0.008925121277570724, 0.005610990338027477, 0.007638403680175543, 0.005783667787909508, 0.008230967447161674, 0.009221745654940605, 0.014720791019499302, 0.004390537738800049, 0.007552408613264561, 0.006501263938844204, 0.00937627349048853, 0.008763599209487438, 0.012998082675039768, 0.018256481736898422, 0.004948612302541733, 0.008364995010197163, 0.0074935611337423325, 0.04048517346382141, 0.010683013126254082, 0.012090043164789677, 0.06594327837228775, 0.009196765720844269, 0.01105684507638216, 0.03394012153148651, 0.013836361467838287]


Top-k source tokens:

['request', 'self', 'request', 'args', 'request', 'kwargs', '**kwargs', 'self', 'else', 'self']


Top-k attention probs:

[0.06594327837228775, 0.056508880108594894, 0.046163223683834076, 0.04326392710208893, 0.04048517346382141, 0.03394012153148651, 0.033007219433784485, 0.02510370872914791, 0.023051125928759575, 0.01909787207841873]
