
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "@", "login_required", "#NEWLINE#", "def edit_profile(", "request", ")", ":", "#NEWLINE#", "#INDENT#", "user", "=", "RedditUser", ".", "objects", ".", "get", "(", "user", "=", "user", ".", "user", ")", "#NEWLINE#", "if", "(", "request", ".", "method", "==", "'GET'", ")", ":", "#NEWLINE#", "#INDENT#", "profile_form", "=", "ProfileForm", "(", "instance", "=", "user", ")", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "if", "(", "request", ".", "method", "==", "'POST'", ")", ":", "#NEWLINE#", "#INDENT#", "profile_form", "=", "ProfileForm", "(", "request", ".", "POST", ",", "instance", "=", "user", ")", "#NEWLINE#", "if", "profile_form", ".", "is_valid", "(", ")", ":", "#NEWLINE#", "#INDENT#", "profile", "=", "profile_form", ".", "save", "(", "commit", "=", "False", ")", "#NEWLINE#", "profile", ".", "update_profile_data", "(", ")", "#NEWLINE#", "profile", ".", "save", "(", ")", "#NEWLINE#", "messages", ".", "success", "(", "request", ",", "'Profile settings saved'", ")", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "raise", "Http404", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "return", "render", "(", "request", ",", "'private/edit_profile.html'", ",", "{", "#NEWLINE#", "#INDENT#", "'form'", ":", "profile_form", ",", "#NEWLINE#", "#UNINDENT#", "}", ")"], "error_location": [20], "repair_targets": [5, 27, 52, 65, 110, 129], "repair_candidates": [10, 18, 20, 22, 42, 71, 36, 61, 75, 85, 138, 83, 94, 100, 5, 27, 52, 65, 110, 129], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "Nikola-K/django_reddit/users/views.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 1590, "results": {"model": "transformer", "prob": {"loc": [[0.0013169781304895878, 1.1699950341892418e-08, 5.169408789917895e-10, 3.6399436242895433e-10, 3.899737754942123e-10, 1.2429468654318043e-07, 1.4984356810909816e-10, 1.7368007032558808e-10, 2.1432845775937182e-10, 1.5555935706235147e-10, 5.425199844921735e-09, 2.423453937527853e-10, 5.642789346893551e-09, 2.2316706815850296e-10, 3.253844138573214e-10, 4.885828408518478e-10, 1.0858094978694055e-10, 3.7712438727410813e-10, 3.885293864414052e-08, 3.913657176113361e-10, 0.9983136653900146, 2.723199665766174e-09, 2.430861067992396e-10, 1.5551546161951535e-10, 2.1997008381458016e-10, 1.6064344299238087e-10, 4.665642094892064e-09, 3.370855483808555e-05, 9.145007529021143e-10, 6.914359085286037e-10, 1.6004186864648773e-10, 1.0618678158991202e-09, 6.184538298148468e-11, 1.9194368316988175e-10, 2.1823037821278035e-10, 1.319616083073072e-10, 6.113471950897065e-09, 2.0832188751818137e-10, 1.4044231923249217e-11, 1.5967049904475061e-10, 1.0594684018983003e-09, 2.678101906905539e-10, 3.4977824725501705e-07, 5.312294493187153e-10, 5.272743353046394e-10, 3.2240732306121345e-10, 6.003531005660534e-10, 1.8907747589835822e-10, 4.774952655495213e-10, 2.3032625806607143e-10, 1.8469009654964452e-10, 1.2371825786061663e-09, 8.204493497032672e-06, 1.8054265860101282e-09, 3.024026584697026e-10, 1.3884059180124808e-10, 2.2377710795495886e-09, 2.0051132976206532e-10, 4.994580860007147e-10, 2.903848828061939e-10, 1.914632064003996e-10, 3.985326735289618e-09, 2.0410251266866908e-10, 3.312883994910365e-11, 3.527671765812812e-10, 2.7485557438922115e-05, 3.940173964878113e-09, 6.913488670434731e-10, 1.380210390422576e-10, 6.94909130238841e-10, 2.833661083556649e-10, 3.299959132618824e-07, 4.689961752291083e-10, 1.0968275176992393e-09, 9.94783033725355e-10, 1.9907753667780526e-08, 7.845732952205253e-10, 4.849924906125125e-10, 1.0667886574111662e-09, 1.1721164039357745e-09, 1.566494933769036e-09, 2.2761474927079917e-09, 8.404681950402448e-10, 1.6466052965569133e-09, 3.456914199340133e-10, 3.3534988119754416e-09, 6.156083975916715e-10, 6.736378815874744e-11, 1.3349632510539777e-09, 2.6793281482362374e-10, 1.7918140304828967e-09, 4.804270314906489e-09, 1.369201196865788e-09, 1.6413186365582533e-09, 6.663376517224151e-10, 5.161762683947302e-10, 4.738712547358581e-11, 1.2509862479248568e-08, 2.0752091156595043e-09, 1.6871749553004634e-09, 4.769691308581514e-10, 3.4958624883785205e-10, 1.6334415764429622e-10, 7.41686889682569e-09, 2.2994361970063437e-09, 2.070512206131525e-09, 8.146904262318344e-10, 2.9104030296878136e-10, 2.934975595891842e-10, 7.733220730443691e-10, 6.794548426114488e-06, 2.7768252142124084e-09, 1.4783637425352936e-08, 4.024321764717342e-09, 4.462111125036472e-09, 1.122077986082104e-09, 7.743848340346915e-10, 3.924900127127984e-10, 1.2114195202528322e-09, 9.553879909418583e-10, 6.650602846214326e-10, 3.188451169755524e-10, 5.403811620396937e-09, 1.0825944585235447e-09, 1.051025155796026e-09, 7.462656603784978e-10, 7.153611730759124e-11, 2.0109656995170866e-10, 6.302888211351387e-10, 6.536154160130536e-06, 3.0510609594358584e-09, 7.747117614087529e-09, 1.556087037002385e-09, 3.0256954719476425e-09, 9.145966761714419e-10, 5.312750239738762e-10, 6.14988726610477e-10, 3.2373340119740135e-10, 0.0002854971680790186, 8.264284256931376e-10, 1.1569019076063114e-09, 6.560646470532561e-10, 3.3491187600986905e-10, 1.7085318715359676e-09]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.655293345451355, 0.0, 0.0, 0.0, 0.0, 0.00011503980931593105, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.923066954797832e-07, 0.0, 7.338514933508122e-07, 0.0, 8.51538970891852e-06, 0.0, 0.0, 0.0, 0.0, 0.2665129601955414, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.712055174924899e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0047438081528526e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.600359403004404e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.3056812349532265e-05, 0.0, 0.0, 0.0, 0.0777786448597908, 0.0, 0.0, 0.0, 0.0, 0.0, 3.6687804822577164e-05, 0.0, 0.0, 0.0, 1.763734616133661e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.319599975133315e-05, 0.0, 7.519980727010989e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.077034514513798e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 3.6086170439375564e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.8224021662026644e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.785288547282107e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.0234613152279053e-07, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9996870756149292]}, "loss": [0.0016875325236469507, 0.00031297336681745946], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', '@', 'login_required', '#NEWLINE#', 'def edit_profile(', 'request', ')', ':', '#NEWLINE#', '#INDENT#', 'user', '=', 'RedditUser', '.', 'objects', '.', 'get', '(', 'user', '=', 'user', '.', 'user', ')', '#NEWLINE#', 'if', '(', 'request', '.', 'method', '==', "'GET'", ')', ':', '#NEWLINE#', '#INDENT#', 'profile_form', '=', 'ProfileForm', '(', 'instance', '=', 'user', ')', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'if', '(', 'request', '.', 'method', '==', "'POST'", ')', ':', '#NEWLINE#', '#INDENT#', 'profile_form', '=', 'ProfileForm', '(', 'request', '.', 'POST', ',', 'instance', '=', 'user', ')', '#NEWLINE#', 'if', 'profile_form', '.', 'is_valid', '(', ')', ':', '#NEWLINE#', '#INDENT#', 'profile', '=', 'profile_form', '.', 'save', '(', 'commit', '=', 'False', ')', '#NEWLINE#', 'profile', '.', 'update_profile_data', '(', ')', '#NEWLINE#', 'profile', '.', 'save', '(', ')', '#NEWLINE#', 'messages', '.', 'success', '(', 'request', ',', "'Profile settings saved'", ')', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'raise', 'Http404', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'return', 'render', '(', 'request', ',', "'private/edit_profile.html'", ',', '{', '#NEWLINE#', '#INDENT#', "'form'", ':', 'profile_form', ',', '#NEWLINE#', '#UNINDENT#', '}', ')']


All attention probs:

[0.012479221448302269, 0.008535604923963547, 0.013996457681059837, 0.013116379268467426, 0.014820229262113571, 0.03179149702191353, 0.01053257379680872, 0.007406595163047314, 0.008455394767224789, 0.008549503982067108, 0.031243978068232536, 0.00912771001458168, 0.011130041442811489, 0.005638035014271736, 0.007699602283537388, 0.005741857457906008, 0.006348706316202879, 0.006443502847105265, 0.010826844722032547, 0.00698164664208889, 0.0441104955971241, 0.0051224022172391415, 0.005348807200789452, 0.005257589742541313, 0.006616094149649143, 0.006011761259287596, 0.004739756230264902, 0.017914537340402603, 0.003180338302627206, 0.004876148886978626, 0.0037740159314125776, 0.0051322998479008675, 0.004184543155133724, 0.0043931202962994576, 0.005139126908034086, 0.0053794425912201405, 0.012927485629916191, 0.004540911875665188, 0.004268718883395195, 0.0037447193171828985, 0.009339679032564163, 0.0038384944200515747, 0.016244987025856972, 0.0030647432431578636, 0.00511603569611907, 0.0058280061930418015, 0.011033494956791401, 0.003874795278534293, 0.0042137145064771175, 0.0044517857022583485, 0.0040832869708538055, 0.003388043260201812, 0.013158941641449928, 0.002550274133682251, 0.0034385183826088905, 0.0028699988033622503, 0.0035285484045743942, 0.003012055763974786, 0.003303166711702943, 0.0037120606284588575, 0.004003876820206642, 0.016897814348340034, 0.0035658981651067734, 0.0033688750118017197, 0.0032102500554174185, 0.011662926524877548, 0.002824741415679455, 0.004639002960175276, 0.00394193921238184, 0.008017181418836117, 0.003755150828510523, 0.016709687188267708, 0.0029498895164579153, 0.004945368506014347, 0.0052634961903095245, 0.009156648069620132, 0.0022476206067949533, 0.0032977978698909283, 0.0038834363222122192, 0.0027922766748815775, 0.0029418277554214, 0.004048844333738089, 0.003987803123891354, 0.01145157590508461, 0.0037757072132080793, 0.008161266334354877, 0.002903728047385812, 0.0043059950694441795, 0.003968037199229002, 0.0063785105012357235, 0.003122309921309352, 0.003741529304534197, 0.0025170547887682915, 0.00465315580368042, 0.010639731772243977, 0.0028881581965833902, 0.004105931613594294, 0.005259114317595959, 0.004224479664117098, 0.005847695749253035, 0.011789585463702679, 0.002820751164108515, 0.004011939745396376, 0.006160667631775141, 0.0037907776422798634, 0.005756983999162912, 0.011629466898739338, 0.002319435589015484, 0.003945063799619675, 0.0036581424064934254, 0.016638441011309624, 0.003910406026989222, 0.00559269730001688, 0.002632507123053074, 0.004751611966639757, 0.004029712174087763, 0.004493284970521927, 0.008138387463986874, 0.0037391853984445333, 0.004225549753755331, 0.004305357579141855, 0.005266429856419563, 0.0063890451565384865, 0.004991961643099785, 0.005479955114424229, 0.007054941728711128, 0.012612392194569111, 0.007121589500457048, 0.005707647651433945, 0.01649300940334797, 0.005065284203737974, 0.00400983402505517, 0.003604433499276638, 0.003394568106159568, 0.00484746927395463, 0.004219934809952974, 0.006252147722989321, 0.0040412587113678455, 0.03642003610730171, 0.0034800702705979347, 0.00502160144969821, 0.005393888335675001, 0.005855763331055641, 0.0053021167404949665]


Top-k source tokens:

['user', 'profile_form', 'request', 'user', 'request', 'profile_form', 'user', 'request', 'request', 'user']


Top-k attention probs:

[0.0441104955971241, 0.03642003610730171, 0.03179149702191353, 0.031243978068232536, 0.017914537340402603, 0.016897814348340034, 0.016709687188267708, 0.016638441011309624, 0.01649300940334797, 0.016244987025856972]
