
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_create_test_database(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "from", "django.conf", "import", "settings", "#NEWLINE#", "try", ":", "#NEWLINE#", "#INDENT#", "assert", "(", "'mongodb'", "in", "settings", ".", "DATABASES", ")", "#NEWLINE#", "#UNINDENT#", "except", "AttributeError", ":", "#NEWLINE#", "#INDENT#", "return", "#NEWLINE#", "#UNINDENT#", "old_database_name", "=", "settings", ".", "DATABASES", "[", "'mongodb'", "]", "[", "'NAME'", "]", "#NEWLINE#", "assert", "(", "'test_'", "not in", "db", ")", "#NEWLINE#", "from", "django.db", "import", "connections", "#NEWLINE#", "connection", "=", "connections", "[", "'mongodb'", "]", "#NEWLINE#", "connection", ".", "creation", ".", "create_test_db", "(", ")", "#NEWLINE#", "test_database_name", "=", "settings", ".", "DATABASES", "[", "'mongodb'", "]", "[", "'NAME'", "]", "#NEWLINE#", "self", ".", "assertTrue", "(", "(", "'test_'", "in", "test_database_name", ")", ")", "#NEWLINE#", "from", "mongokit", "import", "Connection", "#NEWLINE#", "con", "=", "Connection", "(", ")", "#NEWLINE#", "self", ".", "assertTrue", "(", "(", "test_database_name", "not in", "con", ".", "database_names", "(", ")", ")", ")", "#NEWLINE#", "db", "=", "con", "[", "settings", ".", "DATABASES", "[", "'mongodb'", "]", "[", "'NAME'", "]", "]", "#NEWLINE#", "coll", "=", "db", ".", "test_collection_name", "#NEWLINE#", "list", "(", "coll", ".", "find", "(", ")", ")", "#NEWLINE#", "test_database_name", "=", "settings", ".", "DATABASES", "[", "'mongodb'", "]", "[", "'NAME'", "]", "#NEWLINE#", "self", ".", "assertTrue", "(", "(", "test_database_name", "in", "con", ".", "database_names", "(", ")", ")", ")", "#NEWLINE#", "connection", ".", "creation", ".", "destroy_test_db", "(", "old_database_name", ")", "#NEWLINE#", "self", ".", "assertTrue", "(", "(", "'test_'", "not in", "settings", ".", "DATABASES", "[", "'mongodb'", "]", "[", "'NAME'", "]", ")", ")", "#NEWLINE#", "self", ".", "assertTrue", "(", "(", "test_database_name", "not in", "con", ".", "database_names", "(", ")", ")", ")", "#NEWLINE#", "connection", ".", "close", "(", ")"], "error_location": [50], "repair_targets": [34, 185], "repair_candidates": [137, 145, 73, 92, 112, 152, 169, 212, 50, 122, 139, 101, 114, 124, 171, 214, 34, 185, 58, 65, 179, 222, 2, 85, 107, 164, 188, 207], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "peterbe/django-mongokit/django_mongokit/tests.py", "license": "bsd-3-clause", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 204, "results": {"model": "transformer", "prob": {"loc": [[0.00030704631353728473, 9.764695718672556e-10, 1.944803207365453e-09, 2.0386319368737027e-11, 3.3486196454601824e-11, 3.42211120551994e-11, 2.690953189443679e-11, 4.0834918779708573e-11, 1.8590946837537814e-10, 1.3437434498442258e-09, 1.7904479010510954e-09, 1.285253761057481e-11, 1.6312649148142455e-11, 2.1553857657008457e-11, 2.3552798600334768e-11, 2.4326738540247916e-11, 4.226782812644103e-11, 6.376514594119698e-11, 2.0512917586756885e-08, 3.6926775526247013e-10, 1.6878392017360966e-08, 8.327272899011362e-11, 1.0508459553915106e-11, 2.7354207440821732e-11, 3.086387742601282e-11, 4.0035249421199737e-11, 1.7817054775992602e-10, 8.367841142220556e-11, 4.474090195549785e-11, 3.742586796029457e-11, 3.686405694591777e-11, 6.726225132425157e-11, 5.894679883100551e-11, 7.133978824347409e-11, 3.6063628527926994e-08, 1.2983970842928017e-10, 2.0293201785648307e-08, 3.904880238603248e-11, 9.290962096897282e-12, 6.216364228928128e-11, 2.6816102671745057e-09, 3.0627739233679563e-10, 3.146681804011564e-09, 3.557662386910465e-09, 1.7395594686941962e-10, 1.0385224624709366e-10, 6.37843597384169e-11, 1.5810014408756956e-10, 2.670287244654901e-07, 1.4034956530295517e-09, 0.9993636012077332, 3.810934623427187e-10, 1.6490406262725799e-10, 1.0575763875753097e-10, 3.4513234492550282e-09, 2.680297228607742e-08, 2.5501389444571032e-08, 4.848072984731111e-11, 4.955092336444977e-09, 8.692022102074759e-11, 3.1494593599745713e-07, 6.433618082724024e-10, 1.0974052777612542e-09, 2.066175980308671e-10, 7.790824235742733e-11, 2.5196236763669333e-10, 1.8270412960319504e-11, 3.599004774756942e-11, 2.049720462804494e-11, 9.101358555696493e-12, 6.390787898880035e-10, 7.081827346766545e-10, 5.54980540690142e-11, 2.5238962031437495e-09, 2.1939429439843394e-11, 9.199338535381685e-08, 8.10879627333172e-11, 1.2453779327237235e-11, 3.54416045122985e-11, 1.1753964468397271e-09, 1.8821143255021155e-10, 5.808698522180578e-10, 1.5342110915028684e-09, 1.9794792194272048e-10, 1.091724072255218e-10, 3.435177142740997e-11, 2.81383492894971e-11, 1.108573129127155e-11, 9.667473072072497e-11, 6.177551248320867e-10, 1.0569180197705919e-08, 2.4840451917640394e-10, 2.7146168122271774e-06, 2.0348608908982158e-10, 8.090566411267375e-11, 6.478486497263347e-11, 9.051107086044397e-11, 2.703192392150555e-10, 5.267563096822414e-08, 3.6967787164776666e-10, 8.885732427632576e-11, 9.893678099004433e-10, 2.2344695538301096e-10, 1.8300660986625417e-10, 2.7379865041865514e-09, 6.414809239352337e-10, 2.4432489365011634e-10, 4.891767199644015e-11, 3.747558513511606e-11, 2.578492974691926e-11, 1.1057101068079334e-10, 7.860923023628175e-10, 3.5540324461180717e-06, 2.373042873315967e-10, 2.2107351504985218e-09, 1.2327608378548405e-10, 1.4108267505641425e-11, 1.1057682769433086e-08, 7.160128601135796e-10, 2.657768172209529e-10, 2.8598873269558567e-10, 1.787171521883124e-10, 4.8242796424347034e-09, 5.939247704755957e-11, 0.0002979482233058661, 1.8988146166520892e-08, 6.866291073492903e-07, 4.645483719922794e-10, 2.7712042729999276e-11, 8.142633789454123e-10, 2.725871306452632e-09, 2.9116475896984184e-10, 2.0183026361308976e-09, 2.845345514757014e-09, 2.8497218473866326e-10, 4.0158704139869883e-10, 1.6613624365113822e-10, 1.4166093853518191e-09, 2.35637287460122e-10, 3.4422345152052003e-07, 4.365459937982763e-10, 2.103497410976818e-11, 1.0411900508433547e-10, 2.347544381109401e-10, 9.477341134100925e-11, 2.9180979854714906e-09, 6.449488859638919e-11, 6.907476673978508e-11, 8.191890499276155e-10, 1.9905953274612642e-10, 1.311086378352755e-10, 1.880456623748472e-10, 1.3460547121368904e-09, 2.067132923166959e-11, 7.69820189816528e-07, 2.394694997853719e-10, 2.2374621252985172e-11, 9.290824359853289e-11, 1.145486705489418e-09, 2.2029553181646122e-10, 3.291856343068389e-09, 2.4992445890603676e-09, 3.853915797602525e-10, 1.759655199329302e-10, 3.605992934807567e-11, 5.05996425315125e-11, 7.28984841241731e-12, 6.314366390869353e-11, 3.915255619713065e-10, 2.8317524538579164e-06, 5.852068829526047e-10, 1.994754361689388e-09, 8.908403875684812e-11, 1.9730437769704956e-11, 4.191325064795137e-10, 4.5938322590366454e-10, 1.7108857386372023e-10, 1.500386481723126e-10, 1.4156389949171455e-10, 4.519481455744767e-10, 1.1570406438510261e-10, 8.228655951070252e-11, 6.586861611701522e-11, 9.449213980716742e-12, 2.385932285076109e-10, 1.3257652426545974e-05, 1.6485753040473838e-10, 9.63274113252588e-11, 5.735944011431293e-11, 4.9809847219028924e-11, 3.2918719833352483e-11, 2.4699003953188026e-10, 1.4051509955592678e-09, 8.171062972905929e-07, 6.108958894301963e-10, 3.9515126104561205e-07, 2.0142480738893909e-10, 3.01170720307109e-11, 5.1113065169250405e-11, 2.6955018217478255e-09, 2.4899557415913876e-10, 1.7945642749594981e-09, 1.3438692381129158e-09, 1.9470662582232734e-10, 2.0994100902171908e-10, 1.0138384576308113e-10, 3.103317255948035e-11, 1.74207211156574e-11, 2.6235782643602157e-11, 2.7274170335406245e-12, 3.827665615019349e-11, 4.232795502989717e-10, 5.0619992180145346e-06, 3.9775416293963417e-10, 3.455736585777913e-09, 9.142370888115536e-11, 1.3490322574305491e-11, 2.341499660829527e-09, 6.599188973055448e-10, 1.7460015377945837e-10, 8.729504619164885e-11, 2.496840754984131e-11, 2.497118622990513e-10, 2.3562186923786754e-11, 3.2329597332569904e-10, 9.659663069427893e-10, 1.1458815840637016e-10]], "pointer": [[0.0, 0.0, 2.1421941553967372e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.99973064661026, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.048974151984794e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.1664132216537837e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.920119754890038e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00012742036778945476, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.348276819309831e-09, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.85873245249968e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.777983122039586e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 1.6743898711979455e-08, 0.0, 0.0, 0.0, 0.0, 3.325489888084121e-05, 0.0, 2.591888232927886e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0271633072989061e-05, 0.0, 6.007522301842982e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.620944986934774e-06, 0.0, 5.203558828270616e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 2.7226594312423913e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.801111445995048e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.027443895575743e-08, 0.0, 0.0, 0.0, 0.0, 5.169918040337507e-06, 0.0, 8.841444554263944e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.2393315955705475e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5449208149220794e-05, 0.0, 0.0, 1.1519606601950727e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7.328721185473341e-09, 0.0, 0.0, 0.0, 0.0, 3.4448014503141167e-06, 0.0, 2.0208682371958275e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.1159198126952106e-07, 0.0, 0.0, 0.0, 0.0]], "target": [0.9997460842132568]}, "loss": [0.0006364941946230829, 0.0002539480337873101], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_create_test_database(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'from', 'django.conf', 'import', 'settings', '#NEWLINE#', 'try', ':', '#NEWLINE#', '#INDENT#', 'assert', '(', "'mongodb'", 'in', 'settings', '.', 'DATABASES', ')', '#NEWLINE#', '#UNINDENT#', 'except', 'AttributeError', ':', '#NEWLINE#', '#INDENT#', 'return', '#NEWLINE#', '#UNINDENT#', 'old_database_name', '=', 'settings', '.', 'DATABASES', '[', "'mongodb'", ']', '[', "'NAME'", ']', '#NEWLINE#', 'assert', '(', "'test_'", 'not in', 'db', ')', '#NEWLINE#', 'from', 'django.db', 'import', 'connections', '#NEWLINE#', 'connection', '=', 'connections', '[', "'mongodb'", ']', '#NEWLINE#', 'connection', '.', 'creation', '.', 'create_test_db', '(', ')', '#NEWLINE#', 'test_database_name', '=', 'settings', '.', 'DATABASES', '[', "'mongodb'", ']', '[', "'NAME'", ']', '#NEWLINE#', 'self', '.', 'assertTrue', '(', '(', "'test_'", 'in', 'test_database_name', ')', ')', '#NEWLINE#', 'from', 'mongokit', 'import', 'Connection', '#NEWLINE#', 'con', '=', 'Connection', '(', ')', '#NEWLINE#', 'self', '.', 'assertTrue', '(', '(', 'test_database_name', 'not in', 'con', '.', 'database_names', '(', ')', ')', ')', '#NEWLINE#', 'db', '=', 'con', '[', 'settings', '.', 'DATABASES', '[', "'mongodb'", ']', '[', "'NAME'", ']', ']', '#NEWLINE#', 'coll', '=', 'db', '.', 'test_collection_name', '#NEWLINE#', 'list', '(', 'coll', '.', 'find', '(', ')', ')', '#NEWLINE#', 'test_database_name', '=', 'settings', '.', 'DATABASES', '[', "'mongodb'", ']', '[', "'NAME'", ']', '#NEWLINE#', 'self', '.', 'assertTrue', '(', '(', 'test_database_name', 'in', 'con', '.', 'database_names', '(', ')', ')', ')', '#NEWLINE#', 'connection', '.', 'creation', '.', 'destroy_test_db', '(', 'old_database_name', ')', '#NEWLINE#', 'self', '.', 'assertTrue', '(', '(', "'test_'", 'not in', 'settings', '.', 'DATABASES', '[', "'mongodb'", ']', '[', "'NAME'", ']', ')', ')', '#NEWLINE#', 'self', '.', 'assertTrue', '(', '(', 'test_database_name', 'not in', 'con', '.', 'database_names', '(', ')', ')', ')', '#NEWLINE#', 'connection', '.', 'close', '(', ')']


All attention probs:

[0.010621197521686554, 0.009563782252371311, 0.041083868592977524, 0.009465167298913002, 0.007107552606612444, 0.00660250149667263, 0.005738002248108387, 0.005615816451609135, 0.006767453625798225, 0.007609945256263018, 0.01229764986783266, 0.007504040375351906, 0.007638067007064819, 0.005447000730782747, 0.006557093001902103, 0.00656898831948638, 0.00541307870298624, 0.005183592438697815, 0.006390171591192484, 0.005632453598082066, 0.01051501277834177, 0.004120205529034138, 0.0038602109998464584, 0.0038667209446430206, 0.004860908258706331, 0.004430633503943682, 0.006619565654546022, 0.004642540123313665, 0.0036792601458728313, 0.003713345155119896, 0.0035831888671964407, 0.003269604407250881, 0.003834632458165288, 0.004071762319654226, 0.014801178127527237, 0.0030120983719825745, 0.006228682119399309, 0.002630966017022729, 0.0032713802065700293, 0.003477012272924185, 0.004844581242650747, 0.003628076519817114, 0.004272685386240482, 0.004152125678956509, 0.0022527219261974096, 0.003332628170028329, 0.0028516713064163923, 0.002121016848832369, 0.0034894312266260386, 0.0029508788138628006, 0.04399022459983826, 0.001788725727237761, 0.0026537710800766945, 0.002175730187445879, 0.003918343689292669, 0.00528527470305562, 0.007997152395546436, 0.0030713004525750875, 0.011241152882575989, 0.0022597515489906073, 0.007010496221482754, 0.0021825411822646856, 0.0033624693751335144, 0.0020445999689400196, 0.0028448766097426414, 0.005905632395297289, 0.0018414849182590842, 0.0032116726506501436, 0.001987800467759371, 0.0017605440225452185, 0.002789870835840702, 0.0023964911233633757, 0.0032408065162599087, 0.01054318156093359, 0.0035729038063436747, 0.00502043729647994, 0.0015687718987464905, 0.001974975224584341, 0.0016456401208415627, 0.0034044787753373384, 0.002077557845041156, 0.0018055327236652374, 0.0029531812760978937, 0.001684415154159069, 0.002804942661896348, 0.003680785186588764, 0.001986013725399971, 0.002997823292389512, 0.0025957031175494194, 0.0027429682668298483, 0.003940018359571695, 0.00241503375582397, 0.01293995138257742, 0.0017060496611520648, 0.0014988406328484416, 0.0029017638880759478, 0.00238978979177773, 0.0033032551873475313, 0.004839667584747076, 0.003815692849457264, 0.0030684215016663074, 0.010755661875009537, 0.0026597119867801666, 0.0042127580381929874, 0.003068540245294571, 0.0018903061281889677, 0.002923151245340705, 0.004399200901389122, 0.0013170251622796059, 0.002187910256907344, 0.002548023359850049, 0.0029825703240931034, 0.011788565665483475, 0.0020935549400746822, 0.006684759631752968, 0.001349328551441431, 0.002553926780819893, 0.003219983307644725, 0.0019724853336811066, 0.0016947136027738452, 0.001788166700862348, 0.003464769572019577, 0.011442490853369236, 0.0049344501458108425, 0.017943255603313446, 0.002669334877282381, 0.004411316476762295, 0.0017272962722927332, 0.002062387764453888, 0.002197923371568322, 0.003149535274133086, 0.0019501950591802597, 0.0018654551822692156, 0.0032739124726504087, 0.0015453173546120524, 0.0012545249192044139, 0.002703846665099263, 0.00796061847358942, 0.0026168713811784983, 0.0138943400233984, 0.0014803934609517455, 0.002069004811346531, 0.002720553893595934, 0.0059862444177269936, 0.002450908301398158, 0.006129227112978697, 0.0016582957468926907, 0.002145133912563324, 0.002879620995372534, 0.0020376129541546106, 0.001830910798162222, 0.003217598656192422, 0.01035354845225811, 0.004824385046958923, 0.004885077942162752, 0.0022139232605695724, 0.001998645020648837, 0.0022976198233664036, 0.003658957313746214, 0.0026764750946313143, 0.0024361941032111645, 0.004001732915639877, 0.001775614102371037, 0.00299218506552279, 0.004955650307238102, 0.0013883173232898116, 0.001884992583654821, 0.0019158183131366968, 0.0019968405831605196, 0.010816729627549648, 0.0019231948535889387, 0.005587893072515726, 0.0016048892866820097, 0.002957533113658428, 0.003046841360628605, 0.0020056520588696003, 0.0016579596558585763, 0.0015416712267324328, 0.0029776813462376595, 0.005831663031131029, 0.0016937311738729477, 0.0032055212650448084, 0.00197158963419497, 0.0024015295784920454, 0.0031770674977451563, 0.021310340613126755, 0.0033014861401170492, 0.004945364780724049, 0.008530871942639351, 0.002890623640269041, 0.0030215925071388483, 0.003137993160635233, 0.003497196128591895, 0.004430668894201517, 0.0031080711632966995, 0.006747829262167215, 0.0019798101857304573, 0.0024037875700742006, 0.0017700997414067388, 0.0031638331711292267, 0.001924620009958744, 0.0018103178590536118, 0.002987557789310813, 0.0016839434392750263, 0.0014306340599432588, 0.0014472849434241652, 0.0029505291022360325, 0.004923952277749777, 0.001514103845693171, 0.0022788087371736765, 0.0021934527903795242, 0.0025049056857824326, 0.018201062455773354, 0.00219993875361979, 0.00765027292072773, 0.00141265825368464, 0.0023740476462990046, 0.0025704707950353622, 0.0017603615997359157, 0.0016430554678663611, 0.0017755612498149276, 0.003094203071668744, 0.005945368204265833, 0.0017415117472410202, 0.0025396195705980062, 0.0031435578130185604, 0.003607160411775112]


Top-k source tokens:

['db', 'self', 'old_database_name', 'test_database_name', 'con', 'old_database_name', 'db', 'test_database_name', 'settings', 'test_database_name']


Top-k attention probs:

[0.04399022459983826, 0.041083868592977524, 0.021310340613126755, 0.018201062455773354, 0.017943255603313446, 0.014801178127527237, 0.0138943400233984, 0.01293995138257742, 0.01229764986783266, 0.011788565665483475]
