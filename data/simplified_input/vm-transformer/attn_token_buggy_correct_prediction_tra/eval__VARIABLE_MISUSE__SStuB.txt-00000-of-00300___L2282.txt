
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def get_next_phone_number(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "if", "(", "(", "not", "isinstance", "(", "self", ".", "load_balancing_numbers", ",", "list", ")", ")", "or", "(", "len", "(", "self", ".", "load_balancing_numbers", ")", "==", "0", ")", ")", ":", "#NEWLINE#", "#INDENT#", "raise", "Exception", "(", "(", "'Expected load_balancing_numbers to not be empty for backend %s'", "%", "self", ".", "pk", ")", ")", "#NEWLINE#", "#UNINDENT#", "if", "(", "len", "(", "self", ".", "load_balancing_numbers", ")", "==", "1", ")", ":", "#NEWLINE#", "#INDENT#", "return", "self", ".", "load_balancing_numbers", "[", "0", "]", "#NEWLINE#", "#UNINDENT#", "redis_key", "=", "self", ".", "get_load_balance_redis_key", "(", ")", "#NEWLINE#", "return", "load_balance", "(", "redis_key", ",", "redis_key", ".", "load_balancing_numbers", ")"], "error_location": [84], "repair_targets": [2, 13, 24, 41, 52, 63, 73], "repair_candidates": [2, 13, 24, 41, 52, 63, 73, 71, 82, 84], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "dimagi/commcare-hq/corehq/apps/sms/models.py", "license": "bsd-3-clause", "note": "license: manual_eval"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 2282, "results": {"model": "transformer", "prob": {"loc": [[0.0012295738561078906, 1.1849411230002715e-08, 4.183483781616815e-09, 7.881941210818866e-10, 1.1509748709670475e-09, 8.031039722133926e-10, 3.957963123912833e-10, 1.2226984702490284e-10, 9.476002621466861e-11, 1.178417807778942e-09, 6.951385578268798e-10, 3.842333395898123e-10, 1.8347398045293062e-09, 1.63238212280703e-07, 6.786006756520635e-10, 8.283771585348987e-11, 6.609947034164065e-10, 3.594069042378578e-09, 7.51033624180053e-10, 2.954595179627262e-10, 6.757393949952117e-11, 2.3769522461414283e-10, 1.68821401302921e-10, 1.257273254395841e-07, 1.0074439416030145e-07, 1.98313832022734e-09, 1.3526967046484373e-10, 1.4002353443398619e-10, 3.4233008094908257e-10, 9.995195782153132e-09, 3.298749606805984e-10, 1.3813615529212342e-10, 6.716830425190778e-10, 1.6308174255463825e-10, 9.807059331290446e-11, 7.157748005415243e-11, 6.811211317181431e-11, 1.4808373971497701e-10, 8.322100231161755e-10, 1.2796143034066176e-09, 9.929331801217245e-10, 1.5529882375631132e-06, 1.3153574895952147e-09, 2.008995331204133e-10, 9.406246892496029e-10, 6.659515161544505e-10, 5.901703015176452e-10, 3.8420697179297747e-10, 1.680378614032918e-10, 9.744558632229783e-11, 2.742825133683624e-10, 1.5407071174422526e-08, 4.786728027283971e-07, 5.084290322088236e-09, 1.9605453371873693e-10, 2.688107236803461e-10, 6.831303300813829e-10, 4.0691814362503465e-09, 5.884258635902029e-10, 2.71545119723271e-09, 1.0775473846535988e-09, 5.640904410242342e-10, 2.845691182695731e-10, 9.425482858205214e-06, 1.597266652275664e-09, 1.0026117436279236e-10, 4.250563456764667e-09, 1.1751818185246066e-08, 2.4974051715531687e-09, 1.0433813812937842e-09, 8.726644407097695e-10, 1.6177446049425726e-09, 1.1842828939734318e-09, 3.816517590848889e-08, 5.902355271203419e-10, 4.7226073746076125e-11, 2.0797632060975957e-08, 7.074378416405125e-09, 1.1435350444344294e-09, 3.298376502480771e-11, 1.3834577927696046e-10, 8.145398799896952e-10, 6.192691216710955e-05, 8.153450137271534e-10, 0.9986966252326965, 8.360190761891317e-09, 8.040803578523992e-10, 1.5168662992337545e-09]], "pointer": [[0.0, 0.0, 0.052458442747592926, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.08128553628921509, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0998820811510086, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.03303999453783035, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.07093290984630585, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.6358979344367981, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.8729550801217556e-05, 0.0, 0.026441967114806175, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.419133409148344e-07, 0.0, 2.0469560695346445e-06, 0.0, 0.0, 0.0]], "target": [0.9999389052391052]}, "loss": [0.0013043713988736272, 6.109663081588224e-05], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def get_next_phone_number(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'if', '(', '(', 'not', 'isinstance', '(', 'self', '.', 'load_balancing_numbers', ',', 'list', ')', ')', 'or', '(', 'len', '(', 'self', '.', 'load_balancing_numbers', ')', '==', '0', ')', ')', ':', '#NEWLINE#', '#INDENT#', 'raise', 'Exception', '(', '(', "'Expected load_balancing_numbers to not be empty for backend %s'", '%', 'self', '.', 'pk', ')', ')', '#NEWLINE#', '#UNINDENT#', 'if', '(', 'len', '(', 'self', '.', 'load_balancing_numbers', ')', '==', '1', ')', ':', '#NEWLINE#', '#INDENT#', 'return', 'self', '.', 'load_balancing_numbers', '[', '0', ']', '#NEWLINE#', '#UNINDENT#', 'redis_key', '=', 'self', '.', 'get_load_balance_redis_key', '(', ')', '#NEWLINE#', 'return', 'load_balance', '(', 'redis_key', ',', 'redis_key', '.', 'load_balancing_numbers', ')']


All attention probs:

[0.02312237024307251, 0.010942265391349792, 0.059302542358636856, 0.016674377024173737, 0.01140859816223383, 0.012611942365765572, 0.011716494336724281, 0.015462884679436684, 0.01119737047702074, 0.011849273927509785, 0.01212265994399786, 0.013061451725661755, 0.009790320880711079, 0.034150201827287674, 0.006722757592797279, 0.007282261271029711, 0.007676365785300732, 0.020518803969025612, 0.0071519725024700165, 0.007933191955089569, 0.008375115692615509, 0.0069480519741773605, 0.006113123614341021, 0.00861178059130907, 0.025363175198435783, 0.005292618181556463, 0.0048544155433773994, 0.004663730040192604, 0.0062805344350636005, 0.011346978135406971, 0.005988992750644684, 0.00581104913726449, 0.007464145310223103, 0.008246734738349915, 0.0082712946459651, 0.025628268718719482, 0.006929397117346525, 0.006597598548978567, 0.006833303719758987, 0.00921181496232748, 0.0055472031235694885, 0.031537555158138275, 0.005742750130593777, 0.0070860073901712894, 0.0041138045489788055, 0.004890202544629574, 0.008978025056421757, 0.008429259061813354, 0.00700164632871747, 0.006307853851467371, 0.004707668907940388, 0.00641234265640378, 0.020510703325271606, 0.003950552549213171, 0.004923735745251179, 0.004780138842761517, 0.005708818323910236, 0.009278466925024986, 0.005045485217124224, 0.0062602367252111435, 0.006495215464383364, 0.006878513377159834, 0.009183477610349655, 0.024409251287579536, 0.005195078440010548, 0.005790988449007273, 0.009208017960190773, 0.013210566714406013, 0.008246492594480515, 0.00972149521112442, 0.009808655828237534, 0.0327184721827507, 0.007372984662652016, 0.014417177066206932, 0.004035851452499628, 0.006391146685928106, 0.008252895437180996, 0.004576197359710932, 0.007562138140201569, 0.009855613112449646, 0.009601675905287266, 0.006725817918777466, 0.04056432470679283, 0.007201525382697582, 0.05819324404001236, 0.005471040960401297, 0.008811094798147678, 0.00935837160795927]


Top-k source tokens:

['self', 'redis_key', 'redis_key', 'self', 'redis_key', 'self', 'raise', 'self', 'self', '#NEWLINE#']


Top-k attention probs:

[0.059302542358636856, 0.05819324404001236, 0.04056432470679283, 0.034150201827287674, 0.0327184721827507, 0.031537555158138275, 0.025628268718719482, 0.025363175198435783, 0.024409251287579536, 0.02312237024307251]
