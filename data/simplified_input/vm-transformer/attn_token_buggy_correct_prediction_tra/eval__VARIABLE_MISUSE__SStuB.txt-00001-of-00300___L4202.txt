
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def sqlite_table_layout(", "sqlite_connection", ")", ":", "#NEWLINE#", "#INDENT#", "def row_count_and_column_names(", "table_name", ")", ":", "#NEWLINE#", "#INDENT#", "cursor", "=", "sqlite_connection", ".", "execute", "(", "'SELECT * FROM {}'", ".", "format", "(", "table_name", ")", ")", "#NEWLINE#", "return", "(", "len", "(", "cursor", ".", "fetchall", "(", ")", ")", ",", "', '", ".", "join", "(", "(", "x", "[", "0", "]", "for", "x", "in", "cursor", ".", "description", ")", ")", ")", "#NEWLINE#", "#UNINDENT#", "cursor", "=", "sqlite_connection", ".", "execute", "(", "\"SELECT name FROM sqlite_master WHERE type='table'\"", ")", "#NEWLINE#", "table_dict", "=", "{", "x", "[", "0", "]", ":", "row_count_and_column_names", "(", "x", "[", "0", "]", ")", "for", "x", "in", "cursor", ".", "fetchall", "(", ")", "}", "#NEWLINE#", "fmt", "=", "'Table \"{}\" contains {} records with columns:\\n      {}'", "#NEWLINE#", "return", "'\\n'", ".", "join", "(", "(", "fmt", ".", "format", "(", "x", ",", "*", "table_dict", "[", "x", "]", ")", "for", "x", "in", "sorted", "(", "sqlite_connection", ")", ")", ")"], "error_location": [119], "repair_targets": [67, 109], "repair_candidates": [43, 48, 70, 77, 83, 106, 111, 115, 67, 109, 2, 15, 60, 119, 75, 92, 102, 13, 31, 50, 58, 85], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "cclauss/Ten-lines-or-less/sqlite_table_layout.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00001-of-00300", "js_count": 4202, "results": {"model": "transformer", "prob": {"loc": [[0.20570841431617737, 2.8978452064620797e-06, 8.018772064133373e-07, 4.261758590473619e-08, 8.277178409343833e-08, 7.42421590871345e-08, 5.925697621478321e-08, 4.944002398588054e-07, 1.712684252197505e-06, 2.2523309439748118e-08, 4.748507720364614e-08, 6.723973910993664e-08, 6.186457568446713e-08, 1.2207616464365856e-06, 4.634953754134585e-08, 6.839990618345837e-08, 2.790284980846991e-08, 6.326714707682868e-09, 2.0484993257241513e-08, 2.7313322448208055e-07, 5.595825314230751e-08, 4.568204925448072e-09, 1.1535755817249083e-07, 7.173538324423134e-05, 1.5841150968753936e-07, 1.3055402803274774e-07, 1.0117723547864443e-07, 1.2983976560576593e-08, 1.6434869465342672e-08, 3.6797004554500745e-08, 8.454352240505614e-08, 3.11113325324186e-07, 7.679619784539682e-08, 1.3626336503591574e-08, 1.1096627758888644e-06, 4.902927344119234e-07, 1.0233670622028512e-07, 6.417921838419716e-08, 1.8224743314476655e-07, 5.113759016239783e-08, 1.0302785113935897e-07, 1.067007175947765e-07, 5.492904051607184e-07, 0.00020985989249311388, 4.939562927575025e-07, 1.9411447738093557e-07, 6.574509257006866e-07, 1.51231802192342e-06, 3.967763575474237e-07, 3.7584143797175784e-08, 0.0007758968858979642, 3.56382400923394e-07, 9.235004938545899e-08, 1.374202014403636e-07, 4.0400749412583536e-07, 2.3027077133974672e-07, 1.9994406841306045e-07, 1.665641207182489e-07, 3.0395237899938365e-06, 4.871288084018488e-08, 4.0695798020351504e-07, 6.70698980798079e-08, 1.4990028773809172e-08, 7.288485903700348e-07, 2.2704402908857446e-06, 2.3746618182940438e-07, 2.513602339604404e-07, 1.0301042721039266e-06, 2.816626079038542e-07, 4.967055815541244e-07, 0.000996799091808498, 8.523737164978229e-07, 4.2683745959948283e-07, 1.1975559743859776e-07, 2.1956417128876637e-07, 4.82723478967273e-08, 3.499362719594501e-07, 0.0003840550489258021, 2.563111593190115e-06, 1.0253271511828643e-06, 9.536323659631307e-07, 1.995460252146586e-06, 3.1875993045105133e-06, 3.74463496655153e-07, 4.560746091897272e-08, 8.667020665598102e-07, 1.7877019331535848e-07, 3.641814316779346e-08, 0.00010750984802143648, 1.0698055348257185e-06, 1.0152041340916185e-06, 7.209978889477497e-07, 6.728827202095999e-07, 1.5421015859828913e-06, 2.111142748617567e-06, 4.806565243598016e-07, 1.4308066909052286e-07, 4.3920061898461427e-07, 1.4585761221042048e-07, 6.165010404401983e-07, 1.213221736406922e-07, 1.843345245333694e-07, 2.7353323730494594e-06, 1.8182885241913027e-07, 9.136751089044992e-08, 5.767262223344005e-07, 0.037480901926755905, 1.615423741441191e-07, 1.877054245369436e-07, 0.00012787776358891279, 1.7078235714507173e-06, 0.004316544160246849, 2.3644656721444335e-07, 1.4449312857323093e-06, 2.05702122002549e-06, 1.5558477173271967e-07, 1.3177161406474625e-07, 1.0846212035175995e-06, 1.082222183867998e-06, 0.7497571706771851, 1.154224264610093e-06, 1.0657345228537451e-06, 9.72029397416918e-07]], "pointer": [[0.0, 0.0, 0.033327214419841766, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0113737303763628, 0.0, 0.00040531400009058416, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0005395187763497233, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.316841998137534e-05, 0.0, 0.0, 0.0, 0.0, 0.0012290830491110682, 0.0, 0.0006914648110978305, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.02662392519414425, 0.0, 0.0007544719846919179, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.45340606570243835, 0.0, 0.0, 9.817616955842823e-06, 0.0, 0.0, 0.0, 0.0, 0.10505881160497665, 0.0, 8.072466880548745e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.004651588387787342, 0.0, 0.0008542225696146488, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.026019498705863953, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0011273280251771212, 0.0, 0.0, 0.0, 0.001286943326704204, 0.0, 0.0, 0.30657893419265747, 0.0, 0.00041193992365151644, 0.0, 0.0, 0.0, 0.0211742352694273, 0.0, 0.0, 0.0, 0.004341937135905027, 0.0, 0.0, 0.0]], "target": [0.7599849700927734]}, "loss": [0.28800588846206665, 0.27445662021636963], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def sqlite_table_layout(', 'sqlite_connection', ')', ':', '#NEWLINE#', '#INDENT#', 'def row_count_and_column_names(', 'table_name', ')', ':', '#NEWLINE#', '#INDENT#', 'cursor', '=', 'sqlite_connection', '.', 'execute', '(', "'SELECT * FROM {}'", '.', 'format', '(', 'table_name', ')', ')', '#NEWLINE#', 'return', '(', 'len', '(', 'cursor', '.', 'fetchall', '(', ')', ')', ',', "', '", '.', 'join', '(', '(', 'x', '[', '0', ']', 'for', 'x', 'in', 'cursor', '.', 'description', ')', ')', ')', '#NEWLINE#', '#UNINDENT#', 'cursor', '=', 'sqlite_connection', '.', 'execute', '(', '"SELECT name FROM sqlite_master WHERE type=\'table\'"', ')', '#NEWLINE#', 'table_dict', '=', '{', 'x', '[', '0', ']', ':', 'row_count_and_column_names', '(', 'x', '[', '0', ']', ')', 'for', 'x', 'in', 'cursor', '.', 'fetchall', '(', ')', '}', '#NEWLINE#', 'fmt', '=', '\'Table "{}" contains {} records with columns:\\n      {}\'', '#NEWLINE#', 'return', "'\\n'", '.', 'join', '(', '(', 'fmt', '.', 'format', '(', 'x', ',', '*', 'table_dict', '[', 'x', ']', ')', 'for', 'x', 'in', 'sorted', '(', 'sqlite_connection', ')', ')', ')']


All attention probs:

[0.015711769461631775, 0.011968626640737057, 0.02542760968208313, 0.014961002394557, 0.01112673245370388, 0.01081688143312931, 0.009874423034489155, 0.02442830055952072, 0.01642400585114956, 0.012164443731307983, 0.00959234219044447, 0.011172223836183548, 0.009611533023416996, 0.021220296621322632, 0.007966347970068455, 0.015340518206357956, 0.006209580227732658, 0.007640890311449766, 0.007462171837687492, 0.010175964795053005, 0.005423125345259905, 0.006224733777344227, 0.0058531262911856174, 0.020131168887019157, 0.005279501900076866, 0.004416855983436108, 0.006346362642943859, 0.00526492390781641, 0.00403580954298377, 0.0037194376345723867, 0.00459307199344039, 0.013392024673521519, 0.003969863057136536, 0.004576591774821281, 0.004698837175965309, 0.004763632547110319, 0.0045275758020579815, 0.005217690020799637, 0.005579559598118067, 0.0031890918035060167, 0.004962692502886057, 0.004150311928242445, 0.005556075368076563, 0.011612804606556892, 0.003507880261167884, 0.004908245522528887, 0.004187121521681547, 0.004666509572416544, 0.013177145272493362, 0.004534936510026455, 0.022104665637016296, 0.003099497640505433, 0.004323144443333149, 0.002966049825772643, 0.003959643188863993, 0.003571632318198681, 0.005015696864575148, 0.0048328181728720665, 0.013326817192137241, 0.004570214077830315, 0.00957061443477869, 0.002815475221723318, 0.003909858409315348, 0.0038775261491537094, 0.0063793412409722805, 0.004156649112701416, 0.0065536354668438435, 0.018772469833493233, 0.01082925871014595, 0.004393615294247866, 0.011325008235871792, 0.003925185184925795, 0.0057604615576565266, 0.0033066682517528534, 0.003826068015769124, 0.006593453697860241, 0.003032765118405223, 0.01011952105909586, 0.0032024281099438667, 0.004385805688798428, 0.0035340969916433096, 0.002797783585265279, 0.004407389089465141, 0.018240416422486305, 0.00511279609054327, 0.008962568826973438, 0.003281020326539874, 0.005461749155074358, 0.008133417926728725, 0.003920957446098328, 0.0031243935227394104, 0.0055289501324296, 0.012146665714681149, 0.005204964429140091, 0.003668544115498662, 0.006021990906447172, 0.009165273979306221, 0.0068093943409621716, 0.004956520162522793, 0.005994951352477074, 0.004963584244251251, 0.004824658390134573, 0.017049076035618782, 0.0047491551376879215, 0.00555544113740325, 0.004879913758486509, 0.030518656596541405, 0.003515432821586728, 0.003765842178836465, 0.02697526477277279, 0.004633889067918062, 0.020911842584609985, 0.004738780204206705, 0.003461419837549329, 0.004328360315412283, 0.020078668370842934, 0.004402116872370243, 0.005852153990417719, 0.00486759003251791, 0.04222558066248894, 0.004586382769048214, 0.004916450474411249, 0.005457539111375809]


Top-k source tokens:

['sqlite_connection', 'x', 'table_dict', 'sqlite_connection', 'def row_count_and_column_names(', 'cursor', 'cursor', 'x', 'table_name', 'x']


Top-k attention probs:

[0.04222558066248894, 0.030518656596541405, 0.02697526477277279, 0.02542760968208313, 0.02442830055952072, 0.022104665637016296, 0.021220296621322632, 0.020911842584609985, 0.020131168887019157, 0.020078668370842934]
