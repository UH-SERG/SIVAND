
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_epoch_finishes_correctly(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "cached_stream", "=", "Cache", "(", "self", ".", "stream", ",", "ConstantScheme", "(", "7", ")", ")", "#NEWLINE#", "data", "=", "list", "(", "cached_stream", ".", "get_epoch_iterator", "(", ")", ")", "#NEWLINE#", "assert_equal", "(", "len", "(", "data", "[", "(", "-", "1", ")", "]", "[", "0", "]", ")", ",", "(", "100", "%", "7", ")", ")", "#NEWLINE#", "assert", "(", "not", "cached_stream", ".", "cache", "[", "0", "]", ")", "#NEWLINE#", "stream", "=", "Batch", "(", "DataStream", "(", "IterableDataset", "(", "range", "(", "3000", ")", ")", ")", ",", "ConstantScheme", "(", "3200", ")", ")", "#NEWLINE#", "cached_stream", "=", "Cache", "(", "stream", ",", "ConstantScheme", "(", "64", ")", ")", "#NEWLINE#", "data", "=", "list", "(", "cached_stream", ".", "get_epoch_iterator", "(", ")", ")", "#NEWLINE#", "assert_equal", "(", "len", "(", "self", "[", "(", "-", "1", ")", "]", "[", "0", "]", ")", ",", "(", "3000", "%", "64", ")", ")", "#NEWLINE#", "assert", "(", "not", "cached_stream", ".", "cache", "[", "0", "]", ")"], "error_location": [114], "repair_targets": [21, 36, 99], "repair_candidates": [13, 66, 91, 2, 11, 114, 7, 25, 58, 87, 103, 136, 21, 36, 99], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "mila-udem/fuel/tests/transformers/test_transformers.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 2492, "results": {"model": "transformer", "prob": {"loc": [[2.1070384264021413e-06, 5.1118675264971714e-11, 1.8108275295913856e-11, 3.2126686293904028e-12, 4.094810428234563e-12, 3.521467622710772e-12, 3.1964773709869387e-12, 2.2887077649746956e-11, 6.7078430483757945e-12, 2.685642290153889e-12, 7.030791747408838e-12, 9.520906285587216e-11, 1.5491184723881446e-12, 4.154497926234235e-12, 2.296621443367841e-12, 5.173246379885921e-12, 1.7088809534104854e-11, 5.6544800092206415e-11, 3.433357547918958e-12, 2.4619373380219134e-12, 1.3623677923638167e-12, 1.4759495015059798e-10, 2.9792342638029767e-12, 2.434773086271158e-12, 2.347841018823793e-11, 1.0262985773723532e-11, 2.8105324057642322e-12, 1.669045435713501e-12, 2.847370429714946e-11, 8.617757549234106e-12, 3.298164692744354e-12, 2.577569884962272e-12, 2.116999284207388e-11, 7.940606180402432e-13, 1.521661377630601e-12, 5.952848023543789e-12, 8.952884655855087e-08, 6.397251218343003e-12, 6.802727825494514e-11, 5.1782834964431146e-11, 6.908681959849616e-11, 1.2089891587852009e-11, 3.018208599714356e-11, 1.835468860234002e-10, 6.53253146021271e-11, 3.616638238890246e-11, 2.1043141187893077e-11, 1.252286989383844e-11, 1.9052384669926425e-11, 1.0392532390213205e-09, 1.1079553940973597e-10, 5.354902285481522e-11, 1.78683821211445e-11, 7.712673381898849e-12, 8.103559490102441e-12, 6.305403248141328e-12, 1.2502281154791461e-10, 1.2807625793254118e-10, 9.464431371952742e-08, 9.24799126167386e-12, 5.3384913677179124e-12, 9.994390731682401e-12, 3.4148722738436277e-10, 2.6844757319843815e-11, 1.9950891633202517e-11, 1.0191356439315236e-11, 1.3706340229457936e-10, 3.1751327261853035e-11, 1.3166401129083294e-11, 1.983206480982158e-11, 2.117742266272149e-11, 3.3815360234168423e-11, 4.776360418290437e-10, 2.387936549885783e-11, 7.387443087814027e-12, 5.649197776236292e-11, 2.0543888812341038e-10, 8.955535618637711e-11, 5.048121989870147e-11, 4.250661281290924e-11, 3.1508080866604615e-11, 1.5979247439124045e-11, 7.064360207920117e-11, 7.413648583920462e-10, 1.1568915964099702e-10, 3.553335750638986e-11, 2.939627707920778e-11, 4.228837280351172e-10, 3.512795263005408e-11, 2.763052633913965e-11, 9.84819586991037e-11, 9.776189635601895e-09, 6.115350587032609e-11, 5.0223353253997516e-11, 1.5880689818725813e-10, 5.925067658729688e-10, 4.640862694138548e-11, 6.344601927166238e-11, 4.596200850470744e-11, 3.151462024675311e-08, 1.4051784735791273e-10, 8.831381806406746e-12, 3.904734868775961e-11, 3.13878950608526e-10, 1.1674222352708874e-11, 3.086862015999614e-11, 3.5309477564027247e-10, 5.504776079412466e-10, 1.1479259209856707e-10, 2.280194782988687e-10, 1.1351863893338532e-10, 1.1576703137783362e-11, 3.251538621684702e-11, 4.2235656638744956e-10, 0.999997615814209, 9.716308868590318e-10, 2.8049361944226803e-08, 2.0928525579222423e-09, 4.872129366617628e-09, 6.377983696737033e-10, 5.069032971150023e-10, 9.449149018792014e-09, 7.042881833285719e-09, 3.727695929711672e-10, 3.3243272024030546e-10, 2.0189232230460874e-10, 4.233679795628831e-10, 4.434984290924149e-08, 1.7937515917054725e-09, 2.17493179022199e-09, 1.6914357414687942e-10, 1.0113633541752876e-10, 1.2946493876953014e-10, 2.9114433086618874e-11, 1.1118235221374562e-09, 6.471505553662382e-10, 6.361442927982353e-08, 2.8005915295170603e-11, 1.4069109766090548e-10, 4.915087434276266e-11, 1.4367258494019097e-08, 4.2556114188130323e-10, 3.65818347836111e-10]], "pointer": [[0.0, 0.0, 6.319202583426886e-08, 0.0, 0.0, 0.0, 0.0, 8.031900506466627e-06, 0.0, 0.0, 0.0, 2.5444197149226966e-07, 0.0, 1.5097532923391555e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0014036514330655336, 0.0, 0.0, 0.0, 8.933986350712075e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0032196894753724337, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.1398410555993905e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0003492299292702228, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.580002809641883e-05, 0.0, 0.0, 0.0, 8.997759550766204e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9949333071708679, 0.0, 0.0, 0.0, 5.326064567157118e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7.701337345622505e-09, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 8.123187740238791e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9995566606521606]}, "loss": [2.622600959512056e-06, 0.0004434376605786383], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_epoch_finishes_correctly(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'cached_stream', '=', 'Cache', '(', 'self', '.', 'stream', ',', 'ConstantScheme', '(', '7', ')', ')', '#NEWLINE#', 'data', '=', 'list', '(', 'cached_stream', '.', 'get_epoch_iterator', '(', ')', ')', '#NEWLINE#', 'assert_equal', '(', 'len', '(', 'data', '[', '(', '-', '1', ')', ']', '[', '0', ']', ')', ',', '(', '100', '%', '7', ')', ')', '#NEWLINE#', 'assert', '(', 'not', 'cached_stream', '.', 'cache', '[', '0', ']', ')', '#NEWLINE#', 'stream', '=', 'Batch', '(', 'DataStream', '(', 'IterableDataset', '(', 'range', '(', '3000', ')', ')', ')', ',', 'ConstantScheme', '(', '3200', ')', ')', '#NEWLINE#', 'cached_stream', '=', 'Cache', '(', 'stream', ',', 'ConstantScheme', '(', '64', ')', ')', '#NEWLINE#', 'data', '=', 'list', '(', 'cached_stream', '.', 'get_epoch_iterator', '(', ')', ')', '#NEWLINE#', 'assert_equal', '(', 'len', '(', 'self', '[', '(', '-', '1', ')', ']', '[', '0', ']', ')', ',', '(', '3000', '%', '64', ')', ')', '#NEWLINE#', 'assert', '(', 'not', 'cached_stream', '.', 'cache', '[', '0', ']', ')']


All attention probs:

[0.018236691132187843, 0.012200645171105862, 0.04965786263346672, 0.012660233303904533, 0.009051305241882801, 0.009498042985796928, 0.00814574584364891, 0.014848100952804089, 0.007016339339315891, 0.00891249068081379, 0.007940602488815784, 0.024885717779397964, 0.00600404804572463, 0.0065142251551151276, 0.006111438386142254, 0.006306558381766081, 0.006065416615456343, 0.009601366706192493, 0.0060957204550504684, 0.006209390237927437, 0.008262917399406433, 0.01767323724925518, 0.005775929428637028, 0.0075949751771986485, 0.006620871368795633, 0.010473126545548439, 0.0034910542890429497, 0.0034283490385860205, 0.004515410400927067, 0.003981259185820818, 0.0036341038066893816, 0.005752798169851303, 0.02177278697490692, 0.004779103212058544, 0.0035233048256486654, 0.003801622660830617, 0.02670460008084774, 0.003536360803991556, 0.004355911165475845, 0.0036165330093353987, 0.007090497296303511, 0.0031268198508769274, 0.0050498065538704395, 0.004140516743063927, 0.005112252663820982, 0.0038214607629925013, 0.002992325695231557, 0.0031468109227716923, 0.003311614505946636, 0.00518274400383234, 0.003387988079339266, 0.006241654045879841, 0.0026641020085662603, 0.002497730776667595, 0.004223962314426899, 0.0038244053721427917, 0.0034886295907199383, 0.00355017208494246, 0.020766600966453552, 0.002740288618952036, 0.0035455243196338415, 0.003097719745710492, 0.006348524708300829, 0.003121201414614916, 0.0032511395402252674, 0.004936047829687595, 0.012360939756035805, 0.006596453953534365, 0.0052475472912192345, 0.003352164989337325, 0.0038655633106827736, 0.003506166161969304, 0.003987553063780069, 0.0034275802318006754, 0.003364511765539646, 0.0032244643662124872, 0.006605936214327812, 0.0026212921366095543, 0.002596101490780711, 0.0026548614259809256, 0.0030774048063904047, 0.003013299312442541, 0.0029591352213174105, 0.004339039325714111, 0.0030191412661224604, 0.002674492308869958, 0.005239452235400677, 0.014200846664607525, 0.0046167680993676186, 0.005677058827131987, 0.003551377449184656, 0.018543096259236336, 0.003064947435632348, 0.003006733488291502, 0.0033229892142117023, 0.00755294319242239, 0.003145727328956127, 0.003207816742360592, 0.005830355919897556, 0.03476494923233986, 0.007138578686863184, 0.004536549095064402, 0.004035986494272947, 0.010271657258272171, 0.0030838334932923317, 0.004135179799050093, 0.0036829253658652306, 0.0029921086970716715, 0.0020677021238952875, 0.005062255542725325, 0.010110345669090748, 0.005423405673354864, 0.003989722114056349, 0.003984218928962946, 0.07422520220279694, 0.002704106504097581, 0.004837636835873127, 0.003234719391912222, 0.0058611477725207806, 0.0027576338034123182, 0.003396329702809453, 0.003963808994740248, 0.005695840809494257, 0.004215470980852842, 0.004265563562512398, 0.0063241710886359215, 0.005748941097408533, 0.010127563029527664, 0.006679917220026255, 0.007038997486233711, 0.004618230275809765, 0.003810991533100605, 0.005353983025997877, 0.005472034215927124, 0.004623859189450741, 0.003678676439449191, 0.019960016012191772, 0.0024872287176549435, 0.003990148194134235, 0.003087771823629737, 0.005489769857376814, 0.003963823430240154, 0.003736502258107066]


Top-k source tokens:

['self', 'self', 'data', 'data', 'self', 'assert_equal', 'cached_stream', 'cached_stream', 'stream', '#NEWLINE#']


Top-k attention probs:

[0.07422520220279694, 0.04965786263346672, 0.03476494923233986, 0.02670460008084774, 0.024885717779397964, 0.02177278697490692, 0.020766600966453552, 0.019960016012191772, 0.018543096259236336, 0.018236691132187843]
