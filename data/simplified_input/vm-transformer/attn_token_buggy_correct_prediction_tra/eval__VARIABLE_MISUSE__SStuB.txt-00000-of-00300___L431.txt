
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def test_unique_error_codes(", "self", ")", ":", "#NEWLINE#", "#INDENT#", "errors", "=", "[", "SignatureError", ",", "ClientError", ",", "HostError", ",", "BackgroundError", ",", "DimensionsError", ",", "FilterError", ",", "FormatError", ",", "ModeError", ",", "OptimizeError", ",", "PositionError", ",", "PreserveExifError", ",", "ProgressiveError", ",", "QualityError", ",", "UrlError", ",", "ImageFormatError", ",", "ImageSaveError", ",", "FetchError", ",", "DegreeError", ",", "OperationError", ",", "RectangleError", ",", "RetainError", "]", "#NEWLINE#", "codes", "=", "[", "]", "#NEWLINE#", "for", "error", "in", "errors", ":", "#NEWLINE#", "#INDENT#", "code", "=", "str", "(", "error", ".", "get_code", "(", ")", ")", "#NEWLINE#", "if", "(", "self", "in", "codes", ")", ":", "#NEWLINE#", "#INDENT#", "self", ".", "fail", "(", "(", "'The error code, %s, is repeated'", "%", "str", "(", "code", ")", ")", ")", "#NEWLINE#", "#UNINDENT#", "codes", ".", "append", "(", "code", ")"], "error_location": [78], "repair_targets": [65, 94, 104], "repair_candidates": [59, 69, 7, 61, 53, 80, 100, 2, 78, 85, 65, 94, 104], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "agschwender/pilbox/pilbox/test/errors_test.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 431, "results": {"model": "transformer", "prob": {"loc": [[0.00021440756972879171, 3.819940808114097e-09, 1.5095420469179999e-09, 1.0237687086966929e-10, 1.4079196142269268e-10, 1.702273877413063e-10, 1.4875674303471698e-10, 7.125286582976287e-09, 3.7308742206754175e-10, 5.916764300728516e-10, 5.594334329117601e-09, 1.0429258151534171e-10, 4.473011405714544e-10, 1.1443752195861023e-10, 6.797103768718671e-09, 1.1750669881571696e-10, 3.008518989489062e-10, 1.009018077424706e-10, 4.4454817604844266e-09, 9.589190552716786e-11, 3.5234737083555956e-07, 1.0261596433691622e-10, 4.197014957796341e-10, 1.0138795358827224e-10, 3.6431763161814956e-10, 1.21182203161041e-10, 1.5950032405953607e-08, 1.2954590178360093e-10, 5.011755010997376e-09, 1.4448775509379175e-10, 1.1138358679829707e-08, 1.5738356451411306e-10, 7.593320971999162e-10, 2.1672562355856684e-10, 3.7532245755755866e-08, 2.8111560301802285e-10, 2.1773599812036082e-08, 3.692144368017125e-10, 9.0483209813641e-10, 5.567856731225618e-10, 1.4838587025778338e-09, 1.0859994015177676e-09, 1.768044377570277e-09, 1.4164479589240386e-09, 3.319392094525142e-09, 1.4143450854930961e-09, 1.92967708478875e-09, 1.4005255843940745e-09, 1.9667723005767357e-09, 9.042592785668546e-10, 2.6672575259567566e-09, 4.0412523327759686e-10, 3.3127872667293445e-10, 2.964810841277199e-09, 1.5040699796742274e-09, 7.931038048525352e-09, 5.168071526284734e-10, 7.329999940353105e-10, 6.56455667602529e-10, 2.500910367686515e-09, 8.361723535799115e-10, 2.288304358444293e-06, 1.3544100285756144e-09, 7.85431830685468e-10, 8.707313758904434e-10, 1.1901424734617194e-08, 5.972151106981016e-10, 7.69546026901935e-09, 4.903608075146337e-10, 4.039220069529392e-09, 5.316647122555196e-10, 2.4548596488926933e-09, 1.7763300164119755e-08, 7.068475582627798e-09, 1.439637853373199e-09, 2.896324513557147e-09, 3.2620135481664647e-09, 4.2872122518744504e-10, 0.9996482133865356, 1.4330415964991516e-08, 8.970076123659965e-06, 1.052849696314695e-09, 2.3073063459833065e-09, 1.2397393112095756e-09, 4.937629749512951e-10, 2.567317913815259e-09, 2.0245796705786745e-10, 9.67511487592887e-11, 5.210215037187993e-10, 1.4143288762369366e-09, 1.1262562438218993e-08, 6.253272344380889e-10, 2.436053136989358e-09, 1.322626452804343e-09, 2.5900521904986817e-06, 1.3962792033694882e-09, 1.0476535194925418e-09, 1.328307241976745e-09, 4.403798159469119e-10, 3.439737383814645e-10, 3.0308731080452844e-09, 3.1670219224899654e-10, 5.242010645001294e-11, 1.633692958691313e-09, 0.0001228917681146413, 7.11621428450826e-09]], "pointer": [[0.0, 0.0, 3.923806161765242e-06, 0.0, 0.0, 0.0, 0.0, 0.2872873842716217, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1355893611907959, 0.0, 0.0, 0.0, 0.0, 0.0, 0.015531624667346478, 0.0, 0.00279572163708508, 0.0, 0.0, 0.0, 0.481005996465683, 0.0, 0.0, 0.0, 3.765965084312484e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.2975825484318193e-05, 0.0, 8.980556594906375e-05, 0.0, 0.0, 0.0, 0.0, 1.3421233688859502e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.05278344079852104, 0.0, 0.0, 0.0, 0.0, 0.0, 0.009835568256676197, 0.0, 0.0, 0.0, 0.015025239437818527, 0.0]], "target": [0.5488147139549255]}, "loss": [0.0003518439189065248, 0.599994421005249], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def test_unique_error_codes(', 'self', ')', ':', '#NEWLINE#', '#INDENT#', 'errors', '=', '[', 'SignatureError', ',', 'ClientError', ',', 'HostError', ',', 'BackgroundError', ',', 'DimensionsError', ',', 'FilterError', ',', 'FormatError', ',', 'ModeError', ',', 'OptimizeError', ',', 'PositionError', ',', 'PreserveExifError', ',', 'ProgressiveError', ',', 'QualityError', ',', 'UrlError', ',', 'ImageFormatError', ',', 'ImageSaveError', ',', 'FetchError', ',', 'DegreeError', ',', 'OperationError', ',', 'RectangleError', ',', 'RetainError', ']', '#NEWLINE#', 'codes', '=', '[', ']', '#NEWLINE#', 'for', 'error', 'in', 'errors', ':', '#NEWLINE#', '#INDENT#', 'code', '=', 'str', '(', 'error', '.', 'get_code', '(', ')', ')', '#NEWLINE#', 'if', '(', 'self', 'in', 'codes', ')', ':', '#NEWLINE#', '#INDENT#', 'self', '.', 'fail', '(', '(', "'The error code, %s, is repeated'", '%', 'str', '(', 'code', ')', ')', ')', '#NEWLINE#', '#UNINDENT#', 'codes', '.', 'append', '(', 'code', ')']


All attention probs:

[0.013123929500579834, 0.013821909204125404, 0.051098696887493134, 0.013624395243823528, 0.009953783825039864, 0.011342354118824005, 0.009821339510381222, 0.020879795774817467, 0.008204654790461063, 0.008713689632713795, 0.01601622812449932, 0.009847364388406277, 0.013743006624281406, 0.007907724007964134, 0.015318882651627064, 0.007572532631456852, 0.011055695824325085, 0.0077918716706335545, 0.012875824235379696, 0.007575366646051407, 0.019665561616420746, 0.006440001539885998, 0.010423517785966396, 0.006083449348807335, 0.006765853147953749, 0.004998743999749422, 0.016959290951490402, 0.004540046211332083, 0.012414531782269478, 0.004826383199542761, 0.014051985926926136, 0.005188612267374992, 0.00847985316067934, 0.004944790620356798, 0.013066647574305534, 0.004719980526715517, 0.010045114904642105, 0.005193415563553572, 0.006196909584105015, 0.0047940658405423164, 0.005749615374952555, 0.005200977437198162, 0.0068919905461370945, 0.005571902729570866, 0.005968016106635332, 0.004840560257434845, 0.005473004188388586, 0.004124715458601713, 0.0033771120943129063, 0.004361932165920734, 0.005148735828697681, 0.003121138783171773, 0.00504762027412653, 0.016750255599617958, 0.004253551829606295, 0.004409507382661104, 0.0033979692962020636, 0.00505400262773037, 0.004550436045974493, 0.01697922684252262, 0.006731181871145964, 0.025284284725785255, 0.005217576399445534, 0.005412164144217968, 0.006148841232061386, 0.023030804470181465, 0.006654154509305954, 0.005866348743438721, 0.004856345243752003, 0.010368064977228642, 0.003045470919460058, 0.005071533378213644, 0.005849144887179136, 0.003850500797852874, 0.0028818456921726465, 0.0057045649737119675, 0.006812358275055885, 0.003761610947549343, 0.07505326718091965, 0.004144371021538973, 0.01872164011001587, 0.002725343219935894, 0.0041473982855677605, 0.004912964534014463, 0.005281591322273016, 0.013719956390559673, 0.003520167898386717, 0.0066025941632688046, 0.005269343964755535, 0.004949649330228567, 0.0039337980560958385, 0.004042157903313637, 0.005346508696675301, 0.0051218974404037, 0.018980659544467926, 0.005074045155197382, 0.005585629492998123, 0.006300957873463631, 0.010356259532272816, 0.008610379882156849, 0.01894521713256836, 0.004762866534292698, 0.007887612096965313, 0.011142941191792488, 0.03202562779188156, 0.00592828681692481]


Top-k source tokens:

['self', 'self', 'code', 'errors', 'code', 'errors', 'FilterError', 'code', 'codes', 'codes']


Top-k attention probs:

[0.07505326718091965, 0.051098696887493134, 0.03202562779188156, 0.025284284725785255, 0.023030804470181465, 0.020879795774817467, 0.019665561616420746, 0.018980659544467926, 0.01894521713256836, 0.01872164011001587]
