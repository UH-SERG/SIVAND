
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "def get_current_user(", "self", ",", "cached", "=", "True", ")", ":", "#NEWLINE#", "#INDENT#", "if", "cached", ":", "#NEWLINE#", "#INDENT#", "return", "session", ".", "get", "(", "'username'", ")", "#NEWLINE#", "#UNINDENT#", "try", ":", "#NEWLINE#", "#INDENT#", "data", "=", "self", ".", "request", "(", "{", "#NEWLINE#", "#INDENT#", "'action'", ":", "'query'", ",", "#NEWLINE#", "'meta'", ":", "'userinfo'", ",", "#NEWLINE#", "#UNINDENT#", "}", ")", "#NEWLINE#", "session", "[", "'username'", "]", "=", "self", "[", "'query'", "]", "[", "'userinfo'", "]", "[", "'name'", "]", "#NEWLINE#", "#UNINDENT#", "except", "KeyError", ":", "#NEWLINE#", "#INDENT#", "session", "[", "'username'", "]", "=", "None", "#NEWLINE#", "if", "(", "data", "[", "'error'", "]", "[", "'code'", "]", "==", "'mwoauth-invalid-authorization'", ")", ":", "#NEWLINE#", "#INDENT#", "flash", "(", "'Access to this application was revoked. Please re-login!'", ")", "#NEWLINE#", "#UNINDENT#", "else", ":", "#NEWLINE#", "#INDENT#", "raise", "#NEWLINE#", "#UNINDENT#", "#UNINDENT#", "except", "OAuthException", ":", "#NEWLINE#", "#INDENT#", "session", "[", "'username'", "]", "=", "None", "#NEWLINE#", "#UNINDENT#", "return", "session", "[", "'username'", "]"], "error_location": [57], "repair_targets": [29, 83], "repair_candidates": [2, 31, 57, 29, 83, 4, 12], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "valhallasw/flask-mwoauth/flask_mwoauth/__init__.py", "license": "mit", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00000-of-00300", "js_count": 317, "results": {"model": "transformer", "prob": {"loc": [[0.0004481770738493651, 9.130076250585262e-09, 4.1124152971860894e-09, 2.7240454336663333e-10, 2.0158445579454565e-08, 4.679256981887647e-10, 1.0096280478322228e-09, 2.4002186349569854e-10, 2.7580221440004493e-10, 3.4492678158137835e-10, 3.2755323453592666e-10, 4.4993625492040223e-10, 9.395945198775735e-06, 1.0060449140425476e-09, 1.4206624765478182e-09, 6.513975470134881e-10, 2.3764851198038173e-10, 6.255885409700568e-08, 1.941369981439678e-10, 6.379727857108719e-10, 4.404223097331794e-10, 5.4076092936838904e-08, 1.6422957438422259e-09, 1.9972323794803515e-09, 6.118239803676317e-10, 3.3822430967056505e-10, 5.265466951343001e-10, 9.218860119730721e-10, 5.423396731707442e-10, 9.038578241415962e-08, 6.519805251237187e-10, 9.889756569236852e-09, 2.502878182486512e-10, 1.0579917497643976e-10, 6.39142383462854e-09, 6.68120936353489e-09, 1.7834468346578092e-09, 7.709848315329282e-10, 1.5462791047582414e-09, 3.3550278111249554e-09, 5.961031224188673e-09, 1.167426599835153e-09, 2.1782335934972252e-09, 1.2619665312740835e-09, 2.811616273135087e-09, 1.4902967748753326e-08, 4.124079300282801e-09, 6.4771823460318956e-09, 3.902292267099483e-09, 2.6418032206265707e-09, 2.401277621189024e-09, 1.5898469207797916e-09, 4.722596003148283e-08, 1.1466975147200742e-09, 2.6623860893693063e-09, 1.0558875995769768e-09, 9.99272997681544e-10, 0.999508261680603, 5.4814737637798316e-08, 4.772532591346135e-09, 1.4762306932425417e-08, 1.678897803003565e-07, 1.137787375427024e-08, 9.680268142631121e-09, 1.0526492388862607e-07, 4.3359684731569814e-09, 1.7084439418724173e-09, 1.3808694188099935e-09, 9.180817772680427e-10, 1.4452244956331128e-09, 6.901921256741161e-10, 1.4331245079546306e-09, 1.647789793501886e-09, 1.2514176361833051e-09, 1.068779553747845e-07, 7.188154516057921e-09, 4.179128598735815e-09, 4.86018736367555e-09, 1.0954963158837927e-08, 2.1804367200672914e-09, 7.571292925945272e-09, 3.1311391257560217e-09, 8.636942272488568e-10, 1.865151170932222e-05, 6.19272739754706e-08, 6.344250014223007e-09, 5.786694678988624e-09, 2.8493218451330904e-08, 4.704495459861846e-09, 1.6539267733151064e-09, 3.978756879519096e-09, 1.435984575692828e-08, 2.2115234088460056e-09, 3.6144034432084027e-09, 1.3802348153291177e-09, 7.901026499723685e-10, 4.5067682918897845e-09, 8.131179063397553e-10, 3.5456275782053126e-07, 3.1035918279798125e-09, 3.931960534941936e-09, 2.482567929007473e-09, 1.5759649141244836e-09, 2.04997219199754e-09, 2.3972868135047065e-09, 1.6375538702817494e-09, 1.0078926582224312e-09, 1.9026307196412517e-09, 1.971995677862992e-09, 1.5486699700417716e-09, 2.8963167419959746e-09, 3.1045213066960287e-09, 1.0184456611384007e-09, 1.5555974286485252e-09, 8.564059461591e-10, 2.829386858138605e-08, 4.059429237202039e-09, 3.522751867990337e-09, 5.399904412506373e-10, 3.089335010031391e-09, 2.0521708776755077e-09, 2.5137634196426006e-09, 1.5440511091924236e-09, 2.217659528236382e-10, 1.3997888345329557e-05, 3.119687841390828e-09, 1.2057125964304305e-08, 1.4117161883930862e-09]], "pointer": [[0.0, 0.0, 7.868019565648865e-06, 0.0, 0.012311833910644054, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.033203523606061935, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7393715381622314, 0.0, 6.834419963297478e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.477358743315563e-06, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.21510058641433716, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.9544721245765686]}, "loss": [0.0004917366313748062, 0.046596840023994446], "acc": [0.0, 1.0, 1.0, 1.0]}}


All source tokens:

['#NEWLINE#', 'def get_current_user(', 'self', ',', 'cached', '=', 'True', ')', ':', '#NEWLINE#', '#INDENT#', 'if', 'cached', ':', '#NEWLINE#', '#INDENT#', 'return', 'session', '.', 'get', '(', "'username'", ')', '#NEWLINE#', '#UNINDENT#', 'try', ':', '#NEWLINE#', '#INDENT#', 'data', '=', 'self', '.', 'request', '(', '{', '#NEWLINE#', '#INDENT#', "'action'", ':', "'query'", ',', '#NEWLINE#', "'meta'", ':', "'userinfo'", ',', '#NEWLINE#', '#UNINDENT#', '}', ')', '#NEWLINE#', 'session', '[', "'username'", ']', '=', 'self', '[', "'query'", ']', '[', "'userinfo'", ']', '[', "'name'", ']', '#NEWLINE#', '#UNINDENT#', 'except', 'KeyError', ':', '#NEWLINE#', '#INDENT#', 'session', '[', "'username'", ']', '=', 'None', '#NEWLINE#', 'if', '(', 'data', '[', "'error'", ']', '[', "'code'", ']', '==', "'mwoauth-invalid-authorization'", ')', ':', '#NEWLINE#', '#INDENT#', 'flash', '(', "'Access to this application was revoked. Please re-login!'", ')', '#NEWLINE#', '#UNINDENT#', 'else', ':', '#NEWLINE#', '#INDENT#', 'raise', '#NEWLINE#', '#UNINDENT#', '#UNINDENT#', 'except', 'OAuthException', ':', '#NEWLINE#', '#INDENT#', 'session', '[', "'username'", ']', '=', 'None', '#NEWLINE#', '#UNINDENT#', 'return', 'session', '[', "'username'", ']']


All attention probs:

[0.013462773524224758, 0.009858226403594017, 0.05128847062587738, 0.01609148271381855, 0.024905437603592873, 0.012296182103455067, 0.012627908028662205, 0.00956722628325224, 0.008330042473971844, 0.009499584324657917, 0.009989443235099316, 0.01041368953883648, 0.032591965049505234, 0.007533469703048468, 0.007953238673508167, 0.007888990454375744, 0.00892311055213213, 0.01564056985080242, 0.005685541778802872, 0.006783861666917801, 0.006377293262630701, 0.009952361695468426, 0.004857467021793127, 0.006751224398612976, 0.006931156385689974, 0.006590802222490311, 0.005064146127551794, 0.0050920103676617146, 0.004897411447018385, 0.020410291850566864, 0.004574640188366175, 0.015496223233640194, 0.0037515575531870127, 0.004288534168154001, 0.004424002021551132, 0.004956837277859449, 0.005538599099963903, 0.0054018874652683735, 0.00656189164146781, 0.004301332402974367, 0.005132413003593683, 0.00410723639652133, 0.0065894960425794125, 0.005911991000175476, 0.004734130576252937, 0.004469198640435934, 0.004235161002725363, 0.004654136020690203, 0.005049987230449915, 0.0049119568429887295, 0.004493264947086573, 0.005095698405057192, 0.009342486970126629, 0.004201473202556372, 0.0060691446997225285, 0.0033696896862238646, 0.0038034655153751373, 0.0679529681801796, 0.003233695635572076, 0.004255548119544983, 0.003627178492024541, 0.0038370955735445023, 0.0033787142019718885, 0.0035392753779888153, 0.003806155873462558, 0.005819969344884157, 0.0036408945452421904, 0.005446253810077906, 0.00552598899230361, 0.009076831862330437, 0.00772045599296689, 0.004726076032966375, 0.004969913978129625, 0.004556981381028891, 0.01055156346410513, 0.006013482343405485, 0.0067126452922821045, 0.0034136816393584013, 0.003533637151122093, 0.002604817971587181, 0.005022540222853422, 0.006125965621322393, 0.003118368564173579, 0.02132331393659115, 0.0035921914968639612, 0.004574498627334833, 0.004204374738037586, 0.0046852887608110905, 0.0054905712604522705, 0.0032386034727096558, 0.0035199972335249186, 0.005678683519363403, 0.0023995365481823683, 0.0040025869384408, 0.004357276018708944, 0.0052316635847091675, 0.008836232125759125, 0.007633429020643234, 0.010824558325111866, 0.0054250434041023254, 0.006171149667352438, 0.0056059155613183975, 0.008825226686894894, 0.006424312945455313, 0.006088905036449432, 0.004898764658719301, 0.005262692924588919, 0.0048803528770804405, 0.004244555253535509, 0.004606849048286676, 0.0065612769685685635, 0.014068727381527424, 0.006068193819373846, 0.0057131387293338776, 0.0051427544094622135, 0.010577199049293995, 0.0037751253694295883, 0.006243744399398565, 0.0033145733177661896, 0.004741118289530277, 0.004110719542950392, 0.006288561504334211, 0.00620014825835824, 0.008336380124092102, 0.02556069754064083, 0.007937714457511902, 0.008026786148548126, 0.009374069049954414]


Top-k source tokens:

['self', 'self', 'cached', 'session', 'cached', 'data', 'data', ',', 'session', 'self']


Top-k attention probs:

[0.0679529681801796, 0.05128847062587738, 0.032591965049505234, 0.02556069754064083, 0.024905437603592873, 0.02132331393659115, 0.020410291850566864, 0.01609148271381855, 0.01564056985080242, 0.015496223233640194]
