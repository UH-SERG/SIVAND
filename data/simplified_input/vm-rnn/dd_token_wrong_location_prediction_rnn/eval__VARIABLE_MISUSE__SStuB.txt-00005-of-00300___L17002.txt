
Original sample:

{"has_bug": true, "bug_kind": 1, "bug_kind_name": "VARIABLE_MISUSE", "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "#NEWLINE#", "return", "(", "select_int", "(", "(", "'select count(%s) from %s %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", ")", ")", ",", "*", "args", ")", "if", "where", "else", "select_int", "(", "(", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__", ")", ")", ")", ")"], "error_location": [31], "repair_targets": [5, 25, 51, 57], "repair_candidates": [5, 25, 51, 57, 10, 40, 7, 31, 35, 43], "provenances": [{"datasetProvenance": {"datasetName": "ETHPy150Open", "filepath": "michaelliao/transwarp/transwarp/db.py", "license": "apache-2.0", "note": "license: bigquery_api"}}], "txt_file": "eval__VARIABLE_MISUSE__SStuB.txt-00005-of-00300", "js_count": 17002, "results": {"model": "rnn", "prob": {"loc": [[0.08297412842512131, 8.0451727626496e-06, 1.3592850791610545e-06, 2.8826673315052176e-07, 9.014788915351346e-10, 3.7732019109171233e-07, 1.2962146911377204e-09, 1.893862844326577e-07, 2.855080394326137e-09, 2.7828053195122493e-09, 9.630372005631216e-06, 1.1431664503902539e-08, 5.616855869305937e-09, 2.0279466639294697e-07, 5.127725799525251e-08, 9.829125069416023e-09, 6.30461869377541e-08, 6.984439249180241e-09, 6.37461212704693e-08, 9.41140285704023e-08, 2.434165935483179e-08, 9.999391181736428e-08, 1.853324782530308e-08, 2.0769478581428302e-08, 4.261035613239983e-08, 0.1968097686767578, 3.837143225382533e-08, 1.4220570847101044e-05, 4.114795046916697e-07, 7.613421360019856e-08, 9.950994126484147e-07, 0.28364670276641846, 2.2923668439034373e-06, 9.781175322132185e-05, 9.587338922756317e-08, 0.009729857556521893, 9.77566287474474e-07, 3.0047522159293294e-07, 1.2332897085798322e-06, 6.287125984272279e-07, 0.0032908557914197445, 6.759645287957028e-08, 8.771802413320984e-07, 0.0018556781578809023, 1.6257622803550476e-08, 2.2088016748966766e-07, 3.945679694083992e-08, 9.763570005816291e-07, 3.949027771454894e-09, 1.3540483223550837e-07, 1.0344904666226284e-07, 0.006029313430190086, 2.395768472496229e-09, 9.682532436272595e-06, 2.1872359923236218e-07, 2.646712573550758e-07, 1.5849629164677026e-07, 0.4155077636241913, 1.9252175320616516e-07, 2.7873302315128967e-06, 2.8411857755372694e-08, 1.0943155359655066e-07, 2.525594879898563e-07, 1.0497817015675537e-07]], "pointer": [[0.0, 0.0, 0.0, 0.0, 0.0, 0.009720017202198505, 0.0, 0.11807620525360107, 0.0, 0.0, 0.02180088870227337, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8406404256820679, 0.0, 0.0, 0.0, 0.0, 0.0, 0.005203352775424719, 0.0, 0.0, 0.0, 0.0002487219462636858, 0.0, 0.0, 0.0, 0.0, 0.001999532338231802, 0.0, 0.0, 0.001599754672497511, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00023124899598769844, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000479857757454738, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], "target": [0.8510715365409851]}, "loss": [1.2600257396697998, 0.16125908493995667], "acc": [0.0, 0.0, 1.0, 0.0]}, "wrong_error_location": [57]}


Trace of simplified code(s):

{"result": {"time": "2021-02-21 12:01:33.254635", "n_pass": [1, 1, 1], "n_token": 64, "loss": [0.8782539963722229, 0.16125908493995667], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "#NEWLINE#", "return", "(", "select_int", "(", "(", "'select count(%s) from %s %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", ")", ")", ",", "*", "args", ")", "if", "where", "else", "select_int", "(", "(", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__", ")", ")", ")", ")"]}}
{"position": {"error_location": 57, "repair_targets": [5, 25, 51, 57], "repair_candidates": [5, 25, 51, 57, 10, 40, 7, 31, 35, 43]}}
{"prediction": {"error_location": 0.4155077636241913, "repair_targets": [0.009720017202198505, 0.8406404256820679, 0.00023124899598769844, 0.000479857757454738], "repair_candidates": [0.009720017202198505, 0.11807620525360107, 0.02180088870227337, 0.8406404256820679, 0.005203352775424719, 0.0002487219462636858, 0.001999532338231802, 0.001599754672497511, 0.00023124899598769844, 0.000479857757454738], "target_probs": 0.8510715365409851}}


{"result": {"time": "2021-02-21 12:01:33.333514", "n_pass": [22, 2, 2], "n_token": 56, "loss": [0.5191319584846497, 0.06844871491193771], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", ")", ")", ",", "*", "args", ")", "if", "where", "else", "select_int", "(", "(", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__", ")", ")", ")", ")"]}}
{"position": {"error_location": 49, "repair_targets": [5, 17, 43, 49], "repair_candidates": [5, 17, 43, 49, 10, 32, 7, 23, 27, 35]}}
{"prediction": {"error_location": 0.5950368642807007, "repair_targets": [0.01121093425899744, 0.9220126271247864, 0.00016754984972067177, 0.0004502295923884958], "repair_candidates": [0.01121093425899744, 0.04629039764404297, 0.01156042143702507, 0.9220126271247864, 0.004999925382435322, 0.00011286976950941607, 0.0014723765198141336, 0.0017227259231731296, 0.00016754984972067177, 0.0004502295923884958], "target_probs": 0.933841347694397}}


{"result": {"time": "2021-02-21 12:01:33.413085", "n_pass": [46, 3, 3], "n_token": 52, "loss": [0.45438215136528015, 0.0544445775449276], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "else", "select_int", "(", "(", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__", ")", ")", ")", ")"]}}
{"position": {"error_location": 45, "repair_targets": [5, 17, 39, 45], "repair_candidates": [5, 17, 39, 45, 10, 28, 7, 23, 27, 31]}}
{"prediction": {"error_location": 0.6348400712013245, "repair_targets": [0.012377043254673481, 0.9341453909873962, 0.00016124274407047778, 0.000327364046825096], "repair_candidates": [0.012377043254673481, 0.036680907011032104, 0.010513722896575928, 0.9341453909873962, 0.0046467771753668785, 0.0004181955591775477, 0.00045385389239527285, 0.00027555733686313033, 0.00016124274407047778, 0.000327364046825096], "target_probs": 0.9470109939575195}}


{"result": {"time": "2021-02-21 12:01:33.487360", "n_pass": [48, 4, 4], "n_token": 48, "loss": [0.7725780010223389, 0.08880500495433807], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__", ")", ")", ")", ")"]}}
{"position": {"error_location": 41, "repair_targets": [5, 17, 35, 41], "repair_candidates": [5, 17, 35, 41, 10, 28, 7, 23, 27, 31]}}
{"prediction": {"error_location": 0.4618209898471832, "repair_targets": [0.023360714316368103, 0.8907138109207153, 0.00023612134100403637, 0.0007133001345209777], "repair_candidates": [0.023360714316368103, 0.06261776387691498, 0.01291095744818449, 0.8907138109207153, 0.0058719702064991, 0.0016145446570590138, 0.001288574654608965, 0.0006723507540300488, 0.00023612134100403637, 0.0007133001345209777], "target_probs": 0.9150239825248718}}


{"result": {"time": "2021-02-21 12:01:33.631497", "n_pass": [52, 6, 5], "n_token": 44, "loss": [0.5060162544250488, 0.24106544256210327], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "classmethod", "#NEWLINE#", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__"]}}
{"position": {"error_location": 41, "repair_targets": [5, 17, 35, 41], "repair_candidates": [5, 17, 35, 41, 10, 28, 7, 23, 27, 31]}}
{"prediction": {"error_location": 0.6028925776481628, "repair_targets": [0.026515167206525803, 0.7584065794944763, 0.00030210381373763084, 0.0005663361516781151], "repair_candidates": [0.026515167206525803, 0.13826397061347961, 0.028788715600967407, 0.7584065794944763, 0.029344240203499794, 0.010047522373497486, 0.00656744372099638, 0.001197916455566883, 0.00030210381373763084, 0.0005663361516781151], "target_probs": 0.785790205001831}}


{"result": {"time": "2021-02-21 12:01:33.986272", "n_pass": [87, 11, 6], "n_token": 42, "loss": [0.37542131543159485, 0.5646783113479614], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ".", "name", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__"]}}
{"position": {"error_location": 39, "repair_targets": [3, 15, 33, 39], "repair_candidates": [3, 15, 33, 39, 8, 26, 5, 21, 25, 29]}}
{"prediction": {"error_location": 0.6869997978210449, "repair_targets": [0.00867838691920042, 0.5587883591651917, 0.000453775777714327, 0.0006225247634574771], "repair_candidates": [0.00867838691920042, 0.34148573875427246, 0.04609832540154457, 0.5587883591651917, 0.025638410821557045, 0.009973342530429363, 0.006264043506234884, 0.0019970666617155075, 0.000453775777714327, 0.0006225247634574771], "target_probs": 0.568543016910553}}


{"result": {"time": "2021-02-21 12:01:34.339038", "n_pass": [96, 16, 7], "n_token": 40, "loss": [0.2691858112812042, 0.3697129487991333], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "'select count(%s) from %s'", "%", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__"]}}
{"position": {"error_location": 37, "repair_targets": [3, 15, 31, 37], "repair_candidates": [3, 15, 31, 37, 8, 24, 5, 19, 23, 27]}}
{"prediction": {"error_location": 0.764001190662384, "repair_targets": [0.012001600116491318, 0.6783437132835388, 0.0003461009473539889, 0.00024123357434291393], "repair_candidates": [0.012001600116491318, 0.2451152801513672, 0.038311392068862915, 0.6783437132835388, 0.01719791814684868, 0.003827652195468545, 0.002939445897936821, 0.001675684587098658, 0.0003461009473539889, 0.00024123357434291393], "target_probs": 0.6909326314926147}}


{"result": {"time": "2021-02-21 12:01:34.477238", "n_pass": [102, 18, 8], "n_token": 38, "loss": [0.38814225792884827, 0.4336386024951935], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", ":", "#NEWLINE#", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__"]}}
{"position": {"error_location": 35, "repair_targets": [3, 15, 29, 35], "repair_candidates": [3, 15, 29, 35, 8, 24, 5, 19, 23, 27]}}
{"prediction": {"error_location": 0.6783158779144287, "repair_targets": [0.017709417268633842, 0.6300826668739319, 0.00023145611339714378, 0.0001229224872076884], "repair_candidates": [0.017709417268633842, 0.28957244753837585, 0.04045294597744942, 0.6300826668739319, 0.018643811345100403, 0.0018977329600602388, 0.0008548353216610849, 0.00043176155304536223, 0.00023145611339714378, 0.0001229224872076884], "target_probs": 0.6481464505195618}}


{"result": {"time": "2021-02-21 12:01:34.885852", "n_pass": [113, 24, 9], "n_token": 36, "loss": [0.8665323853492737, 0.186296284198761], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls", ".", "__table__"]}}
{"position": {"error_location": 33, "repair_targets": [3, 13, 27, 33], "repair_candidates": [3, 13, 27, 33, 8, 22, 5, 17, 21, 25]}}
{"prediction": {"error_location": 0.42040684819221497, "repair_targets": [0.02286391519010067, 0.8068094849586487, 0.0002187614154536277, 0.000135464797494933], "repair_candidates": [0.02286391519010067, 0.14704647660255432, 0.013249042443931103, 0.8068094849586487, 0.00869002752006054, 0.00037862840690650046, 0.00025649642338976264, 0.0003516662691254169, 0.0002187614154536277, 0.000135464797494933], "target_probs": 0.8300276398658752}}


{"result": {"time": "2021-02-21 12:01:35.289475", "n_pass": [126, 30, 10], "n_token": 34, "loss": [0.4287619888782501, 0.5120660066604614], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", "#INDENT#", "\"\\n        Find by 'select count(*) from where ... ' and return one and only one result.\\n        \"", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls"]}}
{"position": {"error_location": 33, "repair_targets": [3, 13, 27, 33], "repair_candidates": [3, 13, 27, 33, 8, 22, 5, 17, 21, 25]}}
{"prediction": {"error_location": 0.651314914226532, "repair_targets": [0.023623421788215637, 0.575364887714386, 7.656076195416972e-05, 0.00019138520292472094], "repair_candidates": [0.023623421788215637, 0.18575519323349, 0.1786041557788849, 0.575364887714386, 0.019341900944709778, 0.01384559366852045, 0.003031511791050434, 0.0001653980725677684, 7.656076195416972e-05, 0.00019138520292472094], "target_probs": 0.5992562174797058}}


{"result": {"time": "2021-02-21 12:01:35.488539", "n_pass": [132, 33, 11], "n_token": 32, "loss": [0.375565767288208, 0.5518282651901245], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", ",", "where", ",", "*", "args", ")", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls"]}}
{"position": {"error_location": 31, "repair_targets": [3, 11, 25, 31], "repair_candidates": [3, 11, 25, 31, 8, 20, 5, 15, 19, 23]}}
{"prediction": {"error_location": 0.6869005560874939, "repair_targets": [0.02378559671342373, 0.5517760515213013, 9.207555558532476e-05, 0.00024222682986874133], "repair_candidates": [0.02378559671342373, 0.24607031047344208, 0.1430647224187851, 0.5517760515213013, 0.01789531111717224, 0.013730596750974655, 0.003111231839284301, 0.00023187618353404105, 9.207555558532476e-05, 0.00024222682986874133], "target_probs": 0.5758959650993347}}


{"result": {"time": "2021-02-21 12:01:37.120180", "n_pass": [207, 58, 12], "n_token": 31, "loss": [0.8562019467353821, 0.3815666437149048], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", "where", ",", "*", "args", ")", "(", "cls", ".", "__primary_key__", ",", "where", ".", "__table__", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls"]}}
{"position": {"error_location": 30, "repair_targets": [3, 10, 24, 30], "repair_candidates": [3, 10, 24, 30, 7, 19, 4, 14, 18, 22]}}
{"prediction": {"error_location": 0.42477232217788696, "repair_targets": [0.024077793583273888, 0.6584973931312561, 5.691720070899464e-05, 0.00015881510626059026], "repair_candidates": [0.024077793583273888, 0.20339372754096985, 0.09449341893196106, 0.6584973931312561, 0.01099272072315216, 0.006245254073292017, 0.001985415117815137, 9.863706509349868e-05, 5.691720070899464e-05, 0.00015881510626059026], "target_probs": 0.6827908754348755}}


{"result": {"time": "2021-02-21 12:01:37.701708", "n_pass": [219, 67, 13], "n_token": 30, "loss": [0.5011783838272095, 0.580843985080719], "accuracy": [0.0, 1.0, 1.0, 1.0]}}
{"sample": {"has_bug": true, "source_tokens": ["#NEWLINE#", "@", "def count(", "cls", "where", ",", "*", "args", ")", "(", "cls", ".", "__primary_key__", ",", "where", ".", ",", "where", "args", ")", "if", "where", "(", "cls", ".", "__primary_key__", ".", "name", ",", "cls"]}}
{"position": {"error_location": 29, "repair_targets": [3, 10, 23, 29], "repair_candidates": [3, 10, 23, 29, 7, 18, 4, 14, 17, 21]}}
{"prediction": {"error_location": 0.6058163642883301, "repair_targets": [0.025333141908049583, 0.5337475538253784, 0.00011584791354835033, 0.00022945916862227023], "repair_candidates": [0.025333141908049583, 0.27818506956100464, 0.13800743222236633, 0.5337475538253784, 0.0224293302744627, 0.0008973337826319039, 0.0009038905263878405, 0.00015095660637598485, 0.00011584791354835033, 0.00022945916862227023], "target_probs": 0.5594260096549988}}




Minimal simplified tokens:

['#NEWLINE#', '@', 'def count(', 'cls', 'where', ',', '*', 'args', ')', '(', 'cls', '.', '__primary_key__', ',', 'where', '.', ',', 'where', 'args', ')', 'if', 'where', '(', 'cls', '.', '__primary_key__', '.', 'name', ',', 'cls']
